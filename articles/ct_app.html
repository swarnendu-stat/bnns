<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using Bayesian Neural Networks in Clinical Trials â€¢ bnns</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using Bayesian Neural Networks in Clinical Trials">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bnns</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/bnns.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/ct_app.html">Using Bayesian Neural Networks in Clinical Trials</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/swarnendu-stat/bnns/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Using Bayesian Neural Networks in Clinical Trials</h1>
                        <h4 data-toc-skip class="author">Swarnendu
Chatterjee</h4>
            
            <h4 data-toc-skip class="date">2025-01-02</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/swarnendu-stat/bnns/blob/master/vignettes/ct_app.Rmd" class="external-link"><code>vignettes/ct_app.Rmd</code></a></small>
      <div class="d-none name"><code>ct_app.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Bayesian Neural Networks (BNNs) offer a robust framework for
prediction in clinical trials by providing posterior distributions of
predictions. This allows for probabilistic reasoning, such as computing
the probability that a treatment achieves a certain efficacy threshold
or proportion of success.</p>
<p>In this vignette, we: 1. Illustrate data preparation for a clinical
trial setting. 2. Fit a BNN to simulate clinical trial outcomes. 3.
Leverage posterior distributions for decision-making, such as
calculating posterior probabilities of treatment success.</p>
<hr>
</div>
<div class="section level2">
<h2 id="data-preparation">1. Data Preparation<a class="anchor" aria-label="anchor" href="#data-preparation"></a>
</h2>
<p>Consider a hypothetical clinical trial comparing the efficacy of a
new treatment against a placebo. The response variable is binary,
representing treatment success (1) or failure (0).</p>
<div class="section level3">
<h3 id="simulating-data">Simulating Data<a class="anchor" aria-label="anchor" href="#simulating-data"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Simulate predictor variables (e.g., patient covariates)</span></span>
<span><span class="va">n_subjects</span> <span class="op">&lt;-</span> <span class="fl">100</span></span>
<span><span class="va">Age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">n_subjects</span>, <span class="fl">18</span>, <span class="fl">50</span><span class="op">)</span> <span class="co"># Age in years</span></span>
<span><span class="va">Dose</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">n_subjects</span>, <span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span> <span class="co"># Dose levels</span></span>
<span><span class="va">Severity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">n_subjects</span>, <span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span> <span class="co"># Baseline severity (arbitrary scale)</span></span>
<span></span>
<span><span class="co"># Define true probabilities using a nonlinear function</span></span>
<span><span class="va">beta_0</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="va">beta_1</span> <span class="op">&lt;-</span> <span class="fl">0.3</span></span>
<span><span class="va">beta_2</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">0.1</span></span>
<span><span class="va">beta_3</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">0.02</span></span>
<span><span class="va">beta_4</span> <span class="op">&lt;-</span> <span class="fl">0.005</span></span>
<span></span>
<span><span class="va">logit_p</span> <span class="op">&lt;-</span> <span class="va">beta_0</span> <span class="op">+</span> <span class="va">beta_1</span> <span class="op">*</span> <span class="va">Dose</span> <span class="op">+</span> <span class="va">beta_2</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">Severity</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="va">beta_3</span> <span class="op">*</span> <span class="va">Age</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="va">beta_4</span> <span class="op">*</span> <span class="op">(</span><span class="va">Age</span> <span class="op">*</span> <span class="va">Dose</span><span class="op">)</span></span>
<span><span class="va">p_success</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">logit_p</span><span class="op">)</span><span class="op">)</span> <span class="co"># Sigmoid transformation</span></span>
<span></span>
<span><span class="co"># Simulate binary outcomes</span></span>
<span><span class="va">Success</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span><span class="va">n_subjects</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="va">p_success</span><span class="op">)</span></span>
<span></span>
<span><span class="va">trial_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind.data.frame</a></span><span class="op">(</span><span class="va">Success</span>, <span class="va">Age</span>, <span class="va">Dose</span>, <span class="va">Severity</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Split into training and testing</span></span>
<span><span class="va">train_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">n_subjects</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">0.8</span> <span class="op">*</span> <span class="va">n_subjects</span><span class="op">)</span></span>
<span><span class="va">training_data</span> <span class="op">&lt;-</span> <span class="va">trial_data</span><span class="op">[</span><span class="va">train_idx</span>, <span class="op">]</span></span>
<span><span class="va">test_data</span> <span class="op">&lt;-</span> <span class="va">trial_data</span><span class="op">[</span><span class="op">-</span><span class="va">train_idx</span>, <span class="op">]</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="fitting-a-bayesian-neural-network">2. Fitting a Bayesian Neural Network<a class="anchor" aria-label="anchor" href="#fitting-a-bayesian-neural-network"></a>
</h2>
<p>Fit a BNN to the simulated data. We use a binary classification model
with a logistic sigmoid activation for the output layer.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fit a BNN</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bnns.html">bnns</a></span><span class="op">(</span></span>
<span>  formula <span class="op">=</span> <span class="va">Success</span> <span class="op">~</span> <span class="op">-</span><span class="fl">1</span> <span class="op">+</span> <span class="va">.</span>,</span>
<span>  data <span class="op">=</span> <span class="va">training_data</span>,</span>
<span>  L <span class="op">=</span> <span class="fl">2</span>, <span class="co"># Number of hidden layers</span></span>
<span>  nodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span>, <span class="fl">8</span><span class="op">)</span>, <span class="co"># Nodes per layer</span></span>
<span>  act_fn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>, <span class="co"># Activation functions for hidden layers</span></span>
<span>  out_act_fn <span class="op">=</span> <span class="fl">2</span>, <span class="co"># Output activation: logistic sigmoid</span></span>
<span>  iter <span class="op">=</span> <span class="fl">2e2</span>, <span class="co"># Bayesian sampling iterations</span></span>
<span>  warmup <span class="op">=</span> <span class="fl">1e2</span>, <span class="co"># Warmup iterations</span></span>
<span>  chains <span class="op">=</span> <span class="fl">1</span> <span class="co"># Number of MCMC chains</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in get(paste0(generic, ".", class), envir = get_method_env()) : </span></span>
<span><span class="co">#&gt;   object 'type_sum.accel' not found</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; TRANSLATING MODEL '' FROM Stan CODE TO C++ CODE NOW.</span></span>
<span><span class="co">#&gt; OS: x86_64, linux-gnu; rstan: 2.32.6; Rcpp: 1.0.13.1; inline: 0.3.20</span></span>
<span><span class="co">#&gt; Trying to compile a simple C file</span></span>
<span><span class="co">#&gt; Running /opt/R/4.4.2/lib/R/bin/R CMD SHLIB foo.c</span></span>
<span><span class="co">#&gt; using C compiler: â€˜gcc (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0â€™</span></span>
<span><span class="co">#&gt; gcc -I"/opt/R/4.4.2/lib/R/include" -DNDEBUG   -I"/home/runner/work/_temp/Library/Rcpp/include/"  -I"/home/runner/work/_temp/Library/RcppEigen/include/"  -I"/home/runner/work/_temp/Library/RcppEigen/include/unsupported"  -I"/home/runner/work/_temp/Library/BH/include" -I"/home/runner/work/_temp/Library/StanHeaders/include/src/"  -I"/home/runner/work/_temp/Library/StanHeaders/include/"  -I"/home/runner/work/_temp/Library/RcppParallel/include/"  -I"/home/runner/work/_temp/Library/rstan/include" -DEIGEN_NO_DEBUG  -DBOOST_DISABLE_ASSERTS  -DBOOST_PENDING_INTEGER_LOG2_HPP  -DSTAN_THREADS  -DUSE_STANC3 -DSTRICT_R_HEADERS  -DBOOST_PHOENIX_NO_VARIADIC_EXPRESSION  -D_HAS_AUTO_PTR_ETC=0  -include '/home/runner/work/_temp/Library/StanHeaders/include/stan/math/prim/fun/Eigen.hpp'  -D_REENTRANT -DRCPP_PARALLEL_USE_TBB=1   -I/usr/local/include    -fpic  -g -O2  -c foo.c -o foo.o</span></span>
<span><span class="co">#&gt; In file included from /home/runner/work/_temp/Library/RcppEigen/include/Eigen/Core:19,</span></span>
<span><span class="co">#&gt;                  from /home/runner/work/_temp/Library/RcppEigen/include/Eigen/Dense:1,</span></span>
<span><span class="co">#&gt;                  from /home/runner/work/_temp/Library/StanHeaders/include/stan/math/prim/fun/Eigen.hpp:22,</span></span>
<span><span class="co">#&gt;                  from &lt;command-line&gt;:</span></span>
<span><span class="co">#&gt; /home/runner/work/_temp/Library/RcppEigen/include/Eigen/src/Core/util/Macros.h:679:10: fatal error: cmath: No such file or directory</span></span>
<span><span class="co">#&gt;   679 | #include &lt;cmath&gt;</span></span>
<span><span class="co">#&gt;       |          ^~~~~~~</span></span>
<span><span class="co">#&gt; compilation terminated.</span></span>
<span><span class="co">#&gt; make: *** [/opt/R/4.4.2/lib/R/etc/Makeconf:195: foo.o] Error 1</span></span>
<span><span class="co">#&gt;  &gt;&gt; setting environment variables: </span></span>
<span><span class="co">#&gt; PKG_LIBS =  '/home/runner/work/_temp/Library/rstan/lib//libStanServices.a' -L'/home/runner/work/_temp/Library/StanHeaders/lib/' -lStanHeaders -L'/home/runner/work/_temp/Library/RcppParallel/lib/' -ltbb </span></span>
<span><span class="co">#&gt; PKG_CPPFLAGS =   -I"/home/runner/work/_temp/Library/Rcpp/include/"  -I"/home/runner/work/_temp/Library/RcppEigen/include/"  -I"/home/runner/work/_temp/Library/RcppEigen/include/unsupported"  -I"/home/runner/work/_temp/Library/BH/include" -I"/home/runner/work/_temp/Library/StanHeaders/include/src/"  -I"/home/runner/work/_temp/Library/StanHeaders/include/"  -I"/home/runner/work/_temp/Library/RcppParallel/include/"  -I"/home/runner/work/_temp/Library/rstan/include" -DEIGEN_NO_DEBUG  -DBOOST_DISABLE_ASSERTS  -DBOOST_PENDING_INTEGER_LOG2_HPP  -DSTAN_THREADS  -DUSE_STANC3 -DSTRICT_R_HEADERS  -DBOOST_PHOENIX_NO_VARIADIC_EXPRESSION  -D_HAS_AUTO_PTR_ETC=0  -include '/home/runner/work/_temp/Library/StanHeaders/include/stan/math/prim/fun/Eigen.hpp'  -D_REENTRANT -DRCPP_PARALLEL_USE_TBB=1 </span></span>
<span><span class="co">#&gt;  &gt;&gt; Program source :</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    1 : </span></span>
<span><span class="co">#&gt;    2 : // includes from the plugin</span></span>
<span><span class="co">#&gt;    3 : // [[Rcpp::plugins(cpp14)]]</span></span>
<span><span class="co">#&gt;    4 : </span></span>
<span><span class="co">#&gt;    5 : </span></span>
<span><span class="co">#&gt;    6 : // user includes</span></span>
<span><span class="co">#&gt;    7 : #include &lt;Rcpp.h&gt;</span></span>
<span><span class="co">#&gt;    8 : using namespace Rcpp;</span></span>
<span><span class="co">#&gt;    9 : #ifndef MODELS_HPP</span></span>
<span><span class="co">#&gt;   10 : #define MODELS_HPP</span></span>
<span><span class="co">#&gt;   11 : #define STAN__SERVICES__COMMAND_HPP</span></span>
<span><span class="co">#&gt;   12 : #include &lt;rstan/rstaninc.hpp&gt;</span></span>
<span><span class="co">#&gt;   13 : #ifndef USE_STANC3</span></span>
<span><span class="co">#&gt;   14 : #define USE_STANC3</span></span>
<span><span class="co">#&gt;   15 : #endif</span></span>
<span><span class="co">#&gt;   16 : // Code generated by stanc v2.32.2</span></span>
<span><span class="co">#&gt;   17 : #include &lt;stan/model/model_header.hpp&gt;</span></span>
<span><span class="co">#&gt;   18 : namespace model227e48ad944d__namespace {</span></span>
<span><span class="co">#&gt;   19 : using stan::model::model_base_crtp;</span></span>
<span><span class="co">#&gt;   20 : using namespace stan::math;</span></span>
<span><span class="co">#&gt;   21 : stan::math::profile_map profiles__;</span></span>
<span><span class="co">#&gt;   22 : static constexpr std::array&lt;const char*, 64&gt; locations_array__ =</span></span>
<span><span class="co">#&gt;   23 :   {" (found before start of program)",</span></span>
<span><span class="co">#&gt;   24 :   " (in 'anon_model', line 11, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   25 :   " (in 'anon_model', line 12, column 2 to column 22)",</span></span>
<span><span class="co">#&gt;   26 :   " (in 'anon_model', line 13, column 2 to column 32)",</span></span>
<span><span class="co">#&gt;   27 :   " (in 'anon_model', line 14, column 2 to column 22)",</span></span>
<span><span class="co">#&gt;   28 :   " (in 'anon_model', line 15, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   29 :   " (in 'anon_model', line 16, column 2 to column 13)",</span></span>
<span><span class="co">#&gt;   30 :   " (in 'anon_model', line 19, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   31 :   " (in 'anon_model', line 20, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   32 :   " (in 'anon_model', line 21, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   33 :   " (in 'anon_model', line 22, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   34 :   " (in 'anon_model', line 23, column 2 to column 18)",</span></span>
<span><span class="co">#&gt;   35 :   " (in 'anon_model', line 24, column 2 to column 35)",</span></span>
<span><span class="co">#&gt;   36 :   " (in 'anon_model', line 28, column 7 to column 49)",</span></span>
<span><span class="co">#&gt;   37 :   " (in 'anon_model', line 27, column 27 to column 49)",</span></span>
<span><span class="co">#&gt;   38 :   " (in 'anon_model', line 27, column 7 to line 28, column 49)",</span></span>
<span><span class="co">#&gt;   39 :   " (in 'anon_model', line 26, column 27 to column 46)",</span></span>
<span><span class="co">#&gt;   40 :   " (in 'anon_model', line 26, column 7 to line 28, column 49)",</span></span>
<span><span class="co">#&gt;   41 :   " (in 'anon_model', line 25, column 22 to column 36)",</span></span>
<span><span class="co">#&gt;   42 :   " (in 'anon_model', line 25, column 2 to line 28, column 49)",</span></span>
<span><span class="co">#&gt;   43 :   " (in 'anon_model', line 29, column 2 to column 36)",</span></span>
<span><span class="co">#&gt;   44 :   " (in 'anon_model', line 33, column 7 to column 49)",</span></span>
<span><span class="co">#&gt;   45 :   " (in 'anon_model', line 32, column 27 to column 49)",</span></span>
<span><span class="co">#&gt;   46 :   " (in 'anon_model', line 32, column 7 to line 33, column 49)",</span></span>
<span><span class="co">#&gt;   47 :   " (in 'anon_model', line 31, column 27 to column 46)",</span></span>
<span><span class="co">#&gt;   48 :   " (in 'anon_model', line 31, column 7 to line 33, column 49)",</span></span>
<span><span class="co">#&gt;   49 :   " (in 'anon_model', line 30, column 22 to column 36)",</span></span>
<span><span class="co">#&gt;   50 :   " (in 'anon_model', line 30, column 2 to line 33, column 49)",</span></span>
<span><span class="co">#&gt;   51 :   " (in 'anon_model', line 34, column 2 to column 29)",</span></span>
<span><span class="co">#&gt;   52 :   " (in 'anon_model', line 37, column 2 to column 45)",</span></span>
<span><span class="co">#&gt;   53 :   " (in 'anon_model', line 38, column 2 to column 34)",</span></span>
<span><span class="co">#&gt;   54 :   " (in 'anon_model', line 39, column 2 to column 45)",</span></span>
<span><span class="co">#&gt;   55 :   " (in 'anon_model', line 40, column 2 to column 34)",</span></span>
<span><span class="co">#&gt;   56 :   " (in 'anon_model', line 41, column 2 to column 37)",</span></span>
<span><span class="co">#&gt;   57 :   " (in 'anon_model', line 42, column 2 to column 37)",</span></span>
<span><span class="co">#&gt;   58 :   " (in 'anon_model', line 43, column 2 to column 29)",</span></span>
<span><span class="co">#&gt;   59 :   " (in 'anon_model', line 2, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   60 :   " (in 'anon_model', line 3, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   61 :   " (in 'anon_model', line 4, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   62 :   " (in 'anon_model', line 5, column 21 to column 22)",</span></span>
<span><span class="co">#&gt;   63 :   " (in 'anon_model', line 5, column 2 to column 24)",</span></span>
<span><span class="co">#&gt;   64 :   " (in 'anon_model', line 6, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   65 :   " (in 'anon_model', line 6, column 12 to column 13)",</span></span>
<span><span class="co">#&gt;   66 :   " (in 'anon_model', line 6, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   67 :   " (in 'anon_model', line 7, column 8 to column 9)",</span></span>
<span><span class="co">#&gt;   68 :   " (in 'anon_model', line 7, column 2 to column 35)",</span></span>
<span><span class="co">#&gt;   69 :   " (in 'anon_model', line 8, column 22 to column 23)",</span></span>
<span><span class="co">#&gt;   70 :   " (in 'anon_model', line 8, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   71 :   " (in 'anon_model', line 11, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   72 :   " (in 'anon_model', line 11, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;   73 :   " (in 'anon_model', line 12, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   74 :   " (in 'anon_model', line 13, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   75 :   " (in 'anon_model', line 13, column 19 to column 27)",</span></span>
<span><span class="co">#&gt;   76 :   " (in 'anon_model', line 14, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   77 :   " (in 'anon_model', line 15, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   78 :   " (in 'anon_model', line 19, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   79 :   " (in 'anon_model', line 19, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;   80 :   " (in 'anon_model', line 20, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   81 :   " (in 'anon_model', line 20, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;   82 :   " (in 'anon_model', line 21, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   83 :   " (in 'anon_model', line 21, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;   84 :   " (in 'anon_model', line 22, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   85 :   " (in 'anon_model', line 22, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;   86 :   " (in 'anon_model', line 23, column 9 to column 10)"};</span></span>
<span><span class="co">#&gt;   87 : class model227e48ad944d_ final : public model_base_crtp&lt;model227e48ad944d_&gt; {</span></span>
<span><span class="co">#&gt;   88 : private:</span></span>
<span><span class="co">#&gt;   89 :   int n;</span></span>
<span><span class="co">#&gt;   90 :   int m;</span></span>
<span><span class="co">#&gt;   91 :   int L;</span></span>
<span><span class="co">#&gt;   92 :   std::vector&lt;int&gt; nodes;</span></span>
<span><span class="co">#&gt;   93 :   Eigen::Matrix&lt;double,-1,-1&gt; X_data__;</span></span>
<span><span class="co">#&gt;   94 :   std::vector&lt;int&gt; y;</span></span>
<span><span class="co">#&gt;   95 :   std::vector&lt;int&gt; act_fn;</span></span>
<span><span class="co">#&gt;   96 :   int w1_2dim__;</span></span>
<span><span class="co">#&gt;   97 :   int b1_1dim__;</span></span>
<span><span class="co">#&gt;   98 :   int w2_1dim__;</span></span>
<span><span class="co">#&gt;   99 :   int w2_2dim__;</span></span>
<span><span class="co">#&gt;  100 :   int b2_1dim__;</span></span>
<span><span class="co">#&gt;  101 :   int w_out_1dim__;</span></span>
<span><span class="co">#&gt;  102 :   int z1_2dim__;</span></span>
<span><span class="co">#&gt;  103 :   int a1_2dim__;</span></span>
<span><span class="co">#&gt;  104 :   int z2_2dim__;</span></span>
<span><span class="co">#&gt;  105 :   int a2_2dim__;</span></span>
<span><span class="co">#&gt;  106 :   Eigen::Map&lt;Eigen::Matrix&lt;double,-1,-1&gt;&gt; X{nullptr, 0, 0};</span></span>
<span><span class="co">#&gt;  107 : public:</span></span>
<span><span class="co">#&gt;  108 :   ~model227e48ad944d_() {}</span></span>
<span><span class="co">#&gt;  109 :   model227e48ad944d_(stan::io::var_context&amp; context__, unsigned int</span></span>
<span><span class="co">#&gt;  110 :                      random_seed__ = 0, std::ostream* pstream__ = nullptr)</span></span>
<span><span class="co">#&gt;  111 :       : model_base_crtp(0) {</span></span>
<span><span class="co">#&gt;  112 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  113 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  114 :     boost::ecuyer1988 base_rng__ =</span></span>
<span><span class="co">#&gt;  115 :       stan::services::util::create_rng(random_seed__, 0);</span></span>
<span><span class="co">#&gt;  116 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  117 :     (void) base_rng__;</span></span>
<span><span class="co">#&gt;  118 :     static constexpr const char* function__ =</span></span>
<span><span class="co">#&gt;  119 :       "model227e48ad944d__namespace::model227e48ad944d_";</span></span>
<span><span class="co">#&gt;  120 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  121 :     (void) function__;</span></span>
<span><span class="co">#&gt;  122 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  123 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  124 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  125 :     try {</span></span>
<span><span class="co">#&gt;  126 :       int pos__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  127 :       pos__ = 1;</span></span>
<span><span class="co">#&gt;  128 :       current_statement__ = 36;</span></span>
<span><span class="co">#&gt;  129 :       context__.validate_dims("data initialization", "n", "int",</span></span>
<span><span class="co">#&gt;  130 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  131 :       n = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  132 :       current_statement__ = 36;</span></span>
<span><span class="co">#&gt;  133 :       n = context__.vals_i("n")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  134 :       current_statement__ = 36;</span></span>
<span><span class="co">#&gt;  135 :       stan::math::check_greater_or_equal(function__, "n", n, 1);</span></span>
<span><span class="co">#&gt;  136 :       current_statement__ = 37;</span></span>
<span><span class="co">#&gt;  137 :       context__.validate_dims("data initialization", "m", "int",</span></span>
<span><span class="co">#&gt;  138 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  139 :       m = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  140 :       current_statement__ = 37;</span></span>
<span><span class="co">#&gt;  141 :       m = context__.vals_i("m")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  142 :       current_statement__ = 37;</span></span>
<span><span class="co">#&gt;  143 :       stan::math::check_greater_or_equal(function__, "m", m, 1);</span></span>
<span><span class="co">#&gt;  144 :       current_statement__ = 38;</span></span>
<span><span class="co">#&gt;  145 :       context__.validate_dims("data initialization", "L", "int",</span></span>
<span><span class="co">#&gt;  146 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  147 :       L = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  148 :       current_statement__ = 38;</span></span>
<span><span class="co">#&gt;  149 :       L = context__.vals_i("L")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  150 :       current_statement__ = 38;</span></span>
<span><span class="co">#&gt;  151 :       stan::math::check_greater_or_equal(function__, "L", L, 1);</span></span>
<span><span class="co">#&gt;  152 :       current_statement__ = 39;</span></span>
<span><span class="co">#&gt;  153 :       stan::math::validate_non_negative_index("nodes", "L", L);</span></span>
<span><span class="co">#&gt;  154 :       current_statement__ = 40;</span></span>
<span><span class="co">#&gt;  155 :       context__.validate_dims("data initialization", "nodes", "int",</span></span>
<span><span class="co">#&gt;  156 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(L)});</span></span>
<span><span class="co">#&gt;  157 :       nodes = std::vector&lt;int&gt;(L, std::numeric_limits&lt;int&gt;::min());</span></span>
<span><span class="co">#&gt;  158 :       current_statement__ = 40;</span></span>
<span><span class="co">#&gt;  159 :       nodes = context__.vals_i("nodes");</span></span>
<span><span class="co">#&gt;  160 :       current_statement__ = 40;</span></span>
<span><span class="co">#&gt;  161 :       stan::math::check_greater_or_equal(function__, "nodes", nodes, 1);</span></span>
<span><span class="co">#&gt;  162 :       current_statement__ = 41;</span></span>
<span><span class="co">#&gt;  163 :       stan::math::validate_non_negative_index("X", "n", n);</span></span>
<span><span class="co">#&gt;  164 :       current_statement__ = 42;</span></span>
<span><span class="co">#&gt;  165 :       stan::math::validate_non_negative_index("X", "m", m);</span></span>
<span><span class="co">#&gt;  166 :       current_statement__ = 43;</span></span>
<span><span class="co">#&gt;  167 :       context__.validate_dims("data initialization", "X", "double",</span></span>
<span><span class="co">#&gt;  168 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n), static_cast&lt;size_t&gt;(m)});</span></span>
<span><span class="co">#&gt;  169 :       X_data__ = Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, m,</span></span>
<span><span class="co">#&gt;  170 :                    std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  171 :       new (&amp;X) Eigen::Map&lt;Eigen::Matrix&lt;double,-1,-1&gt;&gt;(X_data__.data(), n, m);</span></span>
<span><span class="co">#&gt;  172 :       {</span></span>
<span><span class="co">#&gt;  173 :         std::vector&lt;local_scalar_t__&gt; X_flat__;</span></span>
<span><span class="co">#&gt;  174 :         current_statement__ = 43;</span></span>
<span><span class="co">#&gt;  175 :         X_flat__ = context__.vals_r("X");</span></span>
<span><span class="co">#&gt;  176 :         current_statement__ = 43;</span></span>
<span><span class="co">#&gt;  177 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  178 :         current_statement__ = 43;</span></span>
<span><span class="co">#&gt;  179 :         for (int sym1__ = 1; sym1__ &lt;= m; ++sym1__) {</span></span>
<span><span class="co">#&gt;  180 :           current_statement__ = 43;</span></span>
<span><span class="co">#&gt;  181 :           for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  182 :             current_statement__ = 43;</span></span>
<span><span class="co">#&gt;  183 :             stan::model::assign(X, X_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  184 :               "assigning variable X", stan::model::index_uni(sym2__),</span></span>
<span><span class="co">#&gt;  185 :               stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  186 :             current_statement__ = 43;</span></span>
<span><span class="co">#&gt;  187 :             pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  188 :           }</span></span>
<span><span class="co">#&gt;  189 :         }</span></span>
<span><span class="co">#&gt;  190 :       }</span></span>
<span><span class="co">#&gt;  191 :       current_statement__ = 44;</span></span>
<span><span class="co">#&gt;  192 :       stan::math::validate_non_negative_index("y", "n", n);</span></span>
<span><span class="co">#&gt;  193 :       current_statement__ = 45;</span></span>
<span><span class="co">#&gt;  194 :       context__.validate_dims("data initialization", "y", "int",</span></span>
<span><span class="co">#&gt;  195 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n)});</span></span>
<span><span class="co">#&gt;  196 :       y = std::vector&lt;int&gt;(n, std::numeric_limits&lt;int&gt;::min());</span></span>
<span><span class="co">#&gt;  197 :       current_statement__ = 45;</span></span>
<span><span class="co">#&gt;  198 :       y = context__.vals_i("y");</span></span>
<span><span class="co">#&gt;  199 :       current_statement__ = 45;</span></span>
<span><span class="co">#&gt;  200 :       stan::math::check_greater_or_equal(function__, "y", y, 0);</span></span>
<span><span class="co">#&gt;  201 :       current_statement__ = 45;</span></span>
<span><span class="co">#&gt;  202 :       stan::math::check_less_or_equal(function__, "y", y, 1);</span></span>
<span><span class="co">#&gt;  203 :       current_statement__ = 46;</span></span>
<span><span class="co">#&gt;  204 :       stan::math::validate_non_negative_index("act_fn", "L", L);</span></span>
<span><span class="co">#&gt;  205 :       current_statement__ = 47;</span></span>
<span><span class="co">#&gt;  206 :       context__.validate_dims("data initialization", "act_fn", "int",</span></span>
<span><span class="co">#&gt;  207 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(L)});</span></span>
<span><span class="co">#&gt;  208 :       act_fn = std::vector&lt;int&gt;(L, std::numeric_limits&lt;int&gt;::min());</span></span>
<span><span class="co">#&gt;  209 :       current_statement__ = 47;</span></span>
<span><span class="co">#&gt;  210 :       act_fn = context__.vals_i("act_fn");</span></span>
<span><span class="co">#&gt;  211 :       current_statement__ = 47;</span></span>
<span><span class="co">#&gt;  212 :       stan::math::check_greater_or_equal(function__, "act_fn", act_fn, 1);</span></span>
<span><span class="co">#&gt;  213 :       current_statement__ = 48;</span></span>
<span><span class="co">#&gt;  214 :       stan::math::validate_non_negative_index("w1", "m", m);</span></span>
<span><span class="co">#&gt;  215 :       current_statement__ = 49;</span></span>
<span><span class="co">#&gt;  216 :       w1_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  217 :       current_statement__ = 49;</span></span>
<span><span class="co">#&gt;  218 :       w1_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  219 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  220 :       current_statement__ = 49;</span></span>
<span><span class="co">#&gt;  221 :       stan::math::validate_non_negative_index("w1", "nodes[1]", w1_2dim__);</span></span>
<span><span class="co">#&gt;  222 :       current_statement__ = 50;</span></span>
<span><span class="co">#&gt;  223 :       b1_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  224 :       current_statement__ = 50;</span></span>
<span><span class="co">#&gt;  225 :       b1_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  226 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  227 :       current_statement__ = 50;</span></span>
<span><span class="co">#&gt;  228 :       stan::math::validate_non_negative_index("b1", "nodes[1]", b1_1dim__);</span></span>
<span><span class="co">#&gt;  229 :       current_statement__ = 51;</span></span>
<span><span class="co">#&gt;  230 :       w2_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  231 :       current_statement__ = 51;</span></span>
<span><span class="co">#&gt;  232 :       w2_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  233 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  234 :       current_statement__ = 51;</span></span>
<span><span class="co">#&gt;  235 :       stan::math::validate_non_negative_index("w2", "nodes[1]", w2_1dim__);</span></span>
<span><span class="co">#&gt;  236 :       current_statement__ = 52;</span></span>
<span><span class="co">#&gt;  237 :       w2_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  238 :       current_statement__ = 52;</span></span>
<span><span class="co">#&gt;  239 :       w2_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  240 :                     stan::model::index_uni(2));</span></span>
<span><span class="co">#&gt;  241 :       current_statement__ = 52;</span></span>
<span><span class="co">#&gt;  242 :       stan::math::validate_non_negative_index("w2", "nodes[2]", w2_2dim__);</span></span>
<span><span class="co">#&gt;  243 :       current_statement__ = 53;</span></span>
<span><span class="co">#&gt;  244 :       b2_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  245 :       current_statement__ = 53;</span></span>
<span><span class="co">#&gt;  246 :       b2_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  247 :                     stan::model::index_uni(2));</span></span>
<span><span class="co">#&gt;  248 :       current_statement__ = 53;</span></span>
<span><span class="co">#&gt;  249 :       stan::math::validate_non_negative_index("b2", "nodes[2]", b2_1dim__);</span></span>
<span><span class="co">#&gt;  250 :       current_statement__ = 54;</span></span>
<span><span class="co">#&gt;  251 :       w_out_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  252 :       current_statement__ = 54;</span></span>
<span><span class="co">#&gt;  253 :       w_out_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  254 :                        stan::model::index_uni(L));</span></span>
<span><span class="co">#&gt;  255 :       current_statement__ = 54;</span></span>
<span><span class="co">#&gt;  256 :       stan::math::validate_non_negative_index("w_out", "nodes[L]",</span></span>
<span><span class="co">#&gt;  257 :         w_out_1dim__);</span></span>
<span><span class="co">#&gt;  258 :       current_statement__ = 55;</span></span>
<span><span class="co">#&gt;  259 :       stan::math::validate_non_negative_index("z1", "n", n);</span></span>
<span><span class="co">#&gt;  260 :       current_statement__ = 56;</span></span>
<span><span class="co">#&gt;  261 :       z1_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  262 :       current_statement__ = 56;</span></span>
<span><span class="co">#&gt;  263 :       z1_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  264 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  265 :       current_statement__ = 56;</span></span>
<span><span class="co">#&gt;  266 :       stan::math::validate_non_negative_index("z1", "nodes[1]", z1_2dim__);</span></span>
<span><span class="co">#&gt;  267 :       current_statement__ = 57;</span></span>
<span><span class="co">#&gt;  268 :       stan::math::validate_non_negative_index("a1", "n", n);</span></span>
<span><span class="co">#&gt;  269 :       current_statement__ = 58;</span></span>
<span><span class="co">#&gt;  270 :       a1_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  271 :       current_statement__ = 58;</span></span>
<span><span class="co">#&gt;  272 :       a1_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  273 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  274 :       current_statement__ = 58;</span></span>
<span><span class="co">#&gt;  275 :       stan::math::validate_non_negative_index("a1", "nodes[1]", a1_2dim__);</span></span>
<span><span class="co">#&gt;  276 :       current_statement__ = 59;</span></span>
<span><span class="co">#&gt;  277 :       stan::math::validate_non_negative_index("z2", "n", n);</span></span>
<span><span class="co">#&gt;  278 :       current_statement__ = 60;</span></span>
<span><span class="co">#&gt;  279 :       z2_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  280 :       current_statement__ = 60;</span></span>
<span><span class="co">#&gt;  281 :       z2_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  282 :                     stan::model::index_uni(2));</span></span>
<span><span class="co">#&gt;  283 :       current_statement__ = 60;</span></span>
<span><span class="co">#&gt;  284 :       stan::math::validate_non_negative_index("z2", "nodes[2]", z2_2dim__);</span></span>
<span><span class="co">#&gt;  285 :       current_statement__ = 61;</span></span>
<span><span class="co">#&gt;  286 :       stan::math::validate_non_negative_index("a2", "n", n);</span></span>
<span><span class="co">#&gt;  287 :       current_statement__ = 62;</span></span>
<span><span class="co">#&gt;  288 :       a2_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  289 :       current_statement__ = 62;</span></span>
<span><span class="co">#&gt;  290 :       a2_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  291 :                     stan::model::index_uni(2));</span></span>
<span><span class="co">#&gt;  292 :       current_statement__ = 62;</span></span>
<span><span class="co">#&gt;  293 :       stan::math::validate_non_negative_index("a2", "nodes[2]", a2_2dim__);</span></span>
<span><span class="co">#&gt;  294 :       current_statement__ = 63;</span></span>
<span><span class="co">#&gt;  295 :       stan::math::validate_non_negative_index("y_hat", "n", n);</span></span>
<span><span class="co">#&gt;  296 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  297 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  298 :     }</span></span>
<span><span class="co">#&gt;  299 :     num_params_r__ = (m * w1_2dim__) + b1_1dim__ + (w2_1dim__ * w2_2dim__) +</span></span>
<span><span class="co">#&gt;  300 :       b2_1dim__ + w_out_1dim__ + 1;</span></span>
<span><span class="co">#&gt;  301 :   }</span></span>
<span><span class="co">#&gt;  302 :   inline std::string model_name() const final {</span></span>
<span><span class="co">#&gt;  303 :     return "model227e48ad944d_";</span></span>
<span><span class="co">#&gt;  304 :   }</span></span>
<span><span class="co">#&gt;  305 :   inline std::vector&lt;std::string&gt; model_compile_info() const noexcept {</span></span>
<span><span class="co">#&gt;  306 :     return std::vector&lt;std::string&gt;{"stanc_version = stanc3 v2.32.2",</span></span>
<span><span class="co">#&gt;  307 :              "stancflags = --"};</span></span>
<span><span class="co">#&gt;  308 :   }</span></span>
<span><span class="co">#&gt;  309 :   template &lt;bool propto__, bool jacobian__, typename VecR, typename VecI,</span></span>
<span><span class="co">#&gt;  310 :             stan::require_vector_like_t&lt;VecR&gt;* = nullptr,</span></span>
<span><span class="co">#&gt;  311 :             stan::require_vector_like_vt&lt;std::is_integral, VecI&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  312 :   inline stan::scalar_type_t&lt;VecR&gt;</span></span>
<span><span class="co">#&gt;  313 :   log_prob_impl(VecR&amp; params_r__, VecI&amp; params_i__, std::ostream*</span></span>
<span><span class="co">#&gt;  314 :                 pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  315 :     using T__ = stan::scalar_type_t&lt;VecR&gt;;</span></span>
<span><span class="co">#&gt;  316 :     using local_scalar_t__ = T__;</span></span>
<span><span class="co">#&gt;  317 :     T__ lp__(0.0);</span></span>
<span><span class="co">#&gt;  318 :     stan::math::accumulator&lt;T__&gt; lp_accum__;</span></span>
<span><span class="co">#&gt;  319 :     stan::io::deserializer&lt;local_scalar_t__&gt; in__(params_r__, params_i__);</span></span>
<span><span class="co">#&gt;  320 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  321 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  322 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  323 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  324 :     static constexpr const char* function__ =</span></span>
<span><span class="co">#&gt;  325 :       "model227e48ad944d__namespace::log_prob";</span></span>
<span><span class="co">#&gt;  326 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  327 :     (void) function__;</span></span>
<span><span class="co">#&gt;  328 :     try {</span></span>
<span><span class="co">#&gt;  329 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  330 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(m, w1_2dim__,</span></span>
<span><span class="co">#&gt;  331 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  332 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  333 :       w1 = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(m,</span></span>
<span><span class="co">#&gt;  334 :              w1_2dim__);</span></span>
<span><span class="co">#&gt;  335 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  336 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b1_1dim__,</span></span>
<span><span class="co">#&gt;  337 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  338 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  339 :       b1 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  340 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b1_1dim__);</span></span>
<span><span class="co">#&gt;  341 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w2 =</span></span>
<span><span class="co">#&gt;  342 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w2_1dim__, w2_2dim__,</span></span>
<span><span class="co">#&gt;  343 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  344 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  345 :       w2 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  346 :              Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w2_1dim__, w2_2dim__);</span></span>
<span><span class="co">#&gt;  347 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b2 =</span></span>
<span><span class="co">#&gt;  348 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b2_1dim__,</span></span>
<span><span class="co">#&gt;  349 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  350 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  351 :       b2 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  352 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b2_1dim__);</span></span>
<span><span class="co">#&gt;  353 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; w_out =</span></span>
<span><span class="co">#&gt;  354 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(w_out_1dim__,</span></span>
<span><span class="co">#&gt;  355 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  356 :       current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  357 :       w_out = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  358 :                 Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(w_out_1dim__);</span></span>
<span><span class="co">#&gt;  359 :       local_scalar_t__ b_out = DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  360 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  361 :       b_out = in__.template read&lt;local_scalar_t__&gt;();</span></span>
<span><span class="co">#&gt;  362 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; z1 =</span></span>
<span><span class="co">#&gt;  363 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, z1_2dim__,</span></span>
<span><span class="co">#&gt;  364 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  365 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; a1 =</span></span>
<span><span class="co">#&gt;  366 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, a1_2dim__,</span></span>
<span><span class="co">#&gt;  367 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  368 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; z2 =</span></span>
<span><span class="co">#&gt;  369 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, z2_2dim__,</span></span>
<span><span class="co">#&gt;  370 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  371 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; a2 =</span></span>
<span><span class="co">#&gt;  372 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, a2_2dim__,</span></span>
<span><span class="co">#&gt;  373 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  374 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; y_hat =</span></span>
<span><span class="co">#&gt;  375 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(n, DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  376 :       current_statement__ = 12;</span></span>
<span><span class="co">#&gt;  377 :       stan::model::assign(z1,</span></span>
<span><span class="co">#&gt;  378 :         stan::math::add(stan::math::multiply(X, w1),</span></span>
<span><span class="co">#&gt;  379 :           stan::math::rep_matrix(stan::math::transpose(b1), n)),</span></span>
<span><span class="co">#&gt;  380 :         "assigning variable z1");</span></span>
<span><span class="co">#&gt;  381 :       current_statement__ = 19;</span></span>
<span><span class="co">#&gt;  382 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  383 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(1)),</span></span>
<span><span class="co">#&gt;  384 :             1)) {</span></span>
<span><span class="co">#&gt;  385 :         current_statement__ = 18;</span></span>
<span><span class="co">#&gt;  386 :         stan::model::assign(a1, stan::math::tanh(z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  387 :       } else {</span></span>
<span><span class="co">#&gt;  388 :         current_statement__ = 17;</span></span>
<span><span class="co">#&gt;  389 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  390 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(1)),</span></span>
<span><span class="co">#&gt;  391 :               2)) {</span></span>
<span><span class="co">#&gt;  392 :           current_statement__ = 16;</span></span>
<span><span class="co">#&gt;  393 :           stan::model::assign(a1, stan::math::inv_logit(z1),</span></span>
<span><span class="co">#&gt;  394 :             "assigning variable a1");</span></span>
<span><span class="co">#&gt;  395 :         } else {</span></span>
<span><span class="co">#&gt;  396 :           current_statement__ = 15;</span></span>
<span><span class="co">#&gt;  397 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  398 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  399 :                   stan::model::index_uni(1)), 3)) {</span></span>
<span><span class="co">#&gt;  400 :             current_statement__ = 14;</span></span>
<span><span class="co">#&gt;  401 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  402 :               stan::math::log(stan::math::add(1, stan::math::exp(z1))),</span></span>
<span><span class="co">#&gt;  403 :               "assigning variable a1");</span></span>
<span><span class="co">#&gt;  404 :           } else {</span></span>
<span><span class="co">#&gt;  405 :             current_statement__ = 13;</span></span>
<span><span class="co">#&gt;  406 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  407 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  408 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  409 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  410 :                     stan::model::index_uni(1))), z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  411 :           }</span></span>
<span><span class="co">#&gt;  412 :         }</span></span>
<span><span class="co">#&gt;  413 :       }</span></span>
<span><span class="co">#&gt;  414 :       current_statement__ = 20;</span></span>
<span><span class="co">#&gt;  415 :       stan::model::assign(z2,</span></span>
<span><span class="co">#&gt;  416 :         stan::math::add(stan::math::multiply(a1, w2),</span></span>
<span><span class="co">#&gt;  417 :           stan::math::rep_matrix(stan::math::transpose(b2), n)),</span></span>
<span><span class="co">#&gt;  418 :         "assigning variable z2");</span></span>
<span><span class="co">#&gt;  419 :       current_statement__ = 27;</span></span>
<span><span class="co">#&gt;  420 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  421 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(2)),</span></span>
<span><span class="co">#&gt;  422 :             1)) {</span></span>
<span><span class="co">#&gt;  423 :         current_statement__ = 26;</span></span>
<span><span class="co">#&gt;  424 :         stan::model::assign(a2, stan::math::tanh(z2), "assigning variable a2");</span></span>
<span><span class="co">#&gt;  425 :       } else {</span></span>
<span><span class="co">#&gt;  426 :         current_statement__ = 25;</span></span>
<span><span class="co">#&gt;  427 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  428 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(2)),</span></span>
<span><span class="co">#&gt;  429 :               2)) {</span></span>
<span><span class="co">#&gt;  430 :           current_statement__ = 24;</span></span>
<span><span class="co">#&gt;  431 :           stan::model::assign(a2, stan::math::inv_logit(z2),</span></span>
<span><span class="co">#&gt;  432 :             "assigning variable a2");</span></span>
<span><span class="co">#&gt;  433 :         } else {</span></span>
<span><span class="co">#&gt;  434 :           current_statement__ = 23;</span></span>
<span><span class="co">#&gt;  435 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  436 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  437 :                   stan::model::index_uni(2)), 3)) {</span></span>
<span><span class="co">#&gt;  438 :             current_statement__ = 22;</span></span>
<span><span class="co">#&gt;  439 :             stan::model::assign(a2,</span></span>
<span><span class="co">#&gt;  440 :               stan::math::log(stan::math::add(1, stan::math::exp(z2))),</span></span>
<span><span class="co">#&gt;  441 :               "assigning variable a2");</span></span>
<span><span class="co">#&gt;  442 :           } else {</span></span>
<span><span class="co">#&gt;  443 :             current_statement__ = 21;</span></span>
<span><span class="co">#&gt;  444 :             stan::model::assign(a2,</span></span>
<span><span class="co">#&gt;  445 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  446 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  447 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  448 :                     stan::model::index_uni(2))), z2), "assigning variable a2");</span></span>
<span><span class="co">#&gt;  449 :           }</span></span>
<span><span class="co">#&gt;  450 :         }</span></span>
<span><span class="co">#&gt;  451 :       }</span></span>
<span><span class="co">#&gt;  452 :       current_statement__ = 28;</span></span>
<span><span class="co">#&gt;  453 :       stan::model::assign(y_hat,</span></span>
<span><span class="co">#&gt;  454 :         stan::math::add(stan::math::multiply(a2, w_out), b_out),</span></span>
<span><span class="co">#&gt;  455 :         "assigning variable y_hat");</span></span>
<span><span class="co">#&gt;  456 :       {</span></span>
<span><span class="co">#&gt;  457 :         current_statement__ = 29;</span></span>
<span><span class="co">#&gt;  458 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(</span></span>
<span><span class="co">#&gt;  459 :                          stan::math::to_vector(w1), 0.000000, 1.000000));</span></span>
<span><span class="co">#&gt;  460 :         current_statement__ = 30;</span></span>
<span><span class="co">#&gt;  461 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(b1, 0.000000,</span></span>
<span><span class="co">#&gt;  462 :                          1.000000));</span></span>
<span><span class="co">#&gt;  463 :         current_statement__ = 31;</span></span>
<span><span class="co">#&gt;  464 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(</span></span>
<span><span class="co">#&gt;  465 :                          stan::math::to_vector(w2), 0.000000, 1.000000));</span></span>
<span><span class="co">#&gt;  466 :         current_statement__ = 32;</span></span>
<span><span class="co">#&gt;  467 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(b2, 0.000000,</span></span>
<span><span class="co">#&gt;  468 :                          1.000000));</span></span>
<span><span class="co">#&gt;  469 :         current_statement__ = 33;</span></span>
<span><span class="co">#&gt;  470 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(w_out, 0.000000,</span></span>
<span><span class="co">#&gt;  471 :                          1.000000));</span></span>
<span><span class="co">#&gt;  472 :         current_statement__ = 34;</span></span>
<span><span class="co">#&gt;  473 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(b_out, 0.000000,</span></span>
<span><span class="co">#&gt;  474 :                          1.000000));</span></span>
<span><span class="co">#&gt;  475 :         current_statement__ = 35;</span></span>
<span><span class="co">#&gt;  476 :         lp_accum__.add(stan::math::bernoulli_logit_lpmf&lt;propto__&gt;(y, y_hat));</span></span>
<span><span class="co">#&gt;  477 :       }</span></span>
<span><span class="co">#&gt;  478 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  479 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  480 :     }</span></span>
<span><span class="co">#&gt;  481 :     lp_accum__.add(lp__);</span></span>
<span><span class="co">#&gt;  482 :     return lp_accum__.sum();</span></span>
<span><span class="co">#&gt;  483 :   }</span></span>
<span><span class="co">#&gt;  484 :   template &lt;typename RNG, typename VecR, typename VecI, typename VecVar,</span></span>
<span><span class="co">#&gt;  485 :             stan::require_vector_like_vt&lt;std::is_floating_point,</span></span>
<span><span class="co">#&gt;  486 :             VecR&gt;* = nullptr, stan::require_vector_like_vt&lt;std::is_integral,</span></span>
<span><span class="co">#&gt;  487 :             VecI&gt;* = nullptr, stan::require_vector_vt&lt;std::is_floating_point,</span></span>
<span><span class="co">#&gt;  488 :             VecVar&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  489 :   inline void</span></span>
<span><span class="co">#&gt;  490 :   write_array_impl(RNG&amp; base_rng__, VecR&amp; params_r__, VecI&amp; params_i__,</span></span>
<span><span class="co">#&gt;  491 :                    VecVar&amp; vars__, const bool</span></span>
<span><span class="co">#&gt;  492 :                    emit_transformed_parameters__ = true, const bool</span></span>
<span><span class="co">#&gt;  493 :                    emit_generated_quantities__ = true, std::ostream*</span></span>
<span><span class="co">#&gt;  494 :                    pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  495 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  496 :     stan::io::deserializer&lt;local_scalar_t__&gt; in__(params_r__, params_i__);</span></span>
<span><span class="co">#&gt;  497 :     stan::io::serializer&lt;local_scalar_t__&gt; out__(vars__);</span></span>
<span><span class="co">#&gt;  498 :     static constexpr bool propto__ = true;</span></span>
<span><span class="co">#&gt;  499 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  500 :     (void) propto__;</span></span>
<span><span class="co">#&gt;  501 :     double lp__ = 0.0;</span></span>
<span><span class="co">#&gt;  502 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  503 :     (void) lp__;</span></span>
<span><span class="co">#&gt;  504 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  505 :     stan::math::accumulator&lt;double&gt; lp_accum__;</span></span>
<span><span class="co">#&gt;  506 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  507 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  508 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  509 :     constexpr bool jacobian__ = false;</span></span>
<span><span class="co">#&gt;  510 :     static constexpr const char* function__ =</span></span>
<span><span class="co">#&gt;  511 :       "model227e48ad944d__namespace::write_array";</span></span>
<span><span class="co">#&gt;  512 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  513 :     (void) function__;</span></span>
<span><span class="co">#&gt;  514 :     try {</span></span>
<span><span class="co">#&gt;  515 :       Eigen::Matrix&lt;double,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  516 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(m, w1_2dim__,</span></span>
<span><span class="co">#&gt;  517 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  518 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  519 :       w1 = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(m,</span></span>
<span><span class="co">#&gt;  520 :              w1_2dim__);</span></span>
<span><span class="co">#&gt;  521 :       Eigen::Matrix&lt;double,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  522 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(b1_1dim__,</span></span>
<span><span class="co">#&gt;  523 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  524 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  525 :       b1 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  526 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b1_1dim__);</span></span>
<span><span class="co">#&gt;  527 :       Eigen::Matrix&lt;double,-1,-1&gt; w2 =</span></span>
<span><span class="co">#&gt;  528 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(w2_1dim__, w2_2dim__,</span></span>
<span><span class="co">#&gt;  529 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  530 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  531 :       w2 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  532 :              Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w2_1dim__, w2_2dim__);</span></span>
<span><span class="co">#&gt;  533 :       Eigen::Matrix&lt;double,-1,1&gt; b2 =</span></span>
<span><span class="co">#&gt;  534 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(b2_1dim__,</span></span>
<span><span class="co">#&gt;  535 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  536 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  537 :       b2 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  538 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b2_1dim__);</span></span>
<span><span class="co">#&gt;  539 :       Eigen::Matrix&lt;double,-1,1&gt; w_out =</span></span>
<span><span class="co">#&gt;  540 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(w_out_1dim__,</span></span>
<span><span class="co">#&gt;  541 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  542 :       current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  543 :       w_out = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  544 :                 Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(w_out_1dim__);</span></span>
<span><span class="co">#&gt;  545 :       double b_out = std::numeric_limits&lt;double&gt;::quiet_NaN();</span></span>
<span><span class="co">#&gt;  546 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  547 :       b_out = in__.template read&lt;local_scalar_t__&gt;();</span></span>
<span><span class="co">#&gt;  548 :       Eigen::Matrix&lt;double,-1,-1&gt; z1 =</span></span>
<span><span class="co">#&gt;  549 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, z1_2dim__,</span></span>
<span><span class="co">#&gt;  550 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  551 :       Eigen::Matrix&lt;double,-1,-1&gt; a1 =</span></span>
<span><span class="co">#&gt;  552 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, a1_2dim__,</span></span>
<span><span class="co">#&gt;  553 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  554 :       Eigen::Matrix&lt;double,-1,-1&gt; z2 =</span></span>
<span><span class="co">#&gt;  555 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, z2_2dim__,</span></span>
<span><span class="co">#&gt;  556 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  557 :       Eigen::Matrix&lt;double,-1,-1&gt; a2 =</span></span>
<span><span class="co">#&gt;  558 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, a2_2dim__,</span></span>
<span><span class="co">#&gt;  559 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  560 :       Eigen::Matrix&lt;double,-1,1&gt; y_hat =</span></span>
<span><span class="co">#&gt;  561 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(n,</span></span>
<span><span class="co">#&gt;  562 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  563 :       out__.write(w1);</span></span>
<span><span class="co">#&gt;  564 :       out__.write(b1);</span></span>
<span><span class="co">#&gt;  565 :       out__.write(w2);</span></span>
<span><span class="co">#&gt;  566 :       out__.write(b2);</span></span>
<span><span class="co">#&gt;  567 :       out__.write(w_out);</span></span>
<span><span class="co">#&gt;  568 :       out__.write(b_out);</span></span>
<span><span class="co">#&gt;  569 :       if (stan::math::logical_negation(</span></span>
<span><span class="co">#&gt;  570 :             (stan::math::primitive_value(emit_transformed_parameters__) ||</span></span>
<span><span class="co">#&gt;  571 :             stan::math::primitive_value(emit_generated_quantities__)))) {</span></span>
<span><span class="co">#&gt;  572 :         return ;</span></span>
<span><span class="co">#&gt;  573 :       }</span></span>
<span><span class="co">#&gt;  574 :       current_statement__ = 12;</span></span>
<span><span class="co">#&gt;  575 :       stan::model::assign(z1,</span></span>
<span><span class="co">#&gt;  576 :         stan::math::add(stan::math::multiply(X, w1),</span></span>
<span><span class="co">#&gt;  577 :           stan::math::rep_matrix(stan::math::transpose(b1), n)),</span></span>
<span><span class="co">#&gt;  578 :         "assigning variable z1");</span></span>
<span><span class="co">#&gt;  579 :       current_statement__ = 19;</span></span>
<span><span class="co">#&gt;  580 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  581 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(1)),</span></span>
<span><span class="co">#&gt;  582 :             1)) {</span></span>
<span><span class="co">#&gt;  583 :         current_statement__ = 18;</span></span>
<span><span class="co">#&gt;  584 :         stan::model::assign(a1, stan::math::tanh(z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  585 :       } else {</span></span>
<span><span class="co">#&gt;  586 :         current_statement__ = 17;</span></span>
<span><span class="co">#&gt;  587 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  588 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(1)),</span></span>
<span><span class="co">#&gt;  589 :               2)) {</span></span>
<span><span class="co">#&gt;  590 :           current_statement__ = 16;</span></span>
<span><span class="co">#&gt;  591 :           stan::model::assign(a1, stan::math::inv_logit(z1),</span></span>
<span><span class="co">#&gt;  592 :             "assigning variable a1");</span></span>
<span><span class="co">#&gt;  593 :         } else {</span></span>
<span><span class="co">#&gt;  594 :           current_statement__ = 15;</span></span>
<span><span class="co">#&gt;  595 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  596 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  597 :                   stan::model::index_uni(1)), 3)) {</span></span>
<span><span class="co">#&gt;  598 :             current_statement__ = 14;</span></span>
<span><span class="co">#&gt;  599 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  600 :               stan::math::log(stan::math::add(1, stan::math::exp(z1))),</span></span>
<span><span class="co">#&gt;  601 :               "assigning variable a1");</span></span>
<span><span class="co">#&gt;  602 :           } else {</span></span>
<span><span class="co">#&gt;  603 :             current_statement__ = 13;</span></span>
<span><span class="co">#&gt;  604 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  605 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  606 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  607 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  608 :                     stan::model::index_uni(1))), z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  609 :           }</span></span>
<span><span class="co">#&gt;  610 :         }</span></span>
<span><span class="co">#&gt;  611 :       }</span></span>
<span><span class="co">#&gt;  612 :       current_statement__ = 20;</span></span>
<span><span class="co">#&gt;  613 :       stan::model::assign(z2,</span></span>
<span><span class="co">#&gt;  614 :         stan::math::add(stan::math::multiply(a1, w2),</span></span>
<span><span class="co">#&gt;  615 :           stan::math::rep_matrix(stan::math::transpose(b2), n)),</span></span>
<span><span class="co">#&gt;  616 :         "assigning variable z2");</span></span>
<span><span class="co">#&gt;  617 :       current_statement__ = 27;</span></span>
<span><span class="co">#&gt;  618 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  619 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(2)),</span></span>
<span><span class="co">#&gt;  620 :             1)) {</span></span>
<span><span class="co">#&gt;  621 :         current_statement__ = 26;</span></span>
<span><span class="co">#&gt;  622 :         stan::model::assign(a2, stan::math::tanh(z2), "assigning variable a2");</span></span>
<span><span class="co">#&gt;  623 :       } else {</span></span>
<span><span class="co">#&gt;  624 :         current_statement__ = 25;</span></span>
<span><span class="co">#&gt;  625 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  626 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(2)),</span></span>
<span><span class="co">#&gt;  627 :               2)) {</span></span>
<span><span class="co">#&gt;  628 :           current_statement__ = 24;</span></span>
<span><span class="co">#&gt;  629 :           stan::model::assign(a2, stan::math::inv_logit(z2),</span></span>
<span><span class="co">#&gt;  630 :             "assigning variable a2");</span></span>
<span><span class="co">#&gt;  631 :         } else {</span></span>
<span><span class="co">#&gt;  632 :           current_statement__ = 23;</span></span>
<span><span class="co">#&gt;  633 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  634 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  635 :                   stan::model::index_uni(2)), 3)) {</span></span>
<span><span class="co">#&gt;  636 :             current_statement__ = 22;</span></span>
<span><span class="co">#&gt;  637 :             stan::model::assign(a2,</span></span>
<span><span class="co">#&gt;  638 :               stan::math::log(stan::math::add(1, stan::math::exp(z2))),</span></span>
<span><span class="co">#&gt;  639 :               "assigning variable a2");</span></span>
<span><span class="co">#&gt;  640 :           } else {</span></span>
<span><span class="co">#&gt;  641 :             current_statement__ = 21;</span></span>
<span><span class="co">#&gt;  642 :             stan::model::assign(a2,</span></span>
<span><span class="co">#&gt;  643 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  644 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  645 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  646 :                     stan::model::index_uni(2))), z2), "assigning variable a2");</span></span>
<span><span class="co">#&gt;  647 :           }</span></span>
<span><span class="co">#&gt;  648 :         }</span></span>
<span><span class="co">#&gt;  649 :       }</span></span>
<span><span class="co">#&gt;  650 :       current_statement__ = 28;</span></span>
<span><span class="co">#&gt;  651 :       stan::model::assign(y_hat,</span></span>
<span><span class="co">#&gt;  652 :         stan::math::add(stan::math::multiply(a2, w_out), b_out),</span></span>
<span><span class="co">#&gt;  653 :         "assigning variable y_hat");</span></span>
<span><span class="co">#&gt;  654 :       if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  655 :         out__.write(z1);</span></span>
<span><span class="co">#&gt;  656 :         out__.write(a1);</span></span>
<span><span class="co">#&gt;  657 :         out__.write(z2);</span></span>
<span><span class="co">#&gt;  658 :         out__.write(a2);</span></span>
<span><span class="co">#&gt;  659 :         out__.write(y_hat);</span></span>
<span><span class="co">#&gt;  660 :       }</span></span>
<span><span class="co">#&gt;  661 :       if (stan::math::logical_negation(emit_generated_quantities__)) {</span></span>
<span><span class="co">#&gt;  662 :         return ;</span></span>
<span><span class="co">#&gt;  663 :       }</span></span>
<span><span class="co">#&gt;  664 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  665 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  666 :     }</span></span>
<span><span class="co">#&gt;  667 :   }</span></span>
<span><span class="co">#&gt;  668 :   template &lt;typename VecVar, typename VecI,</span></span>
<span><span class="co">#&gt;  669 :             stan::require_vector_t&lt;VecVar&gt;* = nullptr,</span></span>
<span><span class="co">#&gt;  670 :             stan::require_vector_like_vt&lt;std::is_integral, VecI&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  671 :   inline void</span></span>
<span><span class="co">#&gt;  672 :   unconstrain_array_impl(const VecVar&amp; params_r__, const VecI&amp; params_i__,</span></span>
<span><span class="co">#&gt;  673 :                          VecVar&amp; vars__, std::ostream* pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  674 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  675 :     stan::io::deserializer&lt;local_scalar_t__&gt; in__(params_r__, params_i__);</span></span>
<span><span class="co">#&gt;  676 :     stan::io::serializer&lt;local_scalar_t__&gt; out__(vars__);</span></span>
<span><span class="co">#&gt;  677 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  678 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  679 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  680 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  681 :     try {</span></span>
<span><span class="co">#&gt;  682 :       int pos__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  683 :       pos__ = 1;</span></span>
<span><span class="co">#&gt;  684 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  685 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(m, w1_2dim__,</span></span>
<span><span class="co">#&gt;  686 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  687 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  688 :       stan::model::assign(w1,</span></span>
<span><span class="co">#&gt;  689 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(m, w1_2dim__),</span></span>
<span><span class="co">#&gt;  690 :         "assigning variable w1");</span></span>
<span><span class="co">#&gt;  691 :       out__.write(w1);</span></span>
<span><span class="co">#&gt;  692 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  693 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b1_1dim__,</span></span>
<span><span class="co">#&gt;  694 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  695 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  696 :       stan::model::assign(b1,</span></span>
<span><span class="co">#&gt;  697 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b1_1dim__),</span></span>
<span><span class="co">#&gt;  698 :         "assigning variable b1");</span></span>
<span><span class="co">#&gt;  699 :       out__.write(b1);</span></span>
<span><span class="co">#&gt;  700 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w2 =</span></span>
<span><span class="co">#&gt;  701 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w2_1dim__, w2_2dim__,</span></span>
<span><span class="co">#&gt;  702 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  703 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  704 :       stan::model::assign(w2,</span></span>
<span><span class="co">#&gt;  705 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w2_1dim__,</span></span>
<span><span class="co">#&gt;  706 :           w2_2dim__), "assigning variable w2");</span></span>
<span><span class="co">#&gt;  707 :       out__.write(w2);</span></span>
<span><span class="co">#&gt;  708 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b2 =</span></span>
<span><span class="co">#&gt;  709 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b2_1dim__,</span></span>
<span><span class="co">#&gt;  710 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  711 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  712 :       stan::model::assign(b2,</span></span>
<span><span class="co">#&gt;  713 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b2_1dim__),</span></span>
<span><span class="co">#&gt;  714 :         "assigning variable b2");</span></span>
<span><span class="co">#&gt;  715 :       out__.write(b2);</span></span>
<span><span class="co">#&gt;  716 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; w_out =</span></span>
<span><span class="co">#&gt;  717 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(w_out_1dim__,</span></span>
<span><span class="co">#&gt;  718 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  719 :       current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  720 :       stan::model::assign(w_out,</span></span>
<span><span class="co">#&gt;  721 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(w_out_1dim__),</span></span>
<span><span class="co">#&gt;  722 :         "assigning variable w_out");</span></span>
<span><span class="co">#&gt;  723 :       out__.write(w_out);</span></span>
<span><span class="co">#&gt;  724 :       local_scalar_t__ b_out = DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  725 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  726 :       b_out = in__.read&lt;local_scalar_t__&gt;();</span></span>
<span><span class="co">#&gt;  727 :       out__.write(b_out);</span></span>
<span><span class="co">#&gt;  728 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  729 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  730 :     }</span></span>
<span><span class="co">#&gt;  731 :   }</span></span>
<span><span class="co">#&gt;  732 :   template &lt;typename VecVar, stan::require_vector_t&lt;VecVar&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  733 :   inline void</span></span>
<span><span class="co">#&gt;  734 :   transform_inits_impl(const stan::io::var_context&amp; context__, VecVar&amp;</span></span>
<span><span class="co">#&gt;  735 :                        vars__, std::ostream* pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  736 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  737 :     stan::io::serializer&lt;local_scalar_t__&gt; out__(vars__);</span></span>
<span><span class="co">#&gt;  738 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  739 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  740 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  741 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  742 :     try {</span></span>
<span><span class="co">#&gt;  743 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  744 :       context__.validate_dims("parameter initialization", "w1", "double",</span></span>
<span><span class="co">#&gt;  745 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(m),</span></span>
<span><span class="co">#&gt;  746 :           static_cast&lt;size_t&gt;(w1_2dim__)});</span></span>
<span><span class="co">#&gt;  747 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  748 :       context__.validate_dims("parameter initialization", "b1", "double",</span></span>
<span><span class="co">#&gt;  749 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b1_1dim__)});</span></span>
<span><span class="co">#&gt;  750 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  751 :       context__.validate_dims("parameter initialization", "w2", "double",</span></span>
<span><span class="co">#&gt;  752 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w2_1dim__),</span></span>
<span><span class="co">#&gt;  753 :           static_cast&lt;size_t&gt;(w2_2dim__)});</span></span>
<span><span class="co">#&gt;  754 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  755 :       context__.validate_dims("parameter initialization", "b2", "double",</span></span>
<span><span class="co">#&gt;  756 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b2_1dim__)});</span></span>
<span><span class="co">#&gt;  757 :       current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  758 :       context__.validate_dims("parameter initialization", "w_out", "double",</span></span>
<span><span class="co">#&gt;  759 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w_out_1dim__)});</span></span>
<span><span class="co">#&gt;  760 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  761 :       context__.validate_dims("parameter initialization", "b_out", "double",</span></span>
<span><span class="co">#&gt;  762 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  763 :       int pos__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  764 :       pos__ = 1;</span></span>
<span><span class="co">#&gt;  765 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  766 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(m, w1_2dim__,</span></span>
<span><span class="co">#&gt;  767 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  768 :       {</span></span>
<span><span class="co">#&gt;  769 :         std::vector&lt;local_scalar_t__&gt; w1_flat__;</span></span>
<span><span class="co">#&gt;  770 :         current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  771 :         w1_flat__ = context__.vals_r("w1");</span></span>
<span><span class="co">#&gt;  772 :         current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  773 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  774 :         current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  775 :         for (int sym1__ = 1; sym1__ &lt;= w1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  776 :           current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  777 :           for (int sym2__ = 1; sym2__ &lt;= m; ++sym2__) {</span></span>
<span><span class="co">#&gt;  778 :             current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  779 :             stan::model::assign(w1, w1_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  780 :               "assigning variable w1", stan::model::index_uni(sym2__),</span></span>
<span><span class="co">#&gt;  781 :               stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  782 :             current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  783 :             pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  784 :           }</span></span>
<span><span class="co">#&gt;  785 :         }</span></span>
<span><span class="co">#&gt;  786 :       }</span></span>
<span><span class="co">#&gt;  787 :       out__.write(w1);</span></span>
<span><span class="co">#&gt;  788 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  789 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b1_1dim__,</span></span>
<span><span class="co">#&gt;  790 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  791 :       {</span></span>
<span><span class="co">#&gt;  792 :         std::vector&lt;local_scalar_t__&gt; b1_flat__;</span></span>
<span><span class="co">#&gt;  793 :         current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  794 :         b1_flat__ = context__.vals_r("b1");</span></span>
<span><span class="co">#&gt;  795 :         current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  796 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  797 :         current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  798 :         for (int sym1__ = 1; sym1__ &lt;= b1_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  799 :           current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  800 :           stan::model::assign(b1, b1_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  801 :             "assigning variable b1", stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  802 :           current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  803 :           pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  804 :         }</span></span>
<span><span class="co">#&gt;  805 :       }</span></span>
<span><span class="co">#&gt;  806 :       out__.write(b1);</span></span>
<span><span class="co">#&gt;  807 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w2 =</span></span>
<span><span class="co">#&gt;  808 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w2_1dim__, w2_2dim__,</span></span>
<span><span class="co">#&gt;  809 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  810 :       {</span></span>
<span><span class="co">#&gt;  811 :         std::vector&lt;local_scalar_t__&gt; w2_flat__;</span></span>
<span><span class="co">#&gt;  812 :         current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  813 :         w2_flat__ = context__.vals_r("w2");</span></span>
<span><span class="co">#&gt;  814 :         current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  815 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  816 :         current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  817 :         for (int sym1__ = 1; sym1__ &lt;= w2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  818 :           current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  819 :           for (int sym2__ = 1; sym2__ &lt;= w2_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt;  820 :             current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  821 :             stan::model::assign(w2, w2_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  822 :               "assigning variable w2", stan::model::index_uni(sym2__),</span></span>
<span><span class="co">#&gt;  823 :               stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  824 :             current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  825 :             pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  826 :           }</span></span>
<span><span class="co">#&gt;  827 :         }</span></span>
<span><span class="co">#&gt;  828 :       }</span></span>
<span><span class="co">#&gt;  829 :       out__.write(w2);</span></span>
<span><span class="co">#&gt;  830 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b2 =</span></span>
<span><span class="co">#&gt;  831 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b2_1dim__,</span></span>
<span><span class="co">#&gt;  832 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  833 :       {</span></span>
<span><span class="co">#&gt;  834 :         std::vector&lt;local_scalar_t__&gt; b2_flat__;</span></span>
<span><span class="co">#&gt;  835 :         current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  836 :         b2_flat__ = context__.vals_r("b2");</span></span>
<span><span class="co">#&gt;  837 :         current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  838 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  839 :         current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  840 :         for (int sym1__ = 1; sym1__ &lt;= b2_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  841 :           current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  842 :           stan::model::assign(b2, b2_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  843 :             "assigning variable b2", stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  844 :           current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  845 :           pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  846 :         }</span></span>
<span><span class="co">#&gt;  847 :       }</span></span>
<span><span class="co">#&gt;  848 :       out__.write(b2);</span></span>
<span><span class="co">#&gt;  849 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; w_out =</span></span>
<span><span class="co">#&gt;  850 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(w_out_1dim__,</span></span>
<span><span class="co">#&gt;  851 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  852 :       {</span></span>
<span><span class="co">#&gt;  853 :         std::vector&lt;local_scalar_t__&gt; w_out_flat__;</span></span>
<span><span class="co">#&gt;  854 :         current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  855 :         w_out_flat__ = context__.vals_r("w_out");</span></span>
<span><span class="co">#&gt;  856 :         current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  857 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  858 :         current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  859 :         for (int sym1__ = 1; sym1__ &lt;= w_out_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  860 :           current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  861 :           stan::model::assign(w_out, w_out_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  862 :             "assigning variable w_out", stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  863 :           current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  864 :           pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  865 :         }</span></span>
<span><span class="co">#&gt;  866 :       }</span></span>
<span><span class="co">#&gt;  867 :       out__.write(w_out);</span></span>
<span><span class="co">#&gt;  868 :       local_scalar_t__ b_out = DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  869 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  870 :       b_out = context__.vals_r("b_out")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  871 :       out__.write(b_out);</span></span>
<span><span class="co">#&gt;  872 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  873 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  874 :     }</span></span>
<span><span class="co">#&gt;  875 :   }</span></span>
<span><span class="co">#&gt;  876 :   inline void</span></span>
<span><span class="co">#&gt;  877 :   get_param_names(std::vector&lt;std::string&gt;&amp; names__, const bool</span></span>
<span><span class="co">#&gt;  878 :                   emit_transformed_parameters__ = true, const bool</span></span>
<span><span class="co">#&gt;  879 :                   emit_generated_quantities__ = true) const {</span></span>
<span><span class="co">#&gt;  880 :     names__ = std::vector&lt;std::string&gt;{"w1", "b1", "w2", "b2", "w_out",</span></span>
<span><span class="co">#&gt;  881 :                 "b_out"};</span></span>
<span><span class="co">#&gt;  882 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  883 :       std::vector&lt;std::string&gt; temp{"z1", "a1", "z2", "a2", "y_hat"};</span></span>
<span><span class="co">#&gt;  884 :       names__.reserve(names__.size() + temp.size());</span></span>
<span><span class="co">#&gt;  885 :       names__.insert(names__.end(), temp.begin(), temp.end());</span></span>
<span><span class="co">#&gt;  886 :     }</span></span>
<span><span class="co">#&gt;  887 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt;  888 :   }</span></span>
<span><span class="co">#&gt;  889 :   inline void</span></span>
<span><span class="co">#&gt;  890 :   get_dims(std::vector&lt;std::vector&lt;size_t&gt;&gt;&amp; dimss__, const bool</span></span>
<span><span class="co">#&gt;  891 :            emit_transformed_parameters__ = true, const bool</span></span>
<span><span class="co">#&gt;  892 :            emit_generated_quantities__ = true) const {</span></span>
<span><span class="co">#&gt;  893 :     dimss__ = std::vector&lt;std::vector&lt;size_t&gt;&gt;{std::vector&lt;size_t&gt;{static_cast&lt;</span></span>
<span><span class="co">#&gt;  894 :                                                                     size_t&gt;(m),</span></span>
<span><span class="co">#&gt;  895 :                                                  static_cast&lt;size_t&gt;(</span></span>
<span><span class="co">#&gt;  896 :                                                    w1_2dim__)},</span></span>
<span><span class="co">#&gt;  897 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b1_1dim__)},</span></span>
<span><span class="co">#&gt;  898 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w2_1dim__),</span></span>
<span><span class="co">#&gt;  899 :                   static_cast&lt;size_t&gt;(w2_2dim__)},</span></span>
<span><span class="co">#&gt;  900 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b2_1dim__)},</span></span>
<span><span class="co">#&gt;  901 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w_out_1dim__)},</span></span>
<span><span class="co">#&gt;  902 :                 std::vector&lt;size_t&gt;{}};</span></span>
<span><span class="co">#&gt;  903 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  904 :       std::vector&lt;std::vector&lt;size_t&gt;&gt;</span></span>
<span><span class="co">#&gt;  905 :         temp{std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt;  906 :                static_cast&lt;size_t&gt;(z1_2dim__)},</span></span>
<span><span class="co">#&gt;  907 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt;  908 :                static_cast&lt;size_t&gt;(a1_2dim__)},</span></span>
<span><span class="co">#&gt;  909 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt;  910 :                static_cast&lt;size_t&gt;(z2_2dim__)},</span></span>
<span><span class="co">#&gt;  911 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt;  912 :                static_cast&lt;size_t&gt;(a2_2dim__)},</span></span>
<span><span class="co">#&gt;  913 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n)}};</span></span>
<span><span class="co">#&gt;  914 :       dimss__.reserve(dimss__.size() + temp.size());</span></span>
<span><span class="co">#&gt;  915 :       dimss__.insert(dimss__.end(), temp.begin(), temp.end());</span></span>
<span><span class="co">#&gt;  916 :     }</span></span>
<span><span class="co">#&gt;  917 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt;  918 :   }</span></span>
<span><span class="co">#&gt;  919 :   inline void</span></span>
<span><span class="co">#&gt;  920 :   constrained_param_names(std::vector&lt;std::string&gt;&amp; param_names__, bool</span></span>
<span><span class="co">#&gt;  921 :                           emit_transformed_parameters__ = true, bool</span></span>
<span><span class="co">#&gt;  922 :                           emit_generated_quantities__ = true) const final {</span></span>
<span><span class="co">#&gt;  923 :     for (int sym1__ = 1; sym1__ &lt;= w1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  924 :       for (int sym2__ = 1; sym2__ &lt;= m; ++sym2__) {</span></span>
<span><span class="co">#&gt;  925 :         param_names__.emplace_back(std::string() + "w1" + '.' +</span></span>
<span><span class="co">#&gt;  926 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  927 :       }</span></span>
<span><span class="co">#&gt;  928 :     }</span></span>
<span><span class="co">#&gt;  929 :     for (int sym1__ = 1; sym1__ &lt;= b1_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  930 :       param_names__.emplace_back(std::string() + "b1" + '.' +</span></span>
<span><span class="co">#&gt;  931 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  932 :     }</span></span>
<span><span class="co">#&gt;  933 :     for (int sym1__ = 1; sym1__ &lt;= w2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  934 :       for (int sym2__ = 1; sym2__ &lt;= w2_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt;  935 :         param_names__.emplace_back(std::string() + "w2" + '.' +</span></span>
<span><span class="co">#&gt;  936 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  937 :       }</span></span>
<span><span class="co">#&gt;  938 :     }</span></span>
<span><span class="co">#&gt;  939 :     for (int sym1__ = 1; sym1__ &lt;= b2_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  940 :       param_names__.emplace_back(std::string() + "b2" + '.' +</span></span>
<span><span class="co">#&gt;  941 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  942 :     }</span></span>
<span><span class="co">#&gt;  943 :     for (int sym1__ = 1; sym1__ &lt;= w_out_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  944 :       param_names__.emplace_back(std::string() + "w_out" + '.' +</span></span>
<span><span class="co">#&gt;  945 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  946 :     }</span></span>
<span><span class="co">#&gt;  947 :     param_names__.emplace_back(std::string() + "b_out");</span></span>
<span><span class="co">#&gt;  948 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  949 :       for (int sym1__ = 1; sym1__ &lt;= z1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  950 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  951 :           param_names__.emplace_back(std::string() + "z1" + '.' +</span></span>
<span><span class="co">#&gt;  952 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  953 :         }</span></span>
<span><span class="co">#&gt;  954 :       }</span></span>
<span><span class="co">#&gt;  955 :       for (int sym1__ = 1; sym1__ &lt;= a1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  956 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  957 :           param_names__.emplace_back(std::string() + "a1" + '.' +</span></span>
<span><span class="co">#&gt;  958 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  959 :         }</span></span>
<span><span class="co">#&gt;  960 :       }</span></span>
<span><span class="co">#&gt;  961 :       for (int sym1__ = 1; sym1__ &lt;= z2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  962 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  963 :           param_names__.emplace_back(std::string() + "z2" + '.' +</span></span>
<span><span class="co">#&gt;  964 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  965 :         }</span></span>
<span><span class="co">#&gt;  966 :       }</span></span>
<span><span class="co">#&gt;  967 :       for (int sym1__ = 1; sym1__ &lt;= a2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  968 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  969 :           param_names__.emplace_back(std::string() + "a2" + '.' +</span></span>
<span><span class="co">#&gt;  970 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  971 :         }</span></span>
<span><span class="co">#&gt;  972 :       }</span></span>
<span><span class="co">#&gt;  973 :       for (int sym1__ = 1; sym1__ &lt;= n; ++sym1__) {</span></span>
<span><span class="co">#&gt;  974 :         param_names__.emplace_back(std::string() + "y_hat" + '.' +</span></span>
<span><span class="co">#&gt;  975 :           std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  976 :       }</span></span>
<span><span class="co">#&gt;  977 :     }</span></span>
<span><span class="co">#&gt;  978 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt;  979 :   }</span></span>
<span><span class="co">#&gt;  980 :   inline void</span></span>
<span><span class="co">#&gt;  981 :   unconstrained_param_names(std::vector&lt;std::string&gt;&amp; param_names__, bool</span></span>
<span><span class="co">#&gt;  982 :                             emit_transformed_parameters__ = true, bool</span></span>
<span><span class="co">#&gt;  983 :                             emit_generated_quantities__ = true) const final {</span></span>
<span><span class="co">#&gt;  984 :     for (int sym1__ = 1; sym1__ &lt;= w1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  985 :       for (int sym2__ = 1; sym2__ &lt;= m; ++sym2__) {</span></span>
<span><span class="co">#&gt;  986 :         param_names__.emplace_back(std::string() + "w1" + '.' +</span></span>
<span><span class="co">#&gt;  987 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  988 :       }</span></span>
<span><span class="co">#&gt;  989 :     }</span></span>
<span><span class="co">#&gt;  990 :     for (int sym1__ = 1; sym1__ &lt;= b1_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  991 :       param_names__.emplace_back(std::string() + "b1" + '.' +</span></span>
<span><span class="co">#&gt;  992 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  993 :     }</span></span>
<span><span class="co">#&gt;  994 :     for (int sym1__ = 1; sym1__ &lt;= w2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  995 :       for (int sym2__ = 1; sym2__ &lt;= w2_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt;  996 :         param_names__.emplace_back(std::string() + "w2" + '.' +</span></span>
<span><span class="co">#&gt;  997 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  998 :       }</span></span>
<span><span class="co">#&gt;  999 :     }</span></span>
<span><span class="co">#&gt; 1000 :     for (int sym1__ = 1; sym1__ &lt;= b2_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1001 :       param_names__.emplace_back(std::string() + "b2" + '.' +</span></span>
<span><span class="co">#&gt; 1002 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1003 :     }</span></span>
<span><span class="co">#&gt; 1004 :     for (int sym1__ = 1; sym1__ &lt;= w_out_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1005 :       param_names__.emplace_back(std::string() + "w_out" + '.' +</span></span>
<span><span class="co">#&gt; 1006 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1007 :     }</span></span>
<span><span class="co">#&gt; 1008 :     param_names__.emplace_back(std::string() + "b_out");</span></span>
<span><span class="co">#&gt; 1009 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt; 1010 :       for (int sym1__ = 1; sym1__ &lt;= z1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1011 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1012 :           param_names__.emplace_back(std::string() + "z1" + '.' +</span></span>
<span><span class="co">#&gt; 1013 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1014 :         }</span></span>
<span><span class="co">#&gt; 1015 :       }</span></span>
<span><span class="co">#&gt; 1016 :       for (int sym1__ = 1; sym1__ &lt;= a1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1017 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1018 :           param_names__.emplace_back(std::string() + "a1" + '.' +</span></span>
<span><span class="co">#&gt; 1019 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1020 :         }</span></span>
<span><span class="co">#&gt; 1021 :       }</span></span>
<span><span class="co">#&gt; 1022 :       for (int sym1__ = 1; sym1__ &lt;= z2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1023 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1024 :           param_names__.emplace_back(std::string() + "z2" + '.' +</span></span>
<span><span class="co">#&gt; 1025 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1026 :         }</span></span>
<span><span class="co">#&gt; 1027 :       }</span></span>
<span><span class="co">#&gt; 1028 :       for (int sym1__ = 1; sym1__ &lt;= a2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1029 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1030 :           param_names__.emplace_back(std::string() + "a2" + '.' +</span></span>
<span><span class="co">#&gt; 1031 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1032 :         }</span></span>
<span><span class="co">#&gt; 1033 :       }</span></span>
<span><span class="co">#&gt; 1034 :       for (int sym1__ = 1; sym1__ &lt;= n; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1035 :         param_names__.emplace_back(std::string() + "y_hat" + '.' +</span></span>
<span><span class="co">#&gt; 1036 :           std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1037 :       }</span></span>
<span><span class="co">#&gt; 1038 :     }</span></span>
<span><span class="co">#&gt; 1039 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt; 1040 :   }</span></span>
<span><span class="co">#&gt; 1041 :   inline std::string get_constrained_sizedtypes() const {</span></span>
<span><span class="co">#&gt; 1042 :     return std::string("[{\"name\":\"w1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(m) + ",\"cols\":" + std::to_string(w1_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b1\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b1_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(w2_1dim__) + ",\"cols\":" + std::to_string(w2_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b2\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b2_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w_out\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(w_out_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"b_out\",\"type\":{\"name\":\"real\"},\"block\":\"parameters\"},{\"name\":\"z1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z1_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a1_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"z2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z2_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a2_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"y_hat\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(n) + "},\"block\":\"transformed_parameters\"}]");</span></span>
<span><span class="co">#&gt; 1043 :   }</span></span>
<span><span class="co">#&gt; 1044 :   inline std::string get_unconstrained_sizedtypes() const {</span></span>
<span><span class="co">#&gt; 1045 :     return std::string("[{\"name\":\"w1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(m) + ",\"cols\":" + std::to_string(w1_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b1\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b1_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(w2_1dim__) + ",\"cols\":" + std::to_string(w2_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b2\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b2_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w_out\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(w_out_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"b_out\",\"type\":{\"name\":\"real\"},\"block\":\"parameters\"},{\"name\":\"z1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z1_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a1_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"z2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z2_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a2_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"y_hat\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(n) + "},\"block\":\"transformed_parameters\"}]");</span></span>
<span><span class="co">#&gt; 1046 :   }</span></span>
<span><span class="co">#&gt; 1047 :   // Begin method overload boilerplate</span></span>
<span><span class="co">#&gt; 1048 :   template &lt;typename RNG&gt; inline void</span></span>
<span><span class="co">#&gt; 1049 :   write_array(RNG&amp; base_rng, Eigen::Matrix&lt;double,-1,1&gt;&amp; params_r,</span></span>
<span><span class="co">#&gt; 1050 :               Eigen::Matrix&lt;double,-1,1&gt;&amp; vars, const bool</span></span>
<span><span class="co">#&gt; 1051 :               emit_transformed_parameters = true, const bool</span></span>
<span><span class="co">#&gt; 1052 :               emit_generated_quantities = true, std::ostream*</span></span>
<span><span class="co">#&gt; 1053 :               pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1054 :     const size_t num_params__ = ((((((m * w1_2dim__) + b1_1dim__) +</span></span>
<span><span class="co">#&gt; 1055 :       (w2_1dim__ * w2_2dim__)) + b2_1dim__) + w_out_1dim__) + 1);</span></span>
<span><span class="co">#&gt; 1056 :     const size_t num_transformed = emit_transformed_parameters * ((((((n *</span></span>
<span><span class="co">#&gt; 1057 :       z1_2dim__) + (n * a1_2dim__)) + (n * z2_2dim__)) + (n * a2_2dim__)) +</span></span>
<span><span class="co">#&gt; 1058 :       n));</span></span>
<span><span class="co">#&gt; 1059 :     const size_t num_gen_quantities = emit_generated_quantities * (0);</span></span>
<span><span class="co">#&gt; 1060 :     const size_t num_to_write = num_params__ + num_transformed +</span></span>
<span><span class="co">#&gt; 1061 :       num_gen_quantities;</span></span>
<span><span class="co">#&gt; 1062 :     std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt; 1063 :     vars = Eigen::Matrix&lt;double,-1,1&gt;::Constant(num_to_write,</span></span>
<span><span class="co">#&gt; 1064 :              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt; 1065 :     write_array_impl(base_rng, params_r, params_i, vars,</span></span>
<span><span class="co">#&gt; 1066 :       emit_transformed_parameters, emit_generated_quantities, pstream);</span></span>
<span><span class="co">#&gt; 1067 :   }</span></span>
<span><span class="co">#&gt; 1068 :   template &lt;typename RNG&gt; inline void</span></span>
<span><span class="co">#&gt; 1069 :   write_array(RNG&amp; base_rng, std::vector&lt;double&gt;&amp; params_r, std::vector&lt;int&gt;&amp;</span></span>
<span><span class="co">#&gt; 1070 :               params_i, std::vector&lt;double&gt;&amp; vars, bool</span></span>
<span><span class="co">#&gt; 1071 :               emit_transformed_parameters = true, bool</span></span>
<span><span class="co">#&gt; 1072 :               emit_generated_quantities = true, std::ostream*</span></span>
<span><span class="co">#&gt; 1073 :               pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1074 :     const size_t num_params__ = ((((((m * w1_2dim__) + b1_1dim__) +</span></span>
<span><span class="co">#&gt; 1075 :       (w2_1dim__ * w2_2dim__)) + b2_1dim__) + w_out_1dim__) + 1);</span></span>
<span><span class="co">#&gt; 1076 :     const size_t num_transformed = emit_transformed_parameters * ((((((n *</span></span>
<span><span class="co">#&gt; 1077 :       z1_2dim__) + (n * a1_2dim__)) + (n * z2_2dim__)) + (n * a2_2dim__)) +</span></span>
<span><span class="co">#&gt; 1078 :       n));</span></span>
<span><span class="co">#&gt; 1079 :     const size_t num_gen_quantities = emit_generated_quantities * (0);</span></span>
<span><span class="co">#&gt; 1080 :     const size_t num_to_write = num_params__ + num_transformed +</span></span>
<span><span class="co">#&gt; 1081 :       num_gen_quantities;</span></span>
<span><span class="co">#&gt; 1082 :     vars = std::vector&lt;double&gt;(num_to_write,</span></span>
<span><span class="co">#&gt; 1083 :              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt; 1084 :     write_array_impl(base_rng, params_r, params_i, vars,</span></span>
<span><span class="co">#&gt; 1085 :       emit_transformed_parameters, emit_generated_quantities, pstream);</span></span>
<span><span class="co">#&gt; 1086 :   }</span></span>
<span><span class="co">#&gt; 1087 :   template &lt;bool propto__, bool jacobian__, typename T_&gt; inline T_</span></span>
<span><span class="co">#&gt; 1088 :   log_prob(Eigen::Matrix&lt;T_,-1,1&gt;&amp; params_r, std::ostream* pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1089 :     Eigen::Matrix&lt;int,-1,1&gt; params_i;</span></span>
<span><span class="co">#&gt; 1090 :     return log_prob_impl&lt;propto__, jacobian__&gt;(params_r, params_i, pstream);</span></span>
<span><span class="co">#&gt; 1091 :   }</span></span>
<span><span class="co">#&gt; 1092 :   template &lt;bool propto__, bool jacobian__, typename T_&gt; inline T_</span></span>
<span><span class="co">#&gt; 1093 :   log_prob(std::vector&lt;T_&gt;&amp; params_r, std::vector&lt;int&gt;&amp; params_i,</span></span>
<span><span class="co">#&gt; 1094 :            std::ostream* pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1095 :     return log_prob_impl&lt;propto__, jacobian__&gt;(params_r, params_i, pstream);</span></span>
<span><span class="co">#&gt; 1096 :   }</span></span>
<span><span class="co">#&gt; 1097 :   inline void</span></span>
<span><span class="co">#&gt; 1098 :   transform_inits(const stan::io::var_context&amp; context,</span></span>
<span><span class="co">#&gt; 1099 :                   Eigen::Matrix&lt;double,-1,1&gt;&amp; params_r, std::ostream*</span></span>
<span><span class="co">#&gt; 1100 :                   pstream = nullptr) const final {</span></span>
<span><span class="co">#&gt; 1101 :     std::vector&lt;double&gt; params_r_vec(params_r.size());</span></span>
<span><span class="co">#&gt; 1102 :     std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt; 1103 :     transform_inits(context, params_i, params_r_vec, pstream);</span></span>
<span><span class="co">#&gt; 1104 :     params_r = Eigen::Map&lt;Eigen::Matrix&lt;double,-1,1&gt;&gt;(params_r_vec.data(),</span></span>
<span><span class="co">#&gt; 1105 :                  params_r_vec.size());</span></span>
<span><span class="co">#&gt; 1106 :   }</span></span>
<span><span class="co">#&gt; 1107 :   inline void</span></span>
<span><span class="co">#&gt; 1108 :   transform_inits(const stan::io::var_context&amp; context, std::vector&lt;int&gt;&amp;</span></span>
<span><span class="co">#&gt; 1109 :                   params_i, std::vector&lt;double&gt;&amp; vars, std::ostream*</span></span>
<span><span class="co">#&gt; 1110 :                   pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt; 1111 :     vars.resize(num_params_r__);</span></span>
<span><span class="co">#&gt; 1112 :     transform_inits_impl(context, vars, pstream__);</span></span>
<span><span class="co">#&gt; 1113 :   }</span></span>
<span><span class="co">#&gt; 1114 :   inline void</span></span>
<span><span class="co">#&gt; 1115 :   unconstrain_array(const std::vector&lt;double&gt;&amp; params_constrained,</span></span>
<span><span class="co">#&gt; 1116 :                     std::vector&lt;double&gt;&amp; params_unconstrained, std::ostream*</span></span>
<span><span class="co">#&gt; 1117 :                     pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1118 :     const std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt; 1119 :     params_unconstrained = std::vector&lt;double&gt;(num_params_r__,</span></span>
<span><span class="co">#&gt; 1120 :                              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt; 1121 :     unconstrain_array_impl(params_constrained, params_i,</span></span>
<span><span class="co">#&gt; 1122 :       params_unconstrained, pstream);</span></span>
<span><span class="co">#&gt; 1123 :   }</span></span>
<span><span class="co">#&gt; 1124 :   inline void</span></span>
<span><span class="co">#&gt; 1125 :   unconstrain_array(const Eigen::Matrix&lt;double,-1,1&gt;&amp; params_constrained,</span></span>
<span><span class="co">#&gt; 1126 :                     Eigen::Matrix&lt;double,-1,1&gt;&amp; params_unconstrained,</span></span>
<span><span class="co">#&gt; 1127 :                     std::ostream* pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1128 :     const std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt; 1129 :     params_unconstrained = Eigen::Matrix&lt;double,-1,1&gt;::Constant(num_params_r__,</span></span>
<span><span class="co">#&gt; 1130 :                              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt; 1131 :     unconstrain_array_impl(params_constrained, params_i,</span></span>
<span><span class="co">#&gt; 1132 :       params_unconstrained, pstream);</span></span>
<span><span class="co">#&gt; 1133 :   }</span></span>
<span><span class="co">#&gt; 1134 : };</span></span>
<span><span class="co">#&gt; 1135 : }</span></span>
<span><span class="co">#&gt; 1136 : using stan_model = model227e48ad944d__namespace::model227e48ad944d_;</span></span>
<span><span class="co">#&gt; 1137 : #ifndef USING_R</span></span>
<span><span class="co">#&gt; 1138 : // Boilerplate</span></span>
<span><span class="co">#&gt; 1139 : stan::model::model_base&amp;</span></span>
<span><span class="co">#&gt; 1140 : new_model(stan::io::var_context&amp; data_context, unsigned int seed,</span></span>
<span><span class="co">#&gt; 1141 :           std::ostream* msg_stream) {</span></span>
<span><span class="co">#&gt; 1142 :   stan_model* m = new stan_model(data_context, seed, msg_stream);</span></span>
<span><span class="co">#&gt; 1143 :   return *m;</span></span>
<span><span class="co">#&gt; 1144 : }</span></span>
<span><span class="co">#&gt; 1145 : stan::math::profile_map&amp; get_stan_profile_data() {</span></span>
<span><span class="co">#&gt; 1146 :   return model227e48ad944d__namespace::profiles__;</span></span>
<span><span class="co">#&gt; 1147 : }</span></span>
<span><span class="co">#&gt; 1148 : #endif</span></span>
<span><span class="co">#&gt; 1149 : #endif</span></span>
<span><span class="co">#&gt; 1150 : </span></span>
<span><span class="co">#&gt; 1151 : RCPP_MODULE(stan_fit4model227e48ad944d__mod) {</span></span>
<span><span class="co">#&gt; 1152 :   class_&lt;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt; &gt;(</span></span>
<span><span class="co">#&gt; 1153 :       "stan_fit4model227e48ad944d_")</span></span>
<span><span class="co">#&gt; 1154 : </span></span>
<span><span class="co">#&gt; 1155 :       .constructor&lt;SEXP, SEXP, SEXP&gt;()</span></span>
<span><span class="co">#&gt; 1156 : </span></span>
<span><span class="co">#&gt; 1157 :       .method(</span></span>
<span><span class="co">#&gt; 1158 :           "call_sampler",</span></span>
<span><span class="co">#&gt; 1159 :           &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::call_sampler)</span></span>
<span><span class="co">#&gt; 1160 :       .method(</span></span>
<span><span class="co">#&gt; 1161 :           "param_names",</span></span>
<span><span class="co">#&gt; 1162 :           &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::param_names)</span></span>
<span><span class="co">#&gt; 1163 :       .method("param_names_oi",</span></span>
<span><span class="co">#&gt; 1164 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1165 :                                boost::random::ecuyer1988&gt;::param_names_oi)</span></span>
<span><span class="co">#&gt; 1166 :       .method("param_fnames_oi",</span></span>
<span><span class="co">#&gt; 1167 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1168 :                                boost::random::ecuyer1988&gt;::param_fnames_oi)</span></span>
<span><span class="co">#&gt; 1169 :       .method(</span></span>
<span><span class="co">#&gt; 1170 :           "param_dims",</span></span>
<span><span class="co">#&gt; 1171 :           &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::param_dims)</span></span>
<span><span class="co">#&gt; 1172 :       .method("param_dims_oi",</span></span>
<span><span class="co">#&gt; 1173 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1174 :                                boost::random::ecuyer1988&gt;::param_dims_oi)</span></span>
<span><span class="co">#&gt; 1175 :       .method("update_param_oi",</span></span>
<span><span class="co">#&gt; 1176 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1177 :                                boost::random::ecuyer1988&gt;::update_param_oi)</span></span>
<span><span class="co">#&gt; 1178 :       .method("param_oi_tidx",</span></span>
<span><span class="co">#&gt; 1179 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1180 :                                boost::random::ecuyer1988&gt;::param_oi_tidx)</span></span>
<span><span class="co">#&gt; 1181 :       .method("grad_log_prob",</span></span>
<span><span class="co">#&gt; 1182 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1183 :                                boost::random::ecuyer1988&gt;::grad_log_prob)</span></span>
<span><span class="co">#&gt; 1184 :       .method("log_prob",</span></span>
<span><span class="co">#&gt; 1185 :               &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::log_prob)</span></span>
<span><span class="co">#&gt; 1186 :       .method("unconstrain_pars",</span></span>
<span><span class="co">#&gt; 1187 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1188 :                                boost::random::ecuyer1988&gt;::unconstrain_pars)</span></span>
<span><span class="co">#&gt; 1189 :       .method("constrain_pars",</span></span>
<span><span class="co">#&gt; 1190 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1191 :                                boost::random::ecuyer1988&gt;::constrain_pars)</span></span>
<span><span class="co">#&gt; 1192 :       .method(</span></span>
<span><span class="co">#&gt; 1193 :           "num_pars_unconstrained",</span></span>
<span><span class="co">#&gt; 1194 :           &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1195 :                            boost::random::ecuyer1988&gt;::num_pars_unconstrained)</span></span>
<span><span class="co">#&gt; 1196 :       .method(</span></span>
<span><span class="co">#&gt; 1197 :           "unconstrained_param_names",</span></span>
<span><span class="co">#&gt; 1198 :           &amp;rstan::stan_fit&lt;</span></span>
<span><span class="co">#&gt; 1199 :               stan_model, boost::random::ecuyer1988&gt;::unconstrained_param_names)</span></span>
<span><span class="co">#&gt; 1200 :       .method(</span></span>
<span><span class="co">#&gt; 1201 :           "constrained_param_names",</span></span>
<span><span class="co">#&gt; 1202 :           &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1203 :                            boost::random::ecuyer1988&gt;::constrained_param_names)</span></span>
<span><span class="co">#&gt; 1204 :       .method("standalone_gqs",</span></span>
<span><span class="co">#&gt; 1205 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1206 :                                boost::random::ecuyer1988&gt;::standalone_gqs);</span></span>
<span><span class="co">#&gt; 1207 : }</span></span>
<span><span class="co">#&gt; 1208 : </span></span>
<span><span class="co">#&gt; 1209 : </span></span>
<span><span class="co">#&gt; 1210 : // declarations</span></span>
<span><span class="co">#&gt; 1211 : extern "C" {</span></span>
<span><span class="co">#&gt; 1212 : SEXP file227e154a388c( ) ;</span></span>
<span><span class="co">#&gt; 1213 : }</span></span>
<span><span class="co">#&gt; 1214 : </span></span>
<span><span class="co">#&gt; 1215 : // definition</span></span>
<span><span class="co">#&gt; 1216 : SEXP file227e154a388c() {</span></span>
<span><span class="co">#&gt; 1217 :  return Rcpp::wrap("anon_model");</span></span>
<span><span class="co">#&gt; 1218 : }</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; CHECKING DATA AND PREPROCESSING FOR MODEL 'anon_model' NOW.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; COMPILING MODEL 'anon_model' NOW.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; STARTING SAMPLER FOR MODEL 'anon_model' NOW.</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="posterior-predictions">3. Posterior Predictions<a class="anchor" aria-label="anchor" href="#posterior-predictions"></a>
</h2>
<div class="section level3">
<h3 id="generating-predictions-with-uncertainty">Generating Predictions with Uncertainty<a class="anchor" aria-label="anchor" href="#generating-predictions-with-uncertainty"></a>
</h3>
<p>The posterior distribution of predictions allows us to compute not
just point estimates but also probabilistic metrics.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate posterior predictions for the test set</span></span>
<span><span class="va">posterior_preds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">model</span>, <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">test_data</span>, select <span class="op">=</span> <span class="op">-</span><span class="va">Success</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">posterior_preds</span><span class="op">)</span> <span class="co"># Each row corresponds to a subject, and columns are MCMC samples</span></span>
<span><span class="co">#&gt;            [,1]       [,2]       [,3]       [,4]       [,5]       [,6]</span></span>
<span><span class="co">#&gt; [1,] 0.95360552 0.95021834 0.94580631 0.97381018 0.94068344 0.96359538</span></span>
<span><span class="co">#&gt; [2,] 0.06315939 0.09741205 0.09364063 0.07900010 0.40425935 0.10932841</span></span>
<span><span class="co">#&gt; [3,] 0.14972664 0.11282616 0.07849459 0.04564657 0.10429327 0.07485027</span></span>
<span><span class="co">#&gt; [4,] 0.94598885 0.95010117 0.94321209 0.97329536 0.94057337 0.96320307</span></span>
<span><span class="co">#&gt; [5,] 0.77604624 0.92940934 0.37841744 0.59757302 0.80367070 0.42113683</span></span>
<span><span class="co">#&gt; [6,] 0.05192679 0.09933909 0.05331637 0.03240259 0.07729776 0.07236551</span></span>
<span><span class="co">#&gt;            [,7]       [,8]       [,9]      [,10]     [,11]      [,12]</span></span>
<span><span class="co">#&gt; [1,] 0.96033781 0.95126412 0.95958453 0.98799108 0.9221397 0.88252517</span></span>
<span><span class="co">#&gt; [2,] 0.09085240 0.07730268 0.15265533 0.12565185 0.1029894 0.05112108</span></span>
<span><span class="co">#&gt; [3,] 0.11647928 0.07896275 0.15455183 0.05483277 0.1090577 0.06512479</span></span>
<span><span class="co">#&gt; [4,] 0.95256125 0.95126325 0.95917550 0.99033757 0.9223156 0.90678143</span></span>
<span><span class="co">#&gt; [5,] 0.44855007 0.73394715 0.72664563 0.60914730 0.6083129 0.75588868</span></span>
<span><span class="co">#&gt; [6,] 0.04244795 0.10405776 0.07834502 0.04424655 0.1151133 0.06173186</span></span>
<span><span class="co">#&gt;           [,13]      [,14]     [,15]      [,16]     [,17]      [,18]     [,19]</span></span>
<span><span class="co">#&gt; [1,] 0.94826062 0.98336299 0.9483871 0.93820027 0.9389601 0.91249512 0.9250233</span></span>
<span><span class="co">#&gt; [2,] 0.06410978 0.08864533 0.1461942 0.05711957 0.1273991 0.09691140 0.1825022</span></span>
<span><span class="co">#&gt; [3,] 0.09552574 0.10258413 0.1546943 0.05010718 0.1128786 0.05646500 0.1824316</span></span>
<span><span class="co">#&gt; [4,] 0.92006090 0.95337677 0.9473623 0.92913291 0.9388833 0.91013212 0.8475761</span></span>
<span><span class="co">#&gt; [5,] 0.27954728 0.42333314 0.5446129 0.09064981 0.8259752 0.67166452 0.7611848</span></span>
<span><span class="co">#&gt; [6,] 0.11198219 0.10121687 0.1339196 0.04884905 0.1020319 0.07528487 0.1799139</span></span>
<span><span class="co">#&gt;          [,20]      [,21]      [,22]      [,23]     [,24]      [,25]     [,26]</span></span>
<span><span class="co">#&gt; [1,] 0.8570123 0.95188447 0.93614653 0.97915223 0.9538411 0.88670961 0.8164815</span></span>
<span><span class="co">#&gt; [2,] 0.2108441 0.01876517 0.05159579 0.06854279 0.1419617 0.07576468 0.2072758</span></span>
<span><span class="co">#&gt; [3,] 0.2106688 0.02228304 0.09136696 0.07607244 0.1582908 0.07623292 0.2078918</span></span>
<span><span class="co">#&gt; [4,] 0.8570123 0.95186947 0.88334698 0.96920041 0.9211345 0.91911254 0.8163489</span></span>
<span><span class="co">#&gt; [5,] 0.2227564 0.33119388 0.82013013 0.91679389 0.8649880 0.55718589 0.4057789</span></span>
<span><span class="co">#&gt; [6,] 0.2259007 0.02640083 0.06031167 0.06703606 0.2051299 0.10078710 0.2690523</span></span>
<span><span class="co">#&gt;           [,27]      [,28]      [,29]      [,30]      [,31]      [,32]</span></span>
<span><span class="co">#&gt; [1,] 0.93448124 0.83093886 0.95971761 0.93211563 0.88580751 0.76933197</span></span>
<span><span class="co">#&gt; [2,] 0.05282613 0.09073357 0.06147170 0.39366445 0.18901170 0.02742836</span></span>
<span><span class="co">#&gt; [3,] 0.02751751 0.09145168 0.07648255 0.17540935 0.07081170 0.03542751</span></span>
<span><span class="co">#&gt; [4,] 0.89772796 0.83087890 0.95971782 0.91909721 0.88379427 0.76907414</span></span>
<span><span class="co">#&gt; [5,] 0.47736025 0.60638296 0.66572018 0.27103498 0.41133933 0.76177210</span></span>
<span><span class="co">#&gt; [6,] 0.02637232 0.09142162 0.06127533 0.06807762 0.07100077 0.02757636</span></span>
<span><span class="co">#&gt;          [,33]      [,34]      [,35]     [,36]      [,37]     [,38]     [,39]</span></span>
<span><span class="co">#&gt; [1,] 0.9691211 0.95037079 0.91495821 0.9293669 0.90981579 0.9728767 0.9576554</span></span>
<span><span class="co">#&gt; [2,] 0.1592738 0.02956163 0.07804768 0.1954525 0.18927290 0.1623113 0.1544121</span></span>
<span><span class="co">#&gt; [3,] 0.2768682 0.21686511 0.07813405 0.2394636 0.13124826 0.1634386 0.1565894</span></span>
<span><span class="co">#&gt; [4,] 0.9541437 0.91899709 0.83258184 0.9274860 0.88273197 0.9663756 0.8989994</span></span>
<span><span class="co">#&gt; [5,] 0.7496194 0.65550849 0.21909992 0.6373298 0.74355243 0.6767925 0.7790926</span></span>
<span><span class="co">#&gt; [6,] 0.2818228 0.10205964 0.11796825 0.1921952 0.08522386 0.1886304 0.1693040</span></span>
<span><span class="co">#&gt;          [,40]      [,41]      [,42]      [,43]     [,44]      [,45]      [,46]</span></span>
<span><span class="co">#&gt; [1,] 0.9101893 0.91970037 0.90658425 0.95117991 0.9822602 0.91742259 0.96650912</span></span>
<span><span class="co">#&gt; [2,] 0.1149193 0.09188143 0.03521565 0.14456716 0.1213527 0.04969016 0.06183125</span></span>
<span><span class="co">#&gt; [3,] 0.1129824 0.09100565 0.07006517 0.09862832 0.2124452 0.06168066 0.07803220</span></span>
<span><span class="co">#&gt; [4,] 0.8882882 0.91749136 0.90351073 0.95036190 0.9694353 0.91739252 0.96175475</span></span>
<span><span class="co">#&gt; [5,] 0.6578412 0.47061066 0.72008646 0.45478921 0.7476535 0.64267045 0.82180155</span></span>
<span><span class="co">#&gt; [6,] 0.1175729 0.07193414 0.03138329 0.11224624 0.1384847 0.04272127 0.07460268</span></span>
<span><span class="co">#&gt;           [,47]     [,48]      [,49]      [,50]      [,51]      [,52]     [,53]</span></span>
<span><span class="co">#&gt; [1,] 0.97492818 0.9527216 0.95113976 0.93690596 0.95197720 0.97297608 0.9059660</span></span>
<span><span class="co">#&gt; [2,] 0.12358277 0.1387682 0.08204913 0.06798811 0.04073058 0.11865216 0.1427125</span></span>
<span><span class="co">#&gt; [3,] 0.07277895 0.1493934 0.08187902 0.22042299 0.17493907 0.11776046 0.1116551</span></span>
<span><span class="co">#&gt; [4,] 0.97499294 0.9527074 0.85641502 0.93586722 0.94918490 0.97273670 0.7854650</span></span>
<span><span class="co">#&gt; [5,] 0.83792639 0.6710783 0.51332833 0.84793377 0.60336654 0.88924304 0.4423166</span></span>
<span><span class="co">#&gt; [6,] 0.03527414 0.1256664 0.05142583 0.07758123 0.12551438 0.02654554 0.1999366</span></span>
<span><span class="co">#&gt;          [,54]     [,55]     [,56]      [,57]     [,58]     [,59]      [,60]</span></span>
<span><span class="co">#&gt; [1,] 0.9190505 0.9547982 0.9011607 0.92761103 0.9340773 0.8931508 0.92166620</span></span>
<span><span class="co">#&gt; [2,] 0.1526169 0.1616560 0.1296130 0.06609694 0.1838781 0.1982891 0.16796344</span></span>
<span><span class="co">#&gt; [3,] 0.1781386 0.3765773 0.1120620 0.05661459 0.1868778 0.2053042 0.07366499</span></span>
<span><span class="co">#&gt; [4,] 0.9188180 0.9222772 0.8715837 0.92761047 0.9340964 0.8926439 0.91848922</span></span>
<span><span class="co">#&gt; [5,] 0.5072204 0.5919946 0.4245891 0.65641849 0.8038999 0.4518240 0.28096960</span></span>
<span><span class="co">#&gt; [6,] 0.1013064 0.3604606 0.1065209 0.12930304 0.2296690 0.2872912 0.11808435</span></span>
<span><span class="co">#&gt;           [,61]      [,62]     [,63]     [,64]      [,65]     [,66]     [,67]</span></span>
<span><span class="co">#&gt; [1,] 0.93396078 0.93471399 0.9652784 0.9330873 0.91512323 0.9450177 0.9292480</span></span>
<span><span class="co">#&gt; [2,] 0.05474521 0.03546805 0.1316126 0.1077329 0.05075558 0.2559873 0.1151109</span></span>
<span><span class="co">#&gt; [3,] 0.04890935 0.06782028 0.1776378 0.1145630 0.08794212 0.2212894 0.1315142</span></span>
<span><span class="co">#&gt; [4,] 0.93393227 0.93214157 0.9648835 0.9330872 0.91473128 0.9428492 0.9285513</span></span>
<span><span class="co">#&gt; [5,] 0.67508992 0.73598917 0.6865889 0.4235814 0.55106586 0.8371144 0.2889200</span></span>
<span><span class="co">#&gt; [6,] 0.05188726 0.18268001 0.3568487 0.0677504 0.06142090 0.1853769 0.1149471</span></span>
<span><span class="co">#&gt;           [,68]     [,69]      [,70]      [,71]      [,72]      [,73]</span></span>
<span><span class="co">#&gt; [1,] 0.98202096 0.8603917 0.93841203 0.91656721 0.94490384 0.93847974</span></span>
<span><span class="co">#&gt; [2,] 0.02021273 0.1003205 0.11673252 0.22982447 0.10470599 0.19191475</span></span>
<span><span class="co">#&gt; [3,] 0.01877231 0.1008062 0.08649589 0.05468524 0.08515729 0.11594363</span></span>
<span><span class="co">#&gt; [4,] 0.93430726 0.8584144 0.94627329 0.94324038 0.93478241 0.93843010</span></span>
<span><span class="co">#&gt; [5,] 0.41895573 0.3606970 0.89526535 0.49798637 0.73349326 0.70493744</span></span>
<span><span class="co">#&gt; [6,] 0.01559951 0.1006602 0.06878357 0.04211082 0.04942317 0.05747413</span></span>
<span><span class="co">#&gt;           [,74]      [,75]     [,76]      [,77]      [,78]      [,79]     [,80]</span></span>
<span><span class="co">#&gt; [1,] 0.88909075 0.98278828 0.8639886 0.96879020 0.96491291 0.90519402 0.8568571</span></span>
<span><span class="co">#&gt; [2,] 0.02375625 0.05936686 0.1532583 0.07583279 0.12075168 0.13622565 0.1425923</span></span>
<span><span class="co">#&gt; [3,] 0.09414987 0.06172718 0.1593923 0.06540429 0.09777358 0.13893618 0.2166740</span></span>
<span><span class="co">#&gt; [4,] 0.88012789 0.93171386 0.8940085 0.96884265 0.91455824 0.88949203 0.7810638</span></span>
<span><span class="co">#&gt; [5,] 0.55118557 0.29369107 0.5764709 0.73318432 0.37803663 0.54586348 0.2976378</span></span>
<span><span class="co">#&gt; [6,] 0.04178248 0.04856018 0.1502669 0.11169427 0.10363458 0.09729015 0.2196317</span></span>
<span><span class="co">#&gt;          [,81]     [,82]     [,83]      [,84]      [,85]     [,86]      [,87]</span></span>
<span><span class="co">#&gt; [1,] 0.9541870 0.8667449 0.9337858 0.97847860 0.97328000 0.9518035 0.96540544</span></span>
<span><span class="co">#&gt; [2,] 0.1528603 0.1620797 0.3168863 0.02675568 0.30049688 0.3168879 0.09688536</span></span>
<span><span class="co">#&gt; [3,] 0.0427016 0.1633061 0.1270849 0.01671995 0.17654239 0.1213549 0.09675958</span></span>
<span><span class="co">#&gt; [4,] 0.9541605 0.8611769 0.9337718 0.93622344 0.95527090 0.9252328 0.96193539</span></span>
<span><span class="co">#&gt; [5,] 0.6887550 0.7877992 0.5043067 0.84606755 0.47552655 0.5717879 0.68115868</span></span>
<span><span class="co">#&gt; [6,] 0.1028810 0.1614773 0.1353831 0.01130216 0.08714658 0.1211906 0.07057784</span></span>
<span><span class="co">#&gt;          [,88]      [,89]      [,90]      [,91]      [,92]      [,93]</span></span>
<span><span class="co">#&gt; [1,] 0.9547971 0.87635713 0.95538568 0.91332400 0.95599724 0.98577016</span></span>
<span><span class="co">#&gt; [2,] 0.1052705 0.07195412 0.04338679 0.07492102 0.06852273 0.14705369</span></span>
<span><span class="co">#&gt; [3,] 0.1055129 0.02586769 0.05436160 0.11121704 0.30145168 0.04992526</span></span>
<span><span class="co">#&gt; [4,] 0.9534533 0.87695772 0.91494129 0.89378463 0.85411298 0.98240236</span></span>
<span><span class="co">#&gt; [5,] 0.8558363 0.34412490 0.88552859 0.77241344 0.63225527 0.27430942</span></span>
<span><span class="co">#&gt; [6,] 0.1049393 0.01486669 0.02440260 0.05346084 0.40247117 0.04545387</span></span>
<span><span class="co">#&gt;           [,94]     [,95]      [,96]      [,97]      [,98]     [,99]    [,100]</span></span>
<span><span class="co">#&gt; [1,] 0.95044320 0.9603671 0.98383313 0.90337300 0.92044419 0.9730071 0.9461210</span></span>
<span><span class="co">#&gt; [2,] 0.06496306 0.2055474 0.05476457 0.05322308 0.10997617 0.1727534 0.1422422</span></span>
<span><span class="co">#&gt; [3,] 0.06181107 0.2059193 0.13782449 0.02806611 0.07243965 0.1057670 0.1419542</span></span>
<span><span class="co">#&gt; [4,] 0.95000504 0.9360937 0.95459042 0.88155150 0.91935129 0.9653030 0.9556160</span></span>
<span><span class="co">#&gt; [5,] 0.75774754 0.5155509 0.91215866 0.44654522 0.48406376 0.5783605 0.3642702</span></span>
<span><span class="co">#&gt; [6,] 0.05950760 0.1951705 0.05787978 0.01370030 0.05254762 0.1052707 0.1411693</span></span></code></pre></div>
<p>Each entry in <code>posterior_preds</code> represents the predicted
probability of success from a single posterior sample.</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="posterior-probability-of-treatment-success">4. Posterior Probability of Treatment Success<a class="anchor" aria-label="anchor" href="#posterior-probability-of-treatment-success"></a>
</h2>
<div class="section level3">
<h3 id="threshold-based-decision-making">Threshold-Based Decision-Making<a class="anchor" aria-label="anchor" href="#threshold-based-decision-making"></a>
</h3>
<p>Suppose we define treatment success as a predicted probability â‰¥ 0.6.
We can compute the posterior probability that this threshold is met for
each subject.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compute posterior probabilities of success (p_hat â‰¥ 0.6)</span></span>
<span><span class="va">success_threshold</span> <span class="op">&lt;-</span> <span class="fl">0.6</span></span>
<span><span class="va">posterior_probs_success</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowMeans</a></span><span class="op">(</span><span class="va">posterior_preds</span> <span class="op">&gt;=</span> <span class="va">success_threshold</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">posterior_probs_success</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1.00 0.00 0.00 1.00 0.53 0.00</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="proportion-of-subjects-likely-to-achieve-success">Proportion of Subjects Likely to Achieve Success<a class="anchor" aria-label="anchor" href="#proportion-of-subjects-likely-to-achieve-success"></a>
</h3>
<p>Next, we calculate the posterior probability that a certain
proportion of subjects in the treatment group achieve success.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define success proportion threshold</span></span>
<span><span class="va">prop_success_threshold</span> <span class="op">&lt;-</span> <span class="fl">0.7</span></span>
<span></span>
<span><span class="co"># Simulate posterior proportion of success</span></span>
<span><span class="va">posterior_success_proportion</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="va">posterior_preds</span> <span class="op">&gt;=</span> <span class="va">success_threshold</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Posterior probability that â‰¥ 70% of subjects achieve success</span></span>
<span><span class="va">posterior_prob_high_success</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">posterior_success_proportion</span> <span class="op">&gt;=</span> <span class="va">prop_success_threshold</span><span class="op">)</span></span>
<span><span class="va">posterior_prob_high_success</span></span>
<span><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="visualizing-posterior-insights">5. Visualizing Posterior Insights<a class="anchor" aria-label="anchor" href="#visualizing-posterior-insights"></a>
</h2>
<div class="section level3">
<h3 id="posterior-predictive-distribution">Posterior Predictive Distribution<a class="anchor" aria-label="anchor" href="#posterior-predictive-distribution"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot posterior probabilities of success for individual subjects</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Subject <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">test_data</span><span class="op">)</span><span class="op">)</span>, Prob <span class="op">=</span> <span class="va">posterior_probs_success</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Subject</span>, y <span class="op">=</span> <span class="va">Prob</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, fill <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="va">success_threshold</span>, color <span class="op">=</span> <span class="st">"red"</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Posterior Probability of Treatment Success"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Subject"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Posterior Probability"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="ct_app_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="distribution-of-success-proportion">Distribution of Success Proportion<a class="anchor" aria-label="anchor" href="#distribution-of-success-proportion"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Histogram of posterior success proportions</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>SuccessProp <span class="op">=</span> <span class="va">posterior_success_proportion</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">SuccessProp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"green"</span>, bins <span class="op">=</span> <span class="fl">20</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">prop_success_threshold</span>, color <span class="op">=</span> <span class="st">"red"</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Posterior Distribution of Success Proportion"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Proportion of Subjects Achieving Success"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Frequency"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="ct_app_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="clinical-trial-decision-making">6. Clinical Trial Decision-Making<a class="anchor" aria-label="anchor" href="#clinical-trial-decision-making"></a>
</h2>
<div class="section level3">
<h3 id="bayesian-probability-threshold">Bayesian Probability Threshold<a class="anchor" aria-label="anchor" href="#bayesian-probability-threshold"></a>
</h3>
<p>The posterior probability can guide decision-making. For example: -
If <code>posterior_prob_high_success &gt; 0.9</code>, consider the
treatment effective. - If
<code>posterior_prob_high_success &lt; 0.1</code>, consider the
treatment ineffective. - Otherwise, collect more data or refine the
model.</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">7. Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The <code>bnns</code> package empowers clinical trial analysts to
leverage Bayesian Neural Networks for predictive modeling and
decision-making. By utilizing posterior distributions, we can: -
Quantify uncertainty in predictions. - Make informed decisions about
treatment efficacy. - Evaluate trial outcomes based on predefined
success criteria.</p>
<p>This probabilistic framework is particularly valuable in scenarios
where uncertainty plays a critical role in decision-making, such as
early-phase clinical trials.</p>
<p>```</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Swarnendu Chatterjee.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
