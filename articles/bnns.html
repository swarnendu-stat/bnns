<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started with the bnns Package • bnns</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with the bnns Package">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bnns</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/bnns.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/ct_app.html">Using Bayesian Neural Networks in Clinical Trials</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/swarnendu-stat/bnns/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Getting Started with the bnns Package</h1>
                        <h4 data-toc-skip class="author">Swarnendu
Chatterjee</h4>
            
            <h4 data-toc-skip class="date">2024-12-27</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/swarnendu-stat/bnns/blob/master/vignettes/bnns.Rmd" class="external-link"><code>vignettes/bnns.Rmd</code></a></small>
      <div class="d-none name"><code>bnns.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code>bnns</code> package provides an efficient and user-friendly
implementation of <strong>Bayesian Neural Networks (BNNs)</strong> for
regression, binary classification, and multiclass classification
problems. By integrating Bayesian inference, <code>bnns</code> allows
for uncertainty quantification in predictions and robust parameter
estimation.</p>
<p>This vignette covers: 1. Installing and loading the package 2.
Preparing data 3. Fitting a BNN model 4. Summarizing the model 5. Making
predictions 6. Model evaluation</p>
</div>
<div class="section level2">
<h2 id="installation">1. Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install the package, use the following commands:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from CRAN (if available)</span></span>
<span><span class="co">#  install.packages("bnns")</span></span>
<span></span>
<span><span class="co"># Or install the development version from GitHub</span></span>
<span><span class="co"># devtools::install_github("swarnendu-stat/bnns")</span></span></code></pre></div>
<p>Load the package in your R session:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/swarnendu-stat/bnns" class="external-link">bnns</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="preparing-the-data">2. Preparing the Data<a class="anchor" aria-label="anchor" href="#preparing-the-data"></a>
</h2>
<p>The <code>bnns</code> package expects data in the form of matrices
for predictors and a vector for responses.</p>
<p>Here’s an example of generating synthetic data:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate training data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>, x2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>For binary or multiclass classification:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Binary classification response</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">y_bin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Multiclass classification response</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">y_cat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>  <span class="co"># 3 classes</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="fitting-a-bayesian-neural-network-model">3. Fitting a Bayesian Neural Network Model<a class="anchor" aria-label="anchor" href="#fitting-a-bayesian-neural-network-model"></a>
</h2>
<p>Fit a Bayesian Neural Network using the <code><a href="../reference/bnns.html">bnns()</a></code> function.
Specify the network architecture using arguments like the number of
layers (<code>L</code>), nodes per layer (<code>nodes</code>), and
activation functions (<code>act_fn</code>).</p>
<div class="section level3">
<h3 id="regression-example">Regression Example<a class="anchor" aria-label="anchor" href="#regression-example"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_reg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bnns.html">bnns</a></span><span class="op">(</span></span>
<span>  <span class="va">y</span> <span class="op">~</span> <span class="op">-</span><span class="fl">1</span> <span class="op">+</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span>,</span>
<span>  data <span class="op">=</span> <span class="va">df</span>,</span>
<span>  L <span class="op">=</span> <span class="fl">2</span>,                  <span class="co"># Number of hidden layers</span></span>
<span>  nodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span>, <span class="fl">8</span><span class="op">)</span>,       <span class="co"># Nodes per layer</span></span>
<span>  act_fn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,       <span class="co"># Activation functions: 2 = Sigmoid, 3 = ReLU</span></span>
<span>  out_act_fn <span class="op">=</span> <span class="fl">1</span>,          <span class="co"># Output activation function: 1 = Identity (for regression)</span></span>
<span>  iter <span class="op">=</span> <span class="fl">2e2</span>, </span>
<span>  warmup <span class="op">=</span> <span class="fl">1e2</span>, </span>
<span>  chains <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in get(paste0(generic, ".", class), envir = get_method_env()) : </span></span>
<span><span class="co">#&gt;   object 'type_sum.accel' not found</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; TRANSLATING MODEL '' FROM Stan CODE TO C++ CODE NOW.</span></span>
<span><span class="co">#&gt; OS: x86_64, linux-gnu; rstan: 2.32.6; Rcpp: 1.0.13.1; inline: 0.3.20 </span></span>
<span><span class="co">#&gt;  &gt;&gt; setting environment variables: </span></span>
<span><span class="co">#&gt; PKG_LIBS =  '/home/runner/work/_temp/Library/rstan/lib//libStanServices.a' -L'/home/runner/work/_temp/Library/StanHeaders/lib/' -lStanHeaders -L'/home/runner/work/_temp/Library/RcppParallel/lib/' -ltbb </span></span>
<span><span class="co">#&gt; PKG_CPPFLAGS =   -I"/home/runner/work/_temp/Library/Rcpp/include/"  -I"/home/runner/work/_temp/Library/RcppEigen/include/"  -I"/home/runner/work/_temp/Library/RcppEigen/include/unsupported"  -I"/home/runner/work/_temp/Library/BH/include" -I"/home/runner/work/_temp/Library/StanHeaders/include/src/"  -I"/home/runner/work/_temp/Library/StanHeaders/include/"  -I"/home/runner/work/_temp/Library/RcppParallel/include/"  -I"/home/runner/work/_temp/Library/rstan/include" -DEIGEN_NO_DEBUG  -DBOOST_DISABLE_ASSERTS  -DBOOST_PENDING_INTEGER_LOG2_HPP  -DSTAN_THREADS  -DUSE_STANC3 -DSTRICT_R_HEADERS  -DBOOST_PHOENIX_NO_VARIADIC_EXPRESSION  -D_HAS_AUTO_PTR_ETC=0  -include '/home/runner/work/_temp/Library/StanHeaders/include/stan/math/prim/fun/Eigen.hpp'  -D_REENTRANT -DRCPP_PARALLEL_USE_TBB=1 </span></span>
<span><span class="co">#&gt;  &gt;&gt; Program source :</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    1 : </span></span>
<span><span class="co">#&gt;    2 : // includes from the plugin</span></span>
<span><span class="co">#&gt;    3 : // [[Rcpp::plugins(cpp14)]]</span></span>
<span><span class="co">#&gt;    4 : </span></span>
<span><span class="co">#&gt;    5 : </span></span>
<span><span class="co">#&gt;    6 : // user includes</span></span>
<span><span class="co">#&gt;    7 : #include &lt;Rcpp.h&gt;</span></span>
<span><span class="co">#&gt;    8 : using namespace Rcpp;</span></span>
<span><span class="co">#&gt;    9 : #ifndef MODELS_HPP</span></span>
<span><span class="co">#&gt;   10 : #define MODELS_HPP</span></span>
<span><span class="co">#&gt;   11 : #define STAN__SERVICES__COMMAND_HPP</span></span>
<span><span class="co">#&gt;   12 : #include &lt;rstan/rstaninc.hpp&gt;</span></span>
<span><span class="co">#&gt;   13 : #ifndef USE_STANC3</span></span>
<span><span class="co">#&gt;   14 : #define USE_STANC3</span></span>
<span><span class="co">#&gt;   15 : #endif</span></span>
<span><span class="co">#&gt;   16 : // Code generated by stanc v2.32.2</span></span>
<span><span class="co">#&gt;   17 : #include &lt;stan/model/model_header.hpp&gt;</span></span>
<span><span class="co">#&gt;   18 : namespace model1d367b15073f__namespace {</span></span>
<span><span class="co">#&gt;   19 : using stan::model::model_base_crtp;</span></span>
<span><span class="co">#&gt;   20 : using namespace stan::math;</span></span>
<span><span class="co">#&gt;   21 : stan::math::profile_map profiles__;</span></span>
<span><span class="co">#&gt;   22 : static constexpr std::array&lt;const char*, 66&gt; locations_array__ =</span></span>
<span><span class="co">#&gt;   23 :   {" (found before start of program)",</span></span>
<span><span class="co">#&gt;   24 :   " (in 'anon_model', line 11, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   25 :   " (in 'anon_model', line 12, column 2 to column 22)",</span></span>
<span><span class="co">#&gt;   26 :   " (in 'anon_model', line 13, column 2 to column 32)",</span></span>
<span><span class="co">#&gt;   27 :   " (in 'anon_model', line 14, column 2 to column 22)",</span></span>
<span><span class="co">#&gt;   28 :   " (in 'anon_model', line 15, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   29 :   " (in 'anon_model', line 16, column 2 to column 13)",</span></span>
<span><span class="co">#&gt;   30 :   " (in 'anon_model', line 17, column 2 to column 22)",</span></span>
<span><span class="co">#&gt;   31 :   " (in 'anon_model', line 20, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   32 :   " (in 'anon_model', line 21, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   33 :   " (in 'anon_model', line 22, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   34 :   " (in 'anon_model', line 23, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   35 :   " (in 'anon_model', line 24, column 2 to column 18)",</span></span>
<span><span class="co">#&gt;   36 :   " (in 'anon_model', line 25, column 2 to column 35)",</span></span>
<span><span class="co">#&gt;   37 :   " (in 'anon_model', line 29, column 7 to column 49)",</span></span>
<span><span class="co">#&gt;   38 :   " (in 'anon_model', line 28, column 27 to column 49)",</span></span>
<span><span class="co">#&gt;   39 :   " (in 'anon_model', line 28, column 7 to line 29, column 49)",</span></span>
<span><span class="co">#&gt;   40 :   " (in 'anon_model', line 27, column 27 to column 46)",</span></span>
<span><span class="co">#&gt;   41 :   " (in 'anon_model', line 27, column 7 to line 29, column 49)",</span></span>
<span><span class="co">#&gt;   42 :   " (in 'anon_model', line 26, column 22 to column 36)",</span></span>
<span><span class="co">#&gt;   43 :   " (in 'anon_model', line 26, column 2 to line 29, column 49)",</span></span>
<span><span class="co">#&gt;   44 :   " (in 'anon_model', line 30, column 2 to column 36)",</span></span>
<span><span class="co">#&gt;   45 :   " (in 'anon_model', line 34, column 7 to column 49)",</span></span>
<span><span class="co">#&gt;   46 :   " (in 'anon_model', line 33, column 27 to column 49)",</span></span>
<span><span class="co">#&gt;   47 :   " (in 'anon_model', line 33, column 7 to line 34, column 49)",</span></span>
<span><span class="co">#&gt;   48 :   " (in 'anon_model', line 32, column 27 to column 46)",</span></span>
<span><span class="co">#&gt;   49 :   " (in 'anon_model', line 32, column 7 to line 34, column 49)",</span></span>
<span><span class="co">#&gt;   50 :   " (in 'anon_model', line 31, column 22 to column 36)",</span></span>
<span><span class="co">#&gt;   51 :   " (in 'anon_model', line 31, column 2 to line 34, column 49)",</span></span>
<span><span class="co">#&gt;   52 :   " (in 'anon_model', line 35, column 2 to column 29)",</span></span>
<span><span class="co">#&gt;   53 :   " (in 'anon_model', line 38, column 2 to column 31)",</span></span>
<span><span class="co">#&gt;   54 :   " (in 'anon_model', line 39, column 2 to column 20)",</span></span>
<span><span class="co">#&gt;   55 :   " (in 'anon_model', line 40, column 2 to column 31)",</span></span>
<span><span class="co">#&gt;   56 :   " (in 'anon_model', line 41, column 2 to column 20)",</span></span>
<span><span class="co">#&gt;   57 :   " (in 'anon_model', line 42, column 2 to column 23)",</span></span>
<span><span class="co">#&gt;   58 :   " (in 'anon_model', line 43, column 2 to column 23)",</span></span>
<span><span class="co">#&gt;   59 :   " (in 'anon_model', line 44, column 2 to column 23)",</span></span>
<span><span class="co">#&gt;   60 :   " (in 'anon_model', line 45, column 2 to column 27)",</span></span>
<span><span class="co">#&gt;   61 :   " (in 'anon_model', line 2, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   62 :   " (in 'anon_model', line 3, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   63 :   " (in 'anon_model', line 4, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   64 :   " (in 'anon_model', line 5, column 21 to column 22)",</span></span>
<span><span class="co">#&gt;   65 :   " (in 'anon_model', line 5, column 2 to column 24)",</span></span>
<span><span class="co">#&gt;   66 :   " (in 'anon_model', line 6, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   67 :   " (in 'anon_model', line 6, column 12 to column 13)",</span></span>
<span><span class="co">#&gt;   68 :   " (in 'anon_model', line 6, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   69 :   " (in 'anon_model', line 7, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   70 :   " (in 'anon_model', line 7, column 2 to column 14)",</span></span>
<span><span class="co">#&gt;   71 :   " (in 'anon_model', line 8, column 22 to column 23)",</span></span>
<span><span class="co">#&gt;   72 :   " (in 'anon_model', line 8, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   73 :   " (in 'anon_model', line 11, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   74 :   " (in 'anon_model', line 11, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;   75 :   " (in 'anon_model', line 12, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   76 :   " (in 'anon_model', line 13, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   77 :   " (in 'anon_model', line 13, column 19 to column 27)",</span></span>
<span><span class="co">#&gt;   78 :   " (in 'anon_model', line 14, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   79 :   " (in 'anon_model', line 15, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   80 :   " (in 'anon_model', line 20, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   81 :   " (in 'anon_model', line 20, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;   82 :   " (in 'anon_model', line 21, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   83 :   " (in 'anon_model', line 21, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;   84 :   " (in 'anon_model', line 22, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   85 :   " (in 'anon_model', line 22, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;   86 :   " (in 'anon_model', line 23, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   87 :   " (in 'anon_model', line 23, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;   88 :   " (in 'anon_model', line 24, column 9 to column 10)"};</span></span>
<span><span class="co">#&gt;   89 : class model1d367b15073f_ final : public model_base_crtp&lt;model1d367b15073f_&gt; {</span></span>
<span><span class="co">#&gt;   90 : private:</span></span>
<span><span class="co">#&gt;   91 :   int n;</span></span>
<span><span class="co">#&gt;   92 :   int m;</span></span>
<span><span class="co">#&gt;   93 :   int L;</span></span>
<span><span class="co">#&gt;   94 :   std::vector&lt;int&gt; nodes;</span></span>
<span><span class="co">#&gt;   95 :   Eigen::Matrix&lt;double,-1,-1&gt; X_data__;</span></span>
<span><span class="co">#&gt;   96 :   Eigen::Matrix&lt;double,-1,1&gt; y_data__;</span></span>
<span><span class="co">#&gt;   97 :   std::vector&lt;int&gt; act_fn;</span></span>
<span><span class="co">#&gt;   98 :   int w1_2dim__;</span></span>
<span><span class="co">#&gt;   99 :   int b1_1dim__;</span></span>
<span><span class="co">#&gt;  100 :   int w2_1dim__;</span></span>
<span><span class="co">#&gt;  101 :   int w2_2dim__;</span></span>
<span><span class="co">#&gt;  102 :   int b2_1dim__;</span></span>
<span><span class="co">#&gt;  103 :   int w_out_1dim__;</span></span>
<span><span class="co">#&gt;  104 :   int z1_2dim__;</span></span>
<span><span class="co">#&gt;  105 :   int a1_2dim__;</span></span>
<span><span class="co">#&gt;  106 :   int z2_2dim__;</span></span>
<span><span class="co">#&gt;  107 :   int a2_2dim__;</span></span>
<span><span class="co">#&gt;  108 :   Eigen::Map&lt;Eigen::Matrix&lt;double,-1,-1&gt;&gt; X{nullptr, 0, 0};</span></span>
<span><span class="co">#&gt;  109 :   Eigen::Map&lt;Eigen::Matrix&lt;double,-1,1&gt;&gt; y{nullptr, 0};</span></span>
<span><span class="co">#&gt;  110 : public:</span></span>
<span><span class="co">#&gt;  111 :   ~model1d367b15073f_() {}</span></span>
<span><span class="co">#&gt;  112 :   model1d367b15073f_(stan::io::var_context&amp; context__, unsigned int</span></span>
<span><span class="co">#&gt;  113 :                      random_seed__ = 0, std::ostream* pstream__ = nullptr)</span></span>
<span><span class="co">#&gt;  114 :       : model_base_crtp(0) {</span></span>
<span><span class="co">#&gt;  115 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  116 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  117 :     boost::ecuyer1988 base_rng__ =</span></span>
<span><span class="co">#&gt;  118 :       stan::services::util::create_rng(random_seed__, 0);</span></span>
<span><span class="co">#&gt;  119 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  120 :     (void) base_rng__;</span></span>
<span><span class="co">#&gt;  121 :     static constexpr const char* function__ =</span></span>
<span><span class="co">#&gt;  122 :       "model1d367b15073f__namespace::model1d367b15073f_";</span></span>
<span><span class="co">#&gt;  123 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  124 :     (void) function__;</span></span>
<span><span class="co">#&gt;  125 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  126 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  127 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  128 :     try {</span></span>
<span><span class="co">#&gt;  129 :       int pos__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  130 :       pos__ = 1;</span></span>
<span><span class="co">#&gt;  131 :       current_statement__ = 38;</span></span>
<span><span class="co">#&gt;  132 :       context__.validate_dims("data initialization", "n", "int",</span></span>
<span><span class="co">#&gt;  133 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  134 :       n = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  135 :       current_statement__ = 38;</span></span>
<span><span class="co">#&gt;  136 :       n = context__.vals_i("n")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  137 :       current_statement__ = 38;</span></span>
<span><span class="co">#&gt;  138 :       stan::math::check_greater_or_equal(function__, "n", n, 1);</span></span>
<span><span class="co">#&gt;  139 :       current_statement__ = 39;</span></span>
<span><span class="co">#&gt;  140 :       context__.validate_dims("data initialization", "m", "int",</span></span>
<span><span class="co">#&gt;  141 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  142 :       m = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  143 :       current_statement__ = 39;</span></span>
<span><span class="co">#&gt;  144 :       m = context__.vals_i("m")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  145 :       current_statement__ = 39;</span></span>
<span><span class="co">#&gt;  146 :       stan::math::check_greater_or_equal(function__, "m", m, 1);</span></span>
<span><span class="co">#&gt;  147 :       current_statement__ = 40;</span></span>
<span><span class="co">#&gt;  148 :       context__.validate_dims("data initialization", "L", "int",</span></span>
<span><span class="co">#&gt;  149 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  150 :       L = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  151 :       current_statement__ = 40;</span></span>
<span><span class="co">#&gt;  152 :       L = context__.vals_i("L")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  153 :       current_statement__ = 40;</span></span>
<span><span class="co">#&gt;  154 :       stan::math::check_greater_or_equal(function__, "L", L, 1);</span></span>
<span><span class="co">#&gt;  155 :       current_statement__ = 41;</span></span>
<span><span class="co">#&gt;  156 :       stan::math::validate_non_negative_index("nodes", "L", L);</span></span>
<span><span class="co">#&gt;  157 :       current_statement__ = 42;</span></span>
<span><span class="co">#&gt;  158 :       context__.validate_dims("data initialization", "nodes", "int",</span></span>
<span><span class="co">#&gt;  159 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(L)});</span></span>
<span><span class="co">#&gt;  160 :       nodes = std::vector&lt;int&gt;(L, std::numeric_limits&lt;int&gt;::min());</span></span>
<span><span class="co">#&gt;  161 :       current_statement__ = 42;</span></span>
<span><span class="co">#&gt;  162 :       nodes = context__.vals_i("nodes");</span></span>
<span><span class="co">#&gt;  163 :       current_statement__ = 42;</span></span>
<span><span class="co">#&gt;  164 :       stan::math::check_greater_or_equal(function__, "nodes", nodes, 1);</span></span>
<span><span class="co">#&gt;  165 :       current_statement__ = 43;</span></span>
<span><span class="co">#&gt;  166 :       stan::math::validate_non_negative_index("X", "n", n);</span></span>
<span><span class="co">#&gt;  167 :       current_statement__ = 44;</span></span>
<span><span class="co">#&gt;  168 :       stan::math::validate_non_negative_index("X", "m", m);</span></span>
<span><span class="co">#&gt;  169 :       current_statement__ = 45;</span></span>
<span><span class="co">#&gt;  170 :       context__.validate_dims("data initialization", "X", "double",</span></span>
<span><span class="co">#&gt;  171 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n), static_cast&lt;size_t&gt;(m)});</span></span>
<span><span class="co">#&gt;  172 :       X_data__ = Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, m,</span></span>
<span><span class="co">#&gt;  173 :                    std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  174 :       new (&amp;X) Eigen::Map&lt;Eigen::Matrix&lt;double,-1,-1&gt;&gt;(X_data__.data(), n, m);</span></span>
<span><span class="co">#&gt;  175 :       {</span></span>
<span><span class="co">#&gt;  176 :         std::vector&lt;local_scalar_t__&gt; X_flat__;</span></span>
<span><span class="co">#&gt;  177 :         current_statement__ = 45;</span></span>
<span><span class="co">#&gt;  178 :         X_flat__ = context__.vals_r("X");</span></span>
<span><span class="co">#&gt;  179 :         current_statement__ = 45;</span></span>
<span><span class="co">#&gt;  180 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  181 :         current_statement__ = 45;</span></span>
<span><span class="co">#&gt;  182 :         for (int sym1__ = 1; sym1__ &lt;= m; ++sym1__) {</span></span>
<span><span class="co">#&gt;  183 :           current_statement__ = 45;</span></span>
<span><span class="co">#&gt;  184 :           for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  185 :             current_statement__ = 45;</span></span>
<span><span class="co">#&gt;  186 :             stan::model::assign(X, X_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  187 :               "assigning variable X", stan::model::index_uni(sym2__),</span></span>
<span><span class="co">#&gt;  188 :               stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  189 :             current_statement__ = 45;</span></span>
<span><span class="co">#&gt;  190 :             pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  191 :           }</span></span>
<span><span class="co">#&gt;  192 :         }</span></span>
<span><span class="co">#&gt;  193 :       }</span></span>
<span><span class="co">#&gt;  194 :       current_statement__ = 46;</span></span>
<span><span class="co">#&gt;  195 :       stan::math::validate_non_negative_index("y", "n", n);</span></span>
<span><span class="co">#&gt;  196 :       current_statement__ = 47;</span></span>
<span><span class="co">#&gt;  197 :       context__.validate_dims("data initialization", "y", "double",</span></span>
<span><span class="co">#&gt;  198 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n)});</span></span>
<span><span class="co">#&gt;  199 :       y_data__ = Eigen::Matrix&lt;double,-1,1&gt;::Constant(n,</span></span>
<span><span class="co">#&gt;  200 :                    std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  201 :       new (&amp;y) Eigen::Map&lt;Eigen::Matrix&lt;double,-1,1&gt;&gt;(y_data__.data(), n);</span></span>
<span><span class="co">#&gt;  202 :       {</span></span>
<span><span class="co">#&gt;  203 :         std::vector&lt;local_scalar_t__&gt; y_flat__;</span></span>
<span><span class="co">#&gt;  204 :         current_statement__ = 47;</span></span>
<span><span class="co">#&gt;  205 :         y_flat__ = context__.vals_r("y");</span></span>
<span><span class="co">#&gt;  206 :         current_statement__ = 47;</span></span>
<span><span class="co">#&gt;  207 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  208 :         current_statement__ = 47;</span></span>
<span><span class="co">#&gt;  209 :         for (int sym1__ = 1; sym1__ &lt;= n; ++sym1__) {</span></span>
<span><span class="co">#&gt;  210 :           current_statement__ = 47;</span></span>
<span><span class="co">#&gt;  211 :           stan::model::assign(y, y_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  212 :             "assigning variable y", stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  213 :           current_statement__ = 47;</span></span>
<span><span class="co">#&gt;  214 :           pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  215 :         }</span></span>
<span><span class="co">#&gt;  216 :       }</span></span>
<span><span class="co">#&gt;  217 :       current_statement__ = 48;</span></span>
<span><span class="co">#&gt;  218 :       stan::math::validate_non_negative_index("act_fn", "L", L);</span></span>
<span><span class="co">#&gt;  219 :       current_statement__ = 49;</span></span>
<span><span class="co">#&gt;  220 :       context__.validate_dims("data initialization", "act_fn", "int",</span></span>
<span><span class="co">#&gt;  221 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(L)});</span></span>
<span><span class="co">#&gt;  222 :       act_fn = std::vector&lt;int&gt;(L, std::numeric_limits&lt;int&gt;::min());</span></span>
<span><span class="co">#&gt;  223 :       current_statement__ = 49;</span></span>
<span><span class="co">#&gt;  224 :       act_fn = context__.vals_i("act_fn");</span></span>
<span><span class="co">#&gt;  225 :       current_statement__ = 49;</span></span>
<span><span class="co">#&gt;  226 :       stan::math::check_greater_or_equal(function__, "act_fn", act_fn, 1);</span></span>
<span><span class="co">#&gt;  227 :       current_statement__ = 50;</span></span>
<span><span class="co">#&gt;  228 :       stan::math::validate_non_negative_index("w1", "m", m);</span></span>
<span><span class="co">#&gt;  229 :       current_statement__ = 51;</span></span>
<span><span class="co">#&gt;  230 :       w1_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  231 :       current_statement__ = 51;</span></span>
<span><span class="co">#&gt;  232 :       w1_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  233 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  234 :       current_statement__ = 51;</span></span>
<span><span class="co">#&gt;  235 :       stan::math::validate_non_negative_index("w1", "nodes[1]", w1_2dim__);</span></span>
<span><span class="co">#&gt;  236 :       current_statement__ = 52;</span></span>
<span><span class="co">#&gt;  237 :       b1_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  238 :       current_statement__ = 52;</span></span>
<span><span class="co">#&gt;  239 :       b1_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  240 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  241 :       current_statement__ = 52;</span></span>
<span><span class="co">#&gt;  242 :       stan::math::validate_non_negative_index("b1", "nodes[1]", b1_1dim__);</span></span>
<span><span class="co">#&gt;  243 :       current_statement__ = 53;</span></span>
<span><span class="co">#&gt;  244 :       w2_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  245 :       current_statement__ = 53;</span></span>
<span><span class="co">#&gt;  246 :       w2_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  247 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  248 :       current_statement__ = 53;</span></span>
<span><span class="co">#&gt;  249 :       stan::math::validate_non_negative_index("w2", "nodes[1]", w2_1dim__);</span></span>
<span><span class="co">#&gt;  250 :       current_statement__ = 54;</span></span>
<span><span class="co">#&gt;  251 :       w2_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  252 :       current_statement__ = 54;</span></span>
<span><span class="co">#&gt;  253 :       w2_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  254 :                     stan::model::index_uni(2));</span></span>
<span><span class="co">#&gt;  255 :       current_statement__ = 54;</span></span>
<span><span class="co">#&gt;  256 :       stan::math::validate_non_negative_index("w2", "nodes[2]", w2_2dim__);</span></span>
<span><span class="co">#&gt;  257 :       current_statement__ = 55;</span></span>
<span><span class="co">#&gt;  258 :       b2_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  259 :       current_statement__ = 55;</span></span>
<span><span class="co">#&gt;  260 :       b2_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  261 :                     stan::model::index_uni(2));</span></span>
<span><span class="co">#&gt;  262 :       current_statement__ = 55;</span></span>
<span><span class="co">#&gt;  263 :       stan::math::validate_non_negative_index("b2", "nodes[2]", b2_1dim__);</span></span>
<span><span class="co">#&gt;  264 :       current_statement__ = 56;</span></span>
<span><span class="co">#&gt;  265 :       w_out_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  266 :       current_statement__ = 56;</span></span>
<span><span class="co">#&gt;  267 :       w_out_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  268 :                        stan::model::index_uni(L));</span></span>
<span><span class="co">#&gt;  269 :       current_statement__ = 56;</span></span>
<span><span class="co">#&gt;  270 :       stan::math::validate_non_negative_index("w_out", "nodes[L]",</span></span>
<span><span class="co">#&gt;  271 :         w_out_1dim__);</span></span>
<span><span class="co">#&gt;  272 :       current_statement__ = 57;</span></span>
<span><span class="co">#&gt;  273 :       stan::math::validate_non_negative_index("z1", "n", n);</span></span>
<span><span class="co">#&gt;  274 :       current_statement__ = 58;</span></span>
<span><span class="co">#&gt;  275 :       z1_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  276 :       current_statement__ = 58;</span></span>
<span><span class="co">#&gt;  277 :       z1_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  278 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  279 :       current_statement__ = 58;</span></span>
<span><span class="co">#&gt;  280 :       stan::math::validate_non_negative_index("z1", "nodes[1]", z1_2dim__);</span></span>
<span><span class="co">#&gt;  281 :       current_statement__ = 59;</span></span>
<span><span class="co">#&gt;  282 :       stan::math::validate_non_negative_index("a1", "n", n);</span></span>
<span><span class="co">#&gt;  283 :       current_statement__ = 60;</span></span>
<span><span class="co">#&gt;  284 :       a1_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  285 :       current_statement__ = 60;</span></span>
<span><span class="co">#&gt;  286 :       a1_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  287 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  288 :       current_statement__ = 60;</span></span>
<span><span class="co">#&gt;  289 :       stan::math::validate_non_negative_index("a1", "nodes[1]", a1_2dim__);</span></span>
<span><span class="co">#&gt;  290 :       current_statement__ = 61;</span></span>
<span><span class="co">#&gt;  291 :       stan::math::validate_non_negative_index("z2", "n", n);</span></span>
<span><span class="co">#&gt;  292 :       current_statement__ = 62;</span></span>
<span><span class="co">#&gt;  293 :       z2_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  294 :       current_statement__ = 62;</span></span>
<span><span class="co">#&gt;  295 :       z2_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  296 :                     stan::model::index_uni(2));</span></span>
<span><span class="co">#&gt;  297 :       current_statement__ = 62;</span></span>
<span><span class="co">#&gt;  298 :       stan::math::validate_non_negative_index("z2", "nodes[2]", z2_2dim__);</span></span>
<span><span class="co">#&gt;  299 :       current_statement__ = 63;</span></span>
<span><span class="co">#&gt;  300 :       stan::math::validate_non_negative_index("a2", "n", n);</span></span>
<span><span class="co">#&gt;  301 :       current_statement__ = 64;</span></span>
<span><span class="co">#&gt;  302 :       a2_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  303 :       current_statement__ = 64;</span></span>
<span><span class="co">#&gt;  304 :       a2_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  305 :                     stan::model::index_uni(2));</span></span>
<span><span class="co">#&gt;  306 :       current_statement__ = 64;</span></span>
<span><span class="co">#&gt;  307 :       stan::math::validate_non_negative_index("a2", "nodes[2]", a2_2dim__);</span></span>
<span><span class="co">#&gt;  308 :       current_statement__ = 65;</span></span>
<span><span class="co">#&gt;  309 :       stan::math::validate_non_negative_index("y_hat", "n", n);</span></span>
<span><span class="co">#&gt;  310 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  311 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  312 :     }</span></span>
<span><span class="co">#&gt;  313 :     num_params_r__ = (m * w1_2dim__) + b1_1dim__ + (w2_1dim__ * w2_2dim__) +</span></span>
<span><span class="co">#&gt;  314 :       b2_1dim__ + w_out_1dim__ + 1 + 1;</span></span>
<span><span class="co">#&gt;  315 :   }</span></span>
<span><span class="co">#&gt;  316 :   inline std::string model_name() const final {</span></span>
<span><span class="co">#&gt;  317 :     return "model1d367b15073f_";</span></span>
<span><span class="co">#&gt;  318 :   }</span></span>
<span><span class="co">#&gt;  319 :   inline std::vector&lt;std::string&gt; model_compile_info() const noexcept {</span></span>
<span><span class="co">#&gt;  320 :     return std::vector&lt;std::string&gt;{"stanc_version = stanc3 v2.32.2",</span></span>
<span><span class="co">#&gt;  321 :              "stancflags = --"};</span></span>
<span><span class="co">#&gt;  322 :   }</span></span>
<span><span class="co">#&gt;  323 :   template &lt;bool propto__, bool jacobian__, typename VecR, typename VecI,</span></span>
<span><span class="co">#&gt;  324 :             stan::require_vector_like_t&lt;VecR&gt;* = nullptr,</span></span>
<span><span class="co">#&gt;  325 :             stan::require_vector_like_vt&lt;std::is_integral, VecI&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  326 :   inline stan::scalar_type_t&lt;VecR&gt;</span></span>
<span><span class="co">#&gt;  327 :   log_prob_impl(VecR&amp; params_r__, VecI&amp; params_i__, std::ostream*</span></span>
<span><span class="co">#&gt;  328 :                 pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  329 :     using T__ = stan::scalar_type_t&lt;VecR&gt;;</span></span>
<span><span class="co">#&gt;  330 :     using local_scalar_t__ = T__;</span></span>
<span><span class="co">#&gt;  331 :     T__ lp__(0.0);</span></span>
<span><span class="co">#&gt;  332 :     stan::math::accumulator&lt;T__&gt; lp_accum__;</span></span>
<span><span class="co">#&gt;  333 :     stan::io::deserializer&lt;local_scalar_t__&gt; in__(params_r__, params_i__);</span></span>
<span><span class="co">#&gt;  334 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  335 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  336 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  337 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  338 :     static constexpr const char* function__ =</span></span>
<span><span class="co">#&gt;  339 :       "model1d367b15073f__namespace::log_prob";</span></span>
<span><span class="co">#&gt;  340 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  341 :     (void) function__;</span></span>
<span><span class="co">#&gt;  342 :     try {</span></span>
<span><span class="co">#&gt;  343 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  344 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(m, w1_2dim__,</span></span>
<span><span class="co">#&gt;  345 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  346 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  347 :       w1 = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(m,</span></span>
<span><span class="co">#&gt;  348 :              w1_2dim__);</span></span>
<span><span class="co">#&gt;  349 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  350 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b1_1dim__,</span></span>
<span><span class="co">#&gt;  351 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  352 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  353 :       b1 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  354 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b1_1dim__);</span></span>
<span><span class="co">#&gt;  355 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w2 =</span></span>
<span><span class="co">#&gt;  356 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w2_1dim__, w2_2dim__,</span></span>
<span><span class="co">#&gt;  357 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  358 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  359 :       w2 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  360 :              Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w2_1dim__, w2_2dim__);</span></span>
<span><span class="co">#&gt;  361 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b2 =</span></span>
<span><span class="co">#&gt;  362 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b2_1dim__,</span></span>
<span><span class="co">#&gt;  363 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  364 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  365 :       b2 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  366 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b2_1dim__);</span></span>
<span><span class="co">#&gt;  367 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; w_out =</span></span>
<span><span class="co">#&gt;  368 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(w_out_1dim__,</span></span>
<span><span class="co">#&gt;  369 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  370 :       current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  371 :       w_out = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  372 :                 Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(w_out_1dim__);</span></span>
<span><span class="co">#&gt;  373 :       local_scalar_t__ b_out = DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  374 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  375 :       b_out = in__.template read&lt;local_scalar_t__&gt;();</span></span>
<span><span class="co">#&gt;  376 :       local_scalar_t__ sigma = DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  377 :       current_statement__ = 7;</span></span>
<span><span class="co">#&gt;  378 :       sigma = in__.template read_constrain_lb&lt;local_scalar_t__,</span></span>
<span><span class="co">#&gt;  379 :                 jacobian__&gt;(0, lp__);</span></span>
<span><span class="co">#&gt;  380 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; z1 =</span></span>
<span><span class="co">#&gt;  381 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, z1_2dim__,</span></span>
<span><span class="co">#&gt;  382 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  383 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; a1 =</span></span>
<span><span class="co">#&gt;  384 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, a1_2dim__,</span></span>
<span><span class="co">#&gt;  385 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  386 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; z2 =</span></span>
<span><span class="co">#&gt;  387 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, z2_2dim__,</span></span>
<span><span class="co">#&gt;  388 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  389 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; a2 =</span></span>
<span><span class="co">#&gt;  390 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, a2_2dim__,</span></span>
<span><span class="co">#&gt;  391 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  392 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; y_hat =</span></span>
<span><span class="co">#&gt;  393 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(n, DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  394 :       current_statement__ = 13;</span></span>
<span><span class="co">#&gt;  395 :       stan::model::assign(z1,</span></span>
<span><span class="co">#&gt;  396 :         stan::math::add(stan::math::multiply(X, w1),</span></span>
<span><span class="co">#&gt;  397 :           stan::math::rep_matrix(stan::math::transpose(b1), n)),</span></span>
<span><span class="co">#&gt;  398 :         "assigning variable z1");</span></span>
<span><span class="co">#&gt;  399 :       current_statement__ = 20;</span></span>
<span><span class="co">#&gt;  400 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  401 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(1)),</span></span>
<span><span class="co">#&gt;  402 :             1)) {</span></span>
<span><span class="co">#&gt;  403 :         current_statement__ = 19;</span></span>
<span><span class="co">#&gt;  404 :         stan::model::assign(a1, stan::math::tanh(z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  405 :       } else {</span></span>
<span><span class="co">#&gt;  406 :         current_statement__ = 18;</span></span>
<span><span class="co">#&gt;  407 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  408 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(1)),</span></span>
<span><span class="co">#&gt;  409 :               2)) {</span></span>
<span><span class="co">#&gt;  410 :           current_statement__ = 17;</span></span>
<span><span class="co">#&gt;  411 :           stan::model::assign(a1, stan::math::inv_logit(z1),</span></span>
<span><span class="co">#&gt;  412 :             "assigning variable a1");</span></span>
<span><span class="co">#&gt;  413 :         } else {</span></span>
<span><span class="co">#&gt;  414 :           current_statement__ = 16;</span></span>
<span><span class="co">#&gt;  415 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  416 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  417 :                   stan::model::index_uni(1)), 3)) {</span></span>
<span><span class="co">#&gt;  418 :             current_statement__ = 15;</span></span>
<span><span class="co">#&gt;  419 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  420 :               stan::math::log(stan::math::add(1, stan::math::exp(z1))),</span></span>
<span><span class="co">#&gt;  421 :               "assigning variable a1");</span></span>
<span><span class="co">#&gt;  422 :           } else {</span></span>
<span><span class="co">#&gt;  423 :             current_statement__ = 14;</span></span>
<span><span class="co">#&gt;  424 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  425 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  426 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  427 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  428 :                     stan::model::index_uni(1))), z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  429 :           }</span></span>
<span><span class="co">#&gt;  430 :         }</span></span>
<span><span class="co">#&gt;  431 :       }</span></span>
<span><span class="co">#&gt;  432 :       current_statement__ = 21;</span></span>
<span><span class="co">#&gt;  433 :       stan::model::assign(z2,</span></span>
<span><span class="co">#&gt;  434 :         stan::math::add(stan::math::multiply(a1, w2),</span></span>
<span><span class="co">#&gt;  435 :           stan::math::rep_matrix(stan::math::transpose(b2), n)),</span></span>
<span><span class="co">#&gt;  436 :         "assigning variable z2");</span></span>
<span><span class="co">#&gt;  437 :       current_statement__ = 28;</span></span>
<span><span class="co">#&gt;  438 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  439 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(2)),</span></span>
<span><span class="co">#&gt;  440 :             1)) {</span></span>
<span><span class="co">#&gt;  441 :         current_statement__ = 27;</span></span>
<span><span class="co">#&gt;  442 :         stan::model::assign(a2, stan::math::tanh(z2), "assigning variable a2");</span></span>
<span><span class="co">#&gt;  443 :       } else {</span></span>
<span><span class="co">#&gt;  444 :         current_statement__ = 26;</span></span>
<span><span class="co">#&gt;  445 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  446 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(2)),</span></span>
<span><span class="co">#&gt;  447 :               2)) {</span></span>
<span><span class="co">#&gt;  448 :           current_statement__ = 25;</span></span>
<span><span class="co">#&gt;  449 :           stan::model::assign(a2, stan::math::inv_logit(z2),</span></span>
<span><span class="co">#&gt;  450 :             "assigning variable a2");</span></span>
<span><span class="co">#&gt;  451 :         } else {</span></span>
<span><span class="co">#&gt;  452 :           current_statement__ = 24;</span></span>
<span><span class="co">#&gt;  453 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  454 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  455 :                   stan::model::index_uni(2)), 3)) {</span></span>
<span><span class="co">#&gt;  456 :             current_statement__ = 23;</span></span>
<span><span class="co">#&gt;  457 :             stan::model::assign(a2,</span></span>
<span><span class="co">#&gt;  458 :               stan::math::log(stan::math::add(1, stan::math::exp(z2))),</span></span>
<span><span class="co">#&gt;  459 :               "assigning variable a2");</span></span>
<span><span class="co">#&gt;  460 :           } else {</span></span>
<span><span class="co">#&gt;  461 :             current_statement__ = 22;</span></span>
<span><span class="co">#&gt;  462 :             stan::model::assign(a2,</span></span>
<span><span class="co">#&gt;  463 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  464 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  465 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  466 :                     stan::model::index_uni(2))), z2), "assigning variable a2");</span></span>
<span><span class="co">#&gt;  467 :           }</span></span>
<span><span class="co">#&gt;  468 :         }</span></span>
<span><span class="co">#&gt;  469 :       }</span></span>
<span><span class="co">#&gt;  470 :       current_statement__ = 29;</span></span>
<span><span class="co">#&gt;  471 :       stan::model::assign(y_hat,</span></span>
<span><span class="co">#&gt;  472 :         stan::math::add(stan::math::multiply(a2, w_out), b_out),</span></span>
<span><span class="co">#&gt;  473 :         "assigning variable y_hat");</span></span>
<span><span class="co">#&gt;  474 :       {</span></span>
<span><span class="co">#&gt;  475 :         current_statement__ = 30;</span></span>
<span><span class="co">#&gt;  476 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(</span></span>
<span><span class="co">#&gt;  477 :                          stan::math::to_vector(w1), 0, 1));</span></span>
<span><span class="co">#&gt;  478 :         current_statement__ = 31;</span></span>
<span><span class="co">#&gt;  479 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(b1, 0, 1));</span></span>
<span><span class="co">#&gt;  480 :         current_statement__ = 32;</span></span>
<span><span class="co">#&gt;  481 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(</span></span>
<span><span class="co">#&gt;  482 :                          stan::math::to_vector(w2), 0, 1));</span></span>
<span><span class="co">#&gt;  483 :         current_statement__ = 33;</span></span>
<span><span class="co">#&gt;  484 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(b2, 0, 1));</span></span>
<span><span class="co">#&gt;  485 :         current_statement__ = 34;</span></span>
<span><span class="co">#&gt;  486 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(w_out, 0, 1));</span></span>
<span><span class="co">#&gt;  487 :         current_statement__ = 35;</span></span>
<span><span class="co">#&gt;  488 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(b_out, 0, 1));</span></span>
<span><span class="co">#&gt;  489 :         current_statement__ = 36;</span></span>
<span><span class="co">#&gt;  490 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(sigma, 0, 1));</span></span>
<span><span class="co">#&gt;  491 :         current_statement__ = 37;</span></span>
<span><span class="co">#&gt;  492 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(y, y_hat, sigma));</span></span>
<span><span class="co">#&gt;  493 :       }</span></span>
<span><span class="co">#&gt;  494 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  495 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  496 :     }</span></span>
<span><span class="co">#&gt;  497 :     lp_accum__.add(lp__);</span></span>
<span><span class="co">#&gt;  498 :     return lp_accum__.sum();</span></span>
<span><span class="co">#&gt;  499 :   }</span></span>
<span><span class="co">#&gt;  500 :   template &lt;typename RNG, typename VecR, typename VecI, typename VecVar,</span></span>
<span><span class="co">#&gt;  501 :             stan::require_vector_like_vt&lt;std::is_floating_point,</span></span>
<span><span class="co">#&gt;  502 :             VecR&gt;* = nullptr, stan::require_vector_like_vt&lt;std::is_integral,</span></span>
<span><span class="co">#&gt;  503 :             VecI&gt;* = nullptr, stan::require_vector_vt&lt;std::is_floating_point,</span></span>
<span><span class="co">#&gt;  504 :             VecVar&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  505 :   inline void</span></span>
<span><span class="co">#&gt;  506 :   write_array_impl(RNG&amp; base_rng__, VecR&amp; params_r__, VecI&amp; params_i__,</span></span>
<span><span class="co">#&gt;  507 :                    VecVar&amp; vars__, const bool</span></span>
<span><span class="co">#&gt;  508 :                    emit_transformed_parameters__ = true, const bool</span></span>
<span><span class="co">#&gt;  509 :                    emit_generated_quantities__ = true, std::ostream*</span></span>
<span><span class="co">#&gt;  510 :                    pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  511 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  512 :     stan::io::deserializer&lt;local_scalar_t__&gt; in__(params_r__, params_i__);</span></span>
<span><span class="co">#&gt;  513 :     stan::io::serializer&lt;local_scalar_t__&gt; out__(vars__);</span></span>
<span><span class="co">#&gt;  514 :     static constexpr bool propto__ = true;</span></span>
<span><span class="co">#&gt;  515 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  516 :     (void) propto__;</span></span>
<span><span class="co">#&gt;  517 :     double lp__ = 0.0;</span></span>
<span><span class="co">#&gt;  518 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  519 :     (void) lp__;</span></span>
<span><span class="co">#&gt;  520 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  521 :     stan::math::accumulator&lt;double&gt; lp_accum__;</span></span>
<span><span class="co">#&gt;  522 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  523 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  524 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  525 :     constexpr bool jacobian__ = false;</span></span>
<span><span class="co">#&gt;  526 :     static constexpr const char* function__ =</span></span>
<span><span class="co">#&gt;  527 :       "model1d367b15073f__namespace::write_array";</span></span>
<span><span class="co">#&gt;  528 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  529 :     (void) function__;</span></span>
<span><span class="co">#&gt;  530 :     try {</span></span>
<span><span class="co">#&gt;  531 :       Eigen::Matrix&lt;double,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  532 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(m, w1_2dim__,</span></span>
<span><span class="co">#&gt;  533 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  534 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  535 :       w1 = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(m,</span></span>
<span><span class="co">#&gt;  536 :              w1_2dim__);</span></span>
<span><span class="co">#&gt;  537 :       Eigen::Matrix&lt;double,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  538 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(b1_1dim__,</span></span>
<span><span class="co">#&gt;  539 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  540 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  541 :       b1 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  542 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b1_1dim__);</span></span>
<span><span class="co">#&gt;  543 :       Eigen::Matrix&lt;double,-1,-1&gt; w2 =</span></span>
<span><span class="co">#&gt;  544 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(w2_1dim__, w2_2dim__,</span></span>
<span><span class="co">#&gt;  545 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  546 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  547 :       w2 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  548 :              Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w2_1dim__, w2_2dim__);</span></span>
<span><span class="co">#&gt;  549 :       Eigen::Matrix&lt;double,-1,1&gt; b2 =</span></span>
<span><span class="co">#&gt;  550 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(b2_1dim__,</span></span>
<span><span class="co">#&gt;  551 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  552 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  553 :       b2 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  554 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b2_1dim__);</span></span>
<span><span class="co">#&gt;  555 :       Eigen::Matrix&lt;double,-1,1&gt; w_out =</span></span>
<span><span class="co">#&gt;  556 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(w_out_1dim__,</span></span>
<span><span class="co">#&gt;  557 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  558 :       current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  559 :       w_out = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  560 :                 Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(w_out_1dim__);</span></span>
<span><span class="co">#&gt;  561 :       double b_out = std::numeric_limits&lt;double&gt;::quiet_NaN();</span></span>
<span><span class="co">#&gt;  562 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  563 :       b_out = in__.template read&lt;local_scalar_t__&gt;();</span></span>
<span><span class="co">#&gt;  564 :       double sigma = std::numeric_limits&lt;double&gt;::quiet_NaN();</span></span>
<span><span class="co">#&gt;  565 :       current_statement__ = 7;</span></span>
<span><span class="co">#&gt;  566 :       sigma = in__.template read_constrain_lb&lt;local_scalar_t__,</span></span>
<span><span class="co">#&gt;  567 :                 jacobian__&gt;(0, lp__);</span></span>
<span><span class="co">#&gt;  568 :       Eigen::Matrix&lt;double,-1,-1&gt; z1 =</span></span>
<span><span class="co">#&gt;  569 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, z1_2dim__,</span></span>
<span><span class="co">#&gt;  570 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  571 :       Eigen::Matrix&lt;double,-1,-1&gt; a1 =</span></span>
<span><span class="co">#&gt;  572 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, a1_2dim__,</span></span>
<span><span class="co">#&gt;  573 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  574 :       Eigen::Matrix&lt;double,-1,-1&gt; z2 =</span></span>
<span><span class="co">#&gt;  575 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, z2_2dim__,</span></span>
<span><span class="co">#&gt;  576 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  577 :       Eigen::Matrix&lt;double,-1,-1&gt; a2 =</span></span>
<span><span class="co">#&gt;  578 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, a2_2dim__,</span></span>
<span><span class="co">#&gt;  579 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  580 :       Eigen::Matrix&lt;double,-1,1&gt; y_hat =</span></span>
<span><span class="co">#&gt;  581 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(n,</span></span>
<span><span class="co">#&gt;  582 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  583 :       out__.write(w1);</span></span>
<span><span class="co">#&gt;  584 :       out__.write(b1);</span></span>
<span><span class="co">#&gt;  585 :       out__.write(w2);</span></span>
<span><span class="co">#&gt;  586 :       out__.write(b2);</span></span>
<span><span class="co">#&gt;  587 :       out__.write(w_out);</span></span>
<span><span class="co">#&gt;  588 :       out__.write(b_out);</span></span>
<span><span class="co">#&gt;  589 :       out__.write(sigma);</span></span>
<span><span class="co">#&gt;  590 :       if (stan::math::logical_negation(</span></span>
<span><span class="co">#&gt;  591 :             (stan::math::primitive_value(emit_transformed_parameters__) ||</span></span>
<span><span class="co">#&gt;  592 :             stan::math::primitive_value(emit_generated_quantities__)))) {</span></span>
<span><span class="co">#&gt;  593 :         return ;</span></span>
<span><span class="co">#&gt;  594 :       }</span></span>
<span><span class="co">#&gt;  595 :       current_statement__ = 13;</span></span>
<span><span class="co">#&gt;  596 :       stan::model::assign(z1,</span></span>
<span><span class="co">#&gt;  597 :         stan::math::add(stan::math::multiply(X, w1),</span></span>
<span><span class="co">#&gt;  598 :           stan::math::rep_matrix(stan::math::transpose(b1), n)),</span></span>
<span><span class="co">#&gt;  599 :         "assigning variable z1");</span></span>
<span><span class="co">#&gt;  600 :       current_statement__ = 20;</span></span>
<span><span class="co">#&gt;  601 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  602 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(1)),</span></span>
<span><span class="co">#&gt;  603 :             1)) {</span></span>
<span><span class="co">#&gt;  604 :         current_statement__ = 19;</span></span>
<span><span class="co">#&gt;  605 :         stan::model::assign(a1, stan::math::tanh(z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  606 :       } else {</span></span>
<span><span class="co">#&gt;  607 :         current_statement__ = 18;</span></span>
<span><span class="co">#&gt;  608 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  609 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(1)),</span></span>
<span><span class="co">#&gt;  610 :               2)) {</span></span>
<span><span class="co">#&gt;  611 :           current_statement__ = 17;</span></span>
<span><span class="co">#&gt;  612 :           stan::model::assign(a1, stan::math::inv_logit(z1),</span></span>
<span><span class="co">#&gt;  613 :             "assigning variable a1");</span></span>
<span><span class="co">#&gt;  614 :         } else {</span></span>
<span><span class="co">#&gt;  615 :           current_statement__ = 16;</span></span>
<span><span class="co">#&gt;  616 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  617 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  618 :                   stan::model::index_uni(1)), 3)) {</span></span>
<span><span class="co">#&gt;  619 :             current_statement__ = 15;</span></span>
<span><span class="co">#&gt;  620 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  621 :               stan::math::log(stan::math::add(1, stan::math::exp(z1))),</span></span>
<span><span class="co">#&gt;  622 :               "assigning variable a1");</span></span>
<span><span class="co">#&gt;  623 :           } else {</span></span>
<span><span class="co">#&gt;  624 :             current_statement__ = 14;</span></span>
<span><span class="co">#&gt;  625 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  626 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  627 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  628 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  629 :                     stan::model::index_uni(1))), z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  630 :           }</span></span>
<span><span class="co">#&gt;  631 :         }</span></span>
<span><span class="co">#&gt;  632 :       }</span></span>
<span><span class="co">#&gt;  633 :       current_statement__ = 21;</span></span>
<span><span class="co">#&gt;  634 :       stan::model::assign(z2,</span></span>
<span><span class="co">#&gt;  635 :         stan::math::add(stan::math::multiply(a1, w2),</span></span>
<span><span class="co">#&gt;  636 :           stan::math::rep_matrix(stan::math::transpose(b2), n)),</span></span>
<span><span class="co">#&gt;  637 :         "assigning variable z2");</span></span>
<span><span class="co">#&gt;  638 :       current_statement__ = 28;</span></span>
<span><span class="co">#&gt;  639 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  640 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(2)),</span></span>
<span><span class="co">#&gt;  641 :             1)) {</span></span>
<span><span class="co">#&gt;  642 :         current_statement__ = 27;</span></span>
<span><span class="co">#&gt;  643 :         stan::model::assign(a2, stan::math::tanh(z2), "assigning variable a2");</span></span>
<span><span class="co">#&gt;  644 :       } else {</span></span>
<span><span class="co">#&gt;  645 :         current_statement__ = 26;</span></span>
<span><span class="co">#&gt;  646 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  647 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(2)),</span></span>
<span><span class="co">#&gt;  648 :               2)) {</span></span>
<span><span class="co">#&gt;  649 :           current_statement__ = 25;</span></span>
<span><span class="co">#&gt;  650 :           stan::model::assign(a2, stan::math::inv_logit(z2),</span></span>
<span><span class="co">#&gt;  651 :             "assigning variable a2");</span></span>
<span><span class="co">#&gt;  652 :         } else {</span></span>
<span><span class="co">#&gt;  653 :           current_statement__ = 24;</span></span>
<span><span class="co">#&gt;  654 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  655 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  656 :                   stan::model::index_uni(2)), 3)) {</span></span>
<span><span class="co">#&gt;  657 :             current_statement__ = 23;</span></span>
<span><span class="co">#&gt;  658 :             stan::model::assign(a2,</span></span>
<span><span class="co">#&gt;  659 :               stan::math::log(stan::math::add(1, stan::math::exp(z2))),</span></span>
<span><span class="co">#&gt;  660 :               "assigning variable a2");</span></span>
<span><span class="co">#&gt;  661 :           } else {</span></span>
<span><span class="co">#&gt;  662 :             current_statement__ = 22;</span></span>
<span><span class="co">#&gt;  663 :             stan::model::assign(a2,</span></span>
<span><span class="co">#&gt;  664 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  665 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  666 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  667 :                     stan::model::index_uni(2))), z2), "assigning variable a2");</span></span>
<span><span class="co">#&gt;  668 :           }</span></span>
<span><span class="co">#&gt;  669 :         }</span></span>
<span><span class="co">#&gt;  670 :       }</span></span>
<span><span class="co">#&gt;  671 :       current_statement__ = 29;</span></span>
<span><span class="co">#&gt;  672 :       stan::model::assign(y_hat,</span></span>
<span><span class="co">#&gt;  673 :         stan::math::add(stan::math::multiply(a2, w_out), b_out),</span></span>
<span><span class="co">#&gt;  674 :         "assigning variable y_hat");</span></span>
<span><span class="co">#&gt;  675 :       if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  676 :         out__.write(z1);</span></span>
<span><span class="co">#&gt;  677 :         out__.write(a1);</span></span>
<span><span class="co">#&gt;  678 :         out__.write(z2);</span></span>
<span><span class="co">#&gt;  679 :         out__.write(a2);</span></span>
<span><span class="co">#&gt;  680 :         out__.write(y_hat);</span></span>
<span><span class="co">#&gt;  681 :       }</span></span>
<span><span class="co">#&gt;  682 :       if (stan::math::logical_negation(emit_generated_quantities__)) {</span></span>
<span><span class="co">#&gt;  683 :         return ;</span></span>
<span><span class="co">#&gt;  684 :       }</span></span>
<span><span class="co">#&gt;  685 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  686 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  687 :     }</span></span>
<span><span class="co">#&gt;  688 :   }</span></span>
<span><span class="co">#&gt;  689 :   template &lt;typename VecVar, typename VecI,</span></span>
<span><span class="co">#&gt;  690 :             stan::require_vector_t&lt;VecVar&gt;* = nullptr,</span></span>
<span><span class="co">#&gt;  691 :             stan::require_vector_like_vt&lt;std::is_integral, VecI&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  692 :   inline void</span></span>
<span><span class="co">#&gt;  693 :   unconstrain_array_impl(const VecVar&amp; params_r__, const VecI&amp; params_i__,</span></span>
<span><span class="co">#&gt;  694 :                          VecVar&amp; vars__, std::ostream* pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  695 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  696 :     stan::io::deserializer&lt;local_scalar_t__&gt; in__(params_r__, params_i__);</span></span>
<span><span class="co">#&gt;  697 :     stan::io::serializer&lt;local_scalar_t__&gt; out__(vars__);</span></span>
<span><span class="co">#&gt;  698 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  699 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  700 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  701 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  702 :     try {</span></span>
<span><span class="co">#&gt;  703 :       int pos__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  704 :       pos__ = 1;</span></span>
<span><span class="co">#&gt;  705 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  706 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(m, w1_2dim__,</span></span>
<span><span class="co">#&gt;  707 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  708 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  709 :       stan::model::assign(w1,</span></span>
<span><span class="co">#&gt;  710 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(m, w1_2dim__),</span></span>
<span><span class="co">#&gt;  711 :         "assigning variable w1");</span></span>
<span><span class="co">#&gt;  712 :       out__.write(w1);</span></span>
<span><span class="co">#&gt;  713 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  714 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b1_1dim__,</span></span>
<span><span class="co">#&gt;  715 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  716 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  717 :       stan::model::assign(b1,</span></span>
<span><span class="co">#&gt;  718 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b1_1dim__),</span></span>
<span><span class="co">#&gt;  719 :         "assigning variable b1");</span></span>
<span><span class="co">#&gt;  720 :       out__.write(b1);</span></span>
<span><span class="co">#&gt;  721 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w2 =</span></span>
<span><span class="co">#&gt;  722 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w2_1dim__, w2_2dim__,</span></span>
<span><span class="co">#&gt;  723 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  724 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  725 :       stan::model::assign(w2,</span></span>
<span><span class="co">#&gt;  726 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w2_1dim__,</span></span>
<span><span class="co">#&gt;  727 :           w2_2dim__), "assigning variable w2");</span></span>
<span><span class="co">#&gt;  728 :       out__.write(w2);</span></span>
<span><span class="co">#&gt;  729 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b2 =</span></span>
<span><span class="co">#&gt;  730 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b2_1dim__,</span></span>
<span><span class="co">#&gt;  731 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  732 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  733 :       stan::model::assign(b2,</span></span>
<span><span class="co">#&gt;  734 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b2_1dim__),</span></span>
<span><span class="co">#&gt;  735 :         "assigning variable b2");</span></span>
<span><span class="co">#&gt;  736 :       out__.write(b2);</span></span>
<span><span class="co">#&gt;  737 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; w_out =</span></span>
<span><span class="co">#&gt;  738 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(w_out_1dim__,</span></span>
<span><span class="co">#&gt;  739 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  740 :       current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  741 :       stan::model::assign(w_out,</span></span>
<span><span class="co">#&gt;  742 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(w_out_1dim__),</span></span>
<span><span class="co">#&gt;  743 :         "assigning variable w_out");</span></span>
<span><span class="co">#&gt;  744 :       out__.write(w_out);</span></span>
<span><span class="co">#&gt;  745 :       local_scalar_t__ b_out = DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  746 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  747 :       b_out = in__.read&lt;local_scalar_t__&gt;();</span></span>
<span><span class="co">#&gt;  748 :       out__.write(b_out);</span></span>
<span><span class="co">#&gt;  749 :       local_scalar_t__ sigma = DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  750 :       current_statement__ = 7;</span></span>
<span><span class="co">#&gt;  751 :       sigma = in__.read&lt;local_scalar_t__&gt;();</span></span>
<span><span class="co">#&gt;  752 :       out__.write_free_lb(0, sigma);</span></span>
<span><span class="co">#&gt;  753 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  754 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  755 :     }</span></span>
<span><span class="co">#&gt;  756 :   }</span></span>
<span><span class="co">#&gt;  757 :   template &lt;typename VecVar, stan::require_vector_t&lt;VecVar&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  758 :   inline void</span></span>
<span><span class="co">#&gt;  759 :   transform_inits_impl(const stan::io::var_context&amp; context__, VecVar&amp;</span></span>
<span><span class="co">#&gt;  760 :                        vars__, std::ostream* pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  761 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  762 :     stan::io::serializer&lt;local_scalar_t__&gt; out__(vars__);</span></span>
<span><span class="co">#&gt;  763 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  764 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  765 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  766 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  767 :     try {</span></span>
<span><span class="co">#&gt;  768 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  769 :       context__.validate_dims("parameter initialization", "w1", "double",</span></span>
<span><span class="co">#&gt;  770 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(m),</span></span>
<span><span class="co">#&gt;  771 :           static_cast&lt;size_t&gt;(w1_2dim__)});</span></span>
<span><span class="co">#&gt;  772 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  773 :       context__.validate_dims("parameter initialization", "b1", "double",</span></span>
<span><span class="co">#&gt;  774 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b1_1dim__)});</span></span>
<span><span class="co">#&gt;  775 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  776 :       context__.validate_dims("parameter initialization", "w2", "double",</span></span>
<span><span class="co">#&gt;  777 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w2_1dim__),</span></span>
<span><span class="co">#&gt;  778 :           static_cast&lt;size_t&gt;(w2_2dim__)});</span></span>
<span><span class="co">#&gt;  779 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  780 :       context__.validate_dims("parameter initialization", "b2", "double",</span></span>
<span><span class="co">#&gt;  781 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b2_1dim__)});</span></span>
<span><span class="co">#&gt;  782 :       current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  783 :       context__.validate_dims("parameter initialization", "w_out", "double",</span></span>
<span><span class="co">#&gt;  784 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w_out_1dim__)});</span></span>
<span><span class="co">#&gt;  785 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  786 :       context__.validate_dims("parameter initialization", "b_out", "double",</span></span>
<span><span class="co">#&gt;  787 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  788 :       current_statement__ = 7;</span></span>
<span><span class="co">#&gt;  789 :       context__.validate_dims("parameter initialization", "sigma", "double",</span></span>
<span><span class="co">#&gt;  790 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  791 :       int pos__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  792 :       pos__ = 1;</span></span>
<span><span class="co">#&gt;  793 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  794 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(m, w1_2dim__,</span></span>
<span><span class="co">#&gt;  795 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  796 :       {</span></span>
<span><span class="co">#&gt;  797 :         std::vector&lt;local_scalar_t__&gt; w1_flat__;</span></span>
<span><span class="co">#&gt;  798 :         current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  799 :         w1_flat__ = context__.vals_r("w1");</span></span>
<span><span class="co">#&gt;  800 :         current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  801 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  802 :         current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  803 :         for (int sym1__ = 1; sym1__ &lt;= w1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  804 :           current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  805 :           for (int sym2__ = 1; sym2__ &lt;= m; ++sym2__) {</span></span>
<span><span class="co">#&gt;  806 :             current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  807 :             stan::model::assign(w1, w1_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  808 :               "assigning variable w1", stan::model::index_uni(sym2__),</span></span>
<span><span class="co">#&gt;  809 :               stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  810 :             current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  811 :             pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  812 :           }</span></span>
<span><span class="co">#&gt;  813 :         }</span></span>
<span><span class="co">#&gt;  814 :       }</span></span>
<span><span class="co">#&gt;  815 :       out__.write(w1);</span></span>
<span><span class="co">#&gt;  816 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  817 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b1_1dim__,</span></span>
<span><span class="co">#&gt;  818 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  819 :       {</span></span>
<span><span class="co">#&gt;  820 :         std::vector&lt;local_scalar_t__&gt; b1_flat__;</span></span>
<span><span class="co">#&gt;  821 :         current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  822 :         b1_flat__ = context__.vals_r("b1");</span></span>
<span><span class="co">#&gt;  823 :         current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  824 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  825 :         current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  826 :         for (int sym1__ = 1; sym1__ &lt;= b1_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  827 :           current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  828 :           stan::model::assign(b1, b1_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  829 :             "assigning variable b1", stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  830 :           current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  831 :           pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  832 :         }</span></span>
<span><span class="co">#&gt;  833 :       }</span></span>
<span><span class="co">#&gt;  834 :       out__.write(b1);</span></span>
<span><span class="co">#&gt;  835 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w2 =</span></span>
<span><span class="co">#&gt;  836 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w2_1dim__, w2_2dim__,</span></span>
<span><span class="co">#&gt;  837 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  838 :       {</span></span>
<span><span class="co">#&gt;  839 :         std::vector&lt;local_scalar_t__&gt; w2_flat__;</span></span>
<span><span class="co">#&gt;  840 :         current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  841 :         w2_flat__ = context__.vals_r("w2");</span></span>
<span><span class="co">#&gt;  842 :         current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  843 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  844 :         current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  845 :         for (int sym1__ = 1; sym1__ &lt;= w2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  846 :           current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  847 :           for (int sym2__ = 1; sym2__ &lt;= w2_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt;  848 :             current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  849 :             stan::model::assign(w2, w2_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  850 :               "assigning variable w2", stan::model::index_uni(sym2__),</span></span>
<span><span class="co">#&gt;  851 :               stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  852 :             current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  853 :             pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  854 :           }</span></span>
<span><span class="co">#&gt;  855 :         }</span></span>
<span><span class="co">#&gt;  856 :       }</span></span>
<span><span class="co">#&gt;  857 :       out__.write(w2);</span></span>
<span><span class="co">#&gt;  858 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b2 =</span></span>
<span><span class="co">#&gt;  859 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b2_1dim__,</span></span>
<span><span class="co">#&gt;  860 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  861 :       {</span></span>
<span><span class="co">#&gt;  862 :         std::vector&lt;local_scalar_t__&gt; b2_flat__;</span></span>
<span><span class="co">#&gt;  863 :         current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  864 :         b2_flat__ = context__.vals_r("b2");</span></span>
<span><span class="co">#&gt;  865 :         current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  866 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  867 :         current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  868 :         for (int sym1__ = 1; sym1__ &lt;= b2_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  869 :           current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  870 :           stan::model::assign(b2, b2_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  871 :             "assigning variable b2", stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  872 :           current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  873 :           pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  874 :         }</span></span>
<span><span class="co">#&gt;  875 :       }</span></span>
<span><span class="co">#&gt;  876 :       out__.write(b2);</span></span>
<span><span class="co">#&gt;  877 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; w_out =</span></span>
<span><span class="co">#&gt;  878 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(w_out_1dim__,</span></span>
<span><span class="co">#&gt;  879 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  880 :       {</span></span>
<span><span class="co">#&gt;  881 :         std::vector&lt;local_scalar_t__&gt; w_out_flat__;</span></span>
<span><span class="co">#&gt;  882 :         current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  883 :         w_out_flat__ = context__.vals_r("w_out");</span></span>
<span><span class="co">#&gt;  884 :         current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  885 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  886 :         current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  887 :         for (int sym1__ = 1; sym1__ &lt;= w_out_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  888 :           current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  889 :           stan::model::assign(w_out, w_out_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  890 :             "assigning variable w_out", stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  891 :           current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  892 :           pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  893 :         }</span></span>
<span><span class="co">#&gt;  894 :       }</span></span>
<span><span class="co">#&gt;  895 :       out__.write(w_out);</span></span>
<span><span class="co">#&gt;  896 :       local_scalar_t__ b_out = DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  897 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  898 :       b_out = context__.vals_r("b_out")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  899 :       out__.write(b_out);</span></span>
<span><span class="co">#&gt;  900 :       local_scalar_t__ sigma = DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  901 :       current_statement__ = 7;</span></span>
<span><span class="co">#&gt;  902 :       sigma = context__.vals_r("sigma")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  903 :       out__.write_free_lb(0, sigma);</span></span>
<span><span class="co">#&gt;  904 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  905 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  906 :     }</span></span>
<span><span class="co">#&gt;  907 :   }</span></span>
<span><span class="co">#&gt;  908 :   inline void</span></span>
<span><span class="co">#&gt;  909 :   get_param_names(std::vector&lt;std::string&gt;&amp; names__, const bool</span></span>
<span><span class="co">#&gt;  910 :                   emit_transformed_parameters__ = true, const bool</span></span>
<span><span class="co">#&gt;  911 :                   emit_generated_quantities__ = true) const {</span></span>
<span><span class="co">#&gt;  912 :     names__ = std::vector&lt;std::string&gt;{"w1", "b1", "w2", "b2", "w_out",</span></span>
<span><span class="co">#&gt;  913 :                 "b_out", "sigma"};</span></span>
<span><span class="co">#&gt;  914 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  915 :       std::vector&lt;std::string&gt; temp{"z1", "a1", "z2", "a2", "y_hat"};</span></span>
<span><span class="co">#&gt;  916 :       names__.reserve(names__.size() + temp.size());</span></span>
<span><span class="co">#&gt;  917 :       names__.insert(names__.end(), temp.begin(), temp.end());</span></span>
<span><span class="co">#&gt;  918 :     }</span></span>
<span><span class="co">#&gt;  919 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt;  920 :   }</span></span>
<span><span class="co">#&gt;  921 :   inline void</span></span>
<span><span class="co">#&gt;  922 :   get_dims(std::vector&lt;std::vector&lt;size_t&gt;&gt;&amp; dimss__, const bool</span></span>
<span><span class="co">#&gt;  923 :            emit_transformed_parameters__ = true, const bool</span></span>
<span><span class="co">#&gt;  924 :            emit_generated_quantities__ = true) const {</span></span>
<span><span class="co">#&gt;  925 :     dimss__ = std::vector&lt;std::vector&lt;size_t&gt;&gt;{std::vector&lt;size_t&gt;{static_cast&lt;</span></span>
<span><span class="co">#&gt;  926 :                                                                     size_t&gt;(m),</span></span>
<span><span class="co">#&gt;  927 :                                                  static_cast&lt;size_t&gt;(</span></span>
<span><span class="co">#&gt;  928 :                                                    w1_2dim__)},</span></span>
<span><span class="co">#&gt;  929 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b1_1dim__)},</span></span>
<span><span class="co">#&gt;  930 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w2_1dim__),</span></span>
<span><span class="co">#&gt;  931 :                   static_cast&lt;size_t&gt;(w2_2dim__)},</span></span>
<span><span class="co">#&gt;  932 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b2_1dim__)},</span></span>
<span><span class="co">#&gt;  933 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w_out_1dim__)},</span></span>
<span><span class="co">#&gt;  934 :                 std::vector&lt;size_t&gt;{}, std::vector&lt;size_t&gt;{}};</span></span>
<span><span class="co">#&gt;  935 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  936 :       std::vector&lt;std::vector&lt;size_t&gt;&gt;</span></span>
<span><span class="co">#&gt;  937 :         temp{std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt;  938 :                static_cast&lt;size_t&gt;(z1_2dim__)},</span></span>
<span><span class="co">#&gt;  939 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt;  940 :                static_cast&lt;size_t&gt;(a1_2dim__)},</span></span>
<span><span class="co">#&gt;  941 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt;  942 :                static_cast&lt;size_t&gt;(z2_2dim__)},</span></span>
<span><span class="co">#&gt;  943 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt;  944 :                static_cast&lt;size_t&gt;(a2_2dim__)},</span></span>
<span><span class="co">#&gt;  945 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n)}};</span></span>
<span><span class="co">#&gt;  946 :       dimss__.reserve(dimss__.size() + temp.size());</span></span>
<span><span class="co">#&gt;  947 :       dimss__.insert(dimss__.end(), temp.begin(), temp.end());</span></span>
<span><span class="co">#&gt;  948 :     }</span></span>
<span><span class="co">#&gt;  949 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt;  950 :   }</span></span>
<span><span class="co">#&gt;  951 :   inline void</span></span>
<span><span class="co">#&gt;  952 :   constrained_param_names(std::vector&lt;std::string&gt;&amp; param_names__, bool</span></span>
<span><span class="co">#&gt;  953 :                           emit_transformed_parameters__ = true, bool</span></span>
<span><span class="co">#&gt;  954 :                           emit_generated_quantities__ = true) const final {</span></span>
<span><span class="co">#&gt;  955 :     for (int sym1__ = 1; sym1__ &lt;= w1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  956 :       for (int sym2__ = 1; sym2__ &lt;= m; ++sym2__) {</span></span>
<span><span class="co">#&gt;  957 :         param_names__.emplace_back(std::string() + "w1" + '.' +</span></span>
<span><span class="co">#&gt;  958 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  959 :       }</span></span>
<span><span class="co">#&gt;  960 :     }</span></span>
<span><span class="co">#&gt;  961 :     for (int sym1__ = 1; sym1__ &lt;= b1_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  962 :       param_names__.emplace_back(std::string() + "b1" + '.' +</span></span>
<span><span class="co">#&gt;  963 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  964 :     }</span></span>
<span><span class="co">#&gt;  965 :     for (int sym1__ = 1; sym1__ &lt;= w2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  966 :       for (int sym2__ = 1; sym2__ &lt;= w2_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt;  967 :         param_names__.emplace_back(std::string() + "w2" + '.' +</span></span>
<span><span class="co">#&gt;  968 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  969 :       }</span></span>
<span><span class="co">#&gt;  970 :     }</span></span>
<span><span class="co">#&gt;  971 :     for (int sym1__ = 1; sym1__ &lt;= b2_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  972 :       param_names__.emplace_back(std::string() + "b2" + '.' +</span></span>
<span><span class="co">#&gt;  973 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  974 :     }</span></span>
<span><span class="co">#&gt;  975 :     for (int sym1__ = 1; sym1__ &lt;= w_out_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  976 :       param_names__.emplace_back(std::string() + "w_out" + '.' +</span></span>
<span><span class="co">#&gt;  977 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  978 :     }</span></span>
<span><span class="co">#&gt;  979 :     param_names__.emplace_back(std::string() + "b_out");</span></span>
<span><span class="co">#&gt;  980 :     param_names__.emplace_back(std::string() + "sigma");</span></span>
<span><span class="co">#&gt;  981 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  982 :       for (int sym1__ = 1; sym1__ &lt;= z1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  983 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  984 :           param_names__.emplace_back(std::string() + "z1" + '.' +</span></span>
<span><span class="co">#&gt;  985 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  986 :         }</span></span>
<span><span class="co">#&gt;  987 :       }</span></span>
<span><span class="co">#&gt;  988 :       for (int sym1__ = 1; sym1__ &lt;= a1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  989 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  990 :           param_names__.emplace_back(std::string() + "a1" + '.' +</span></span>
<span><span class="co">#&gt;  991 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  992 :         }</span></span>
<span><span class="co">#&gt;  993 :       }</span></span>
<span><span class="co">#&gt;  994 :       for (int sym1__ = 1; sym1__ &lt;= z2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt;  995 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  996 :           param_names__.emplace_back(std::string() + "z2" + '.' +</span></span>
<span><span class="co">#&gt;  997 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  998 :         }</span></span>
<span><span class="co">#&gt;  999 :       }</span></span>
<span><span class="co">#&gt; 1000 :       for (int sym1__ = 1; sym1__ &lt;= a2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1001 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1002 :           param_names__.emplace_back(std::string() + "a2" + '.' +</span></span>
<span><span class="co">#&gt; 1003 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1004 :         }</span></span>
<span><span class="co">#&gt; 1005 :       }</span></span>
<span><span class="co">#&gt; 1006 :       for (int sym1__ = 1; sym1__ &lt;= n; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1007 :         param_names__.emplace_back(std::string() + "y_hat" + '.' +</span></span>
<span><span class="co">#&gt; 1008 :           std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1009 :       }</span></span>
<span><span class="co">#&gt; 1010 :     }</span></span>
<span><span class="co">#&gt; 1011 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt; 1012 :   }</span></span>
<span><span class="co">#&gt; 1013 :   inline void</span></span>
<span><span class="co">#&gt; 1014 :   unconstrained_param_names(std::vector&lt;std::string&gt;&amp; param_names__, bool</span></span>
<span><span class="co">#&gt; 1015 :                             emit_transformed_parameters__ = true, bool</span></span>
<span><span class="co">#&gt; 1016 :                             emit_generated_quantities__ = true) const final {</span></span>
<span><span class="co">#&gt; 1017 :     for (int sym1__ = 1; sym1__ &lt;= w1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1018 :       for (int sym2__ = 1; sym2__ &lt;= m; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1019 :         param_names__.emplace_back(std::string() + "w1" + '.' +</span></span>
<span><span class="co">#&gt; 1020 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1021 :       }</span></span>
<span><span class="co">#&gt; 1022 :     }</span></span>
<span><span class="co">#&gt; 1023 :     for (int sym1__ = 1; sym1__ &lt;= b1_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1024 :       param_names__.emplace_back(std::string() + "b1" + '.' +</span></span>
<span><span class="co">#&gt; 1025 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1026 :     }</span></span>
<span><span class="co">#&gt; 1027 :     for (int sym1__ = 1; sym1__ &lt;= w2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1028 :       for (int sym2__ = 1; sym2__ &lt;= w2_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1029 :         param_names__.emplace_back(std::string() + "w2" + '.' +</span></span>
<span><span class="co">#&gt; 1030 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1031 :       }</span></span>
<span><span class="co">#&gt; 1032 :     }</span></span>
<span><span class="co">#&gt; 1033 :     for (int sym1__ = 1; sym1__ &lt;= b2_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1034 :       param_names__.emplace_back(std::string() + "b2" + '.' +</span></span>
<span><span class="co">#&gt; 1035 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1036 :     }</span></span>
<span><span class="co">#&gt; 1037 :     for (int sym1__ = 1; sym1__ &lt;= w_out_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1038 :       param_names__.emplace_back(std::string() + "w_out" + '.' +</span></span>
<span><span class="co">#&gt; 1039 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1040 :     }</span></span>
<span><span class="co">#&gt; 1041 :     param_names__.emplace_back(std::string() + "b_out");</span></span>
<span><span class="co">#&gt; 1042 :     param_names__.emplace_back(std::string() + "sigma");</span></span>
<span><span class="co">#&gt; 1043 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt; 1044 :       for (int sym1__ = 1; sym1__ &lt;= z1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1045 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1046 :           param_names__.emplace_back(std::string() + "z1" + '.' +</span></span>
<span><span class="co">#&gt; 1047 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1048 :         }</span></span>
<span><span class="co">#&gt; 1049 :       }</span></span>
<span><span class="co">#&gt; 1050 :       for (int sym1__ = 1; sym1__ &lt;= a1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1051 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1052 :           param_names__.emplace_back(std::string() + "a1" + '.' +</span></span>
<span><span class="co">#&gt; 1053 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1054 :         }</span></span>
<span><span class="co">#&gt; 1055 :       }</span></span>
<span><span class="co">#&gt; 1056 :       for (int sym1__ = 1; sym1__ &lt;= z2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1057 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1058 :           param_names__.emplace_back(std::string() + "z2" + '.' +</span></span>
<span><span class="co">#&gt; 1059 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1060 :         }</span></span>
<span><span class="co">#&gt; 1061 :       }</span></span>
<span><span class="co">#&gt; 1062 :       for (int sym1__ = 1; sym1__ &lt;= a2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1063 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1064 :           param_names__.emplace_back(std::string() + "a2" + '.' +</span></span>
<span><span class="co">#&gt; 1065 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1066 :         }</span></span>
<span><span class="co">#&gt; 1067 :       }</span></span>
<span><span class="co">#&gt; 1068 :       for (int sym1__ = 1; sym1__ &lt;= n; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1069 :         param_names__.emplace_back(std::string() + "y_hat" + '.' +</span></span>
<span><span class="co">#&gt; 1070 :           std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1071 :       }</span></span>
<span><span class="co">#&gt; 1072 :     }</span></span>
<span><span class="co">#&gt; 1073 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt; 1074 :   }</span></span>
<span><span class="co">#&gt; 1075 :   inline std::string get_constrained_sizedtypes() const {</span></span>
<span><span class="co">#&gt; 1076 :     return std::string("[{\"name\":\"w1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(m) + ",\"cols\":" + std::to_string(w1_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b1\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b1_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(w2_1dim__) + ",\"cols\":" + std::to_string(w2_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b2\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b2_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w_out\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(w_out_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"b_out\",\"type\":{\"name\":\"real\"},\"block\":\"parameters\"},{\"name\":\"sigma\",\"type\":{\"name\":\"real\"},\"block\":\"parameters\"},{\"name\":\"z1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z1_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a1_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"z2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z2_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a2_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"y_hat\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(n) + "},\"block\":\"transformed_parameters\"}]");</span></span>
<span><span class="co">#&gt; 1077 :   }</span></span>
<span><span class="co">#&gt; 1078 :   inline std::string get_unconstrained_sizedtypes() const {</span></span>
<span><span class="co">#&gt; 1079 :     return std::string("[{\"name\":\"w1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(m) + ",\"cols\":" + std::to_string(w1_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b1\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b1_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(w2_1dim__) + ",\"cols\":" + std::to_string(w2_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b2\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b2_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w_out\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(w_out_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"b_out\",\"type\":{\"name\":\"real\"},\"block\":\"parameters\"},{\"name\":\"sigma\",\"type\":{\"name\":\"real\"},\"block\":\"parameters\"},{\"name\":\"z1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z1_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a1_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"z2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z2_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a2_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"y_hat\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(n) + "},\"block\":\"transformed_parameters\"}]");</span></span>
<span><span class="co">#&gt; 1080 :   }</span></span>
<span><span class="co">#&gt; 1081 :   // Begin method overload boilerplate</span></span>
<span><span class="co">#&gt; 1082 :   template &lt;typename RNG&gt; inline void</span></span>
<span><span class="co">#&gt; 1083 :   write_array(RNG&amp; base_rng, Eigen::Matrix&lt;double,-1,1&gt;&amp; params_r,</span></span>
<span><span class="co">#&gt; 1084 :               Eigen::Matrix&lt;double,-1,1&gt;&amp; vars, const bool</span></span>
<span><span class="co">#&gt; 1085 :               emit_transformed_parameters = true, const bool</span></span>
<span><span class="co">#&gt; 1086 :               emit_generated_quantities = true, std::ostream*</span></span>
<span><span class="co">#&gt; 1087 :               pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1088 :     const size_t num_params__ = (((((((m * w1_2dim__) + b1_1dim__) +</span></span>
<span><span class="co">#&gt; 1089 :       (w2_1dim__ * w2_2dim__)) + b2_1dim__) + w_out_1dim__) + 1) + 1);</span></span>
<span><span class="co">#&gt; 1090 :     const size_t num_transformed = emit_transformed_parameters * ((((((n *</span></span>
<span><span class="co">#&gt; 1091 :       z1_2dim__) + (n * a1_2dim__)) + (n * z2_2dim__)) + (n * a2_2dim__)) +</span></span>
<span><span class="co">#&gt; 1092 :       n));</span></span>
<span><span class="co">#&gt; 1093 :     const size_t num_gen_quantities = emit_generated_quantities * (0);</span></span>
<span><span class="co">#&gt; 1094 :     const size_t num_to_write = num_params__ + num_transformed +</span></span>
<span><span class="co">#&gt; 1095 :       num_gen_quantities;</span></span>
<span><span class="co">#&gt; 1096 :     std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt; 1097 :     vars = Eigen::Matrix&lt;double,-1,1&gt;::Constant(num_to_write,</span></span>
<span><span class="co">#&gt; 1098 :              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt; 1099 :     write_array_impl(base_rng, params_r, params_i, vars,</span></span>
<span><span class="co">#&gt; 1100 :       emit_transformed_parameters, emit_generated_quantities, pstream);</span></span>
<span><span class="co">#&gt; 1101 :   }</span></span>
<span><span class="co">#&gt; 1102 :   template &lt;typename RNG&gt; inline void</span></span>
<span><span class="co">#&gt; 1103 :   write_array(RNG&amp; base_rng, std::vector&lt;double&gt;&amp; params_r, std::vector&lt;int&gt;&amp;</span></span>
<span><span class="co">#&gt; 1104 :               params_i, std::vector&lt;double&gt;&amp; vars, bool</span></span>
<span><span class="co">#&gt; 1105 :               emit_transformed_parameters = true, bool</span></span>
<span><span class="co">#&gt; 1106 :               emit_generated_quantities = true, std::ostream*</span></span>
<span><span class="co">#&gt; 1107 :               pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1108 :     const size_t num_params__ = (((((((m * w1_2dim__) + b1_1dim__) +</span></span>
<span><span class="co">#&gt; 1109 :       (w2_1dim__ * w2_2dim__)) + b2_1dim__) + w_out_1dim__) + 1) + 1);</span></span>
<span><span class="co">#&gt; 1110 :     const size_t num_transformed = emit_transformed_parameters * ((((((n *</span></span>
<span><span class="co">#&gt; 1111 :       z1_2dim__) + (n * a1_2dim__)) + (n * z2_2dim__)) + (n * a2_2dim__)) +</span></span>
<span><span class="co">#&gt; 1112 :       n));</span></span>
<span><span class="co">#&gt; 1113 :     const size_t num_gen_quantities = emit_generated_quantities * (0);</span></span>
<span><span class="co">#&gt; 1114 :     const size_t num_to_write = num_params__ + num_transformed +</span></span>
<span><span class="co">#&gt; 1115 :       num_gen_quantities;</span></span>
<span><span class="co">#&gt; 1116 :     vars = std::vector&lt;double&gt;(num_to_write,</span></span>
<span><span class="co">#&gt; 1117 :              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt; 1118 :     write_array_impl(base_rng, params_r, params_i, vars,</span></span>
<span><span class="co">#&gt; 1119 :       emit_transformed_parameters, emit_generated_quantities, pstream);</span></span>
<span><span class="co">#&gt; 1120 :   }</span></span>
<span><span class="co">#&gt; 1121 :   template &lt;bool propto__, bool jacobian__, typename T_&gt; inline T_</span></span>
<span><span class="co">#&gt; 1122 :   log_prob(Eigen::Matrix&lt;T_,-1,1&gt;&amp; params_r, std::ostream* pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1123 :     Eigen::Matrix&lt;int,-1,1&gt; params_i;</span></span>
<span><span class="co">#&gt; 1124 :     return log_prob_impl&lt;propto__, jacobian__&gt;(params_r, params_i, pstream);</span></span>
<span><span class="co">#&gt; 1125 :   }</span></span>
<span><span class="co">#&gt; 1126 :   template &lt;bool propto__, bool jacobian__, typename T_&gt; inline T_</span></span>
<span><span class="co">#&gt; 1127 :   log_prob(std::vector&lt;T_&gt;&amp; params_r, std::vector&lt;int&gt;&amp; params_i,</span></span>
<span><span class="co">#&gt; 1128 :            std::ostream* pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1129 :     return log_prob_impl&lt;propto__, jacobian__&gt;(params_r, params_i, pstream);</span></span>
<span><span class="co">#&gt; 1130 :   }</span></span>
<span><span class="co">#&gt; 1131 :   inline void</span></span>
<span><span class="co">#&gt; 1132 :   transform_inits(const stan::io::var_context&amp; context,</span></span>
<span><span class="co">#&gt; 1133 :                   Eigen::Matrix&lt;double,-1,1&gt;&amp; params_r, std::ostream*</span></span>
<span><span class="co">#&gt; 1134 :                   pstream = nullptr) const final {</span></span>
<span><span class="co">#&gt; 1135 :     std::vector&lt;double&gt; params_r_vec(params_r.size());</span></span>
<span><span class="co">#&gt; 1136 :     std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt; 1137 :     transform_inits(context, params_i, params_r_vec, pstream);</span></span>
<span><span class="co">#&gt; 1138 :     params_r = Eigen::Map&lt;Eigen::Matrix&lt;double,-1,1&gt;&gt;(params_r_vec.data(),</span></span>
<span><span class="co">#&gt; 1139 :                  params_r_vec.size());</span></span>
<span><span class="co">#&gt; 1140 :   }</span></span>
<span><span class="co">#&gt; 1141 :   inline void</span></span>
<span><span class="co">#&gt; 1142 :   transform_inits(const stan::io::var_context&amp; context, std::vector&lt;int&gt;&amp;</span></span>
<span><span class="co">#&gt; 1143 :                   params_i, std::vector&lt;double&gt;&amp; vars, std::ostream*</span></span>
<span><span class="co">#&gt; 1144 :                   pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt; 1145 :     vars.resize(num_params_r__);</span></span>
<span><span class="co">#&gt; 1146 :     transform_inits_impl(context, vars, pstream__);</span></span>
<span><span class="co">#&gt; 1147 :   }</span></span>
<span><span class="co">#&gt; 1148 :   inline void</span></span>
<span><span class="co">#&gt; 1149 :   unconstrain_array(const std::vector&lt;double&gt;&amp; params_constrained,</span></span>
<span><span class="co">#&gt; 1150 :                     std::vector&lt;double&gt;&amp; params_unconstrained, std::ostream*</span></span>
<span><span class="co">#&gt; 1151 :                     pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1152 :     const std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt; 1153 :     params_unconstrained = std::vector&lt;double&gt;(num_params_r__,</span></span>
<span><span class="co">#&gt; 1154 :                              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt; 1155 :     unconstrain_array_impl(params_constrained, params_i,</span></span>
<span><span class="co">#&gt; 1156 :       params_unconstrained, pstream);</span></span>
<span><span class="co">#&gt; 1157 :   }</span></span>
<span><span class="co">#&gt; 1158 :   inline void</span></span>
<span><span class="co">#&gt; 1159 :   unconstrain_array(const Eigen::Matrix&lt;double,-1,1&gt;&amp; params_constrained,</span></span>
<span><span class="co">#&gt; 1160 :                     Eigen::Matrix&lt;double,-1,1&gt;&amp; params_unconstrained,</span></span>
<span><span class="co">#&gt; 1161 :                     std::ostream* pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1162 :     const std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt; 1163 :     params_unconstrained = Eigen::Matrix&lt;double,-1,1&gt;::Constant(num_params_r__,</span></span>
<span><span class="co">#&gt; 1164 :                              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt; 1165 :     unconstrain_array_impl(params_constrained, params_i,</span></span>
<span><span class="co">#&gt; 1166 :       params_unconstrained, pstream);</span></span>
<span><span class="co">#&gt; 1167 :   }</span></span>
<span><span class="co">#&gt; 1168 : };</span></span>
<span><span class="co">#&gt; 1169 : }</span></span>
<span><span class="co">#&gt; 1170 : using stan_model = model1d367b15073f__namespace::model1d367b15073f_;</span></span>
<span><span class="co">#&gt; 1171 : #ifndef USING_R</span></span>
<span><span class="co">#&gt; 1172 : // Boilerplate</span></span>
<span><span class="co">#&gt; 1173 : stan::model::model_base&amp;</span></span>
<span><span class="co">#&gt; 1174 : new_model(stan::io::var_context&amp; data_context, unsigned int seed,</span></span>
<span><span class="co">#&gt; 1175 :           std::ostream* msg_stream) {</span></span>
<span><span class="co">#&gt; 1176 :   stan_model* m = new stan_model(data_context, seed, msg_stream);</span></span>
<span><span class="co">#&gt; 1177 :   return *m;</span></span>
<span><span class="co">#&gt; 1178 : }</span></span>
<span><span class="co">#&gt; 1179 : stan::math::profile_map&amp; get_stan_profile_data() {</span></span>
<span><span class="co">#&gt; 1180 :   return model1d367b15073f__namespace::profiles__;</span></span>
<span><span class="co">#&gt; 1181 : }</span></span>
<span><span class="co">#&gt; 1182 : #endif</span></span>
<span><span class="co">#&gt; 1183 : #endif</span></span>
<span><span class="co">#&gt; 1184 : </span></span>
<span><span class="co">#&gt; 1185 : RCPP_MODULE(stan_fit4model1d367b15073f__mod) {</span></span>
<span><span class="co">#&gt; 1186 :   class_&lt;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt; &gt;(</span></span>
<span><span class="co">#&gt; 1187 :       "stan_fit4model1d367b15073f_")</span></span>
<span><span class="co">#&gt; 1188 : </span></span>
<span><span class="co">#&gt; 1189 :       .constructor&lt;SEXP, SEXP, SEXP&gt;()</span></span>
<span><span class="co">#&gt; 1190 : </span></span>
<span><span class="co">#&gt; 1191 :       .method(</span></span>
<span><span class="co">#&gt; 1192 :           "call_sampler",</span></span>
<span><span class="co">#&gt; 1193 :           &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::call_sampler)</span></span>
<span><span class="co">#&gt; 1194 :       .method(</span></span>
<span><span class="co">#&gt; 1195 :           "param_names",</span></span>
<span><span class="co">#&gt; 1196 :           &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::param_names)</span></span>
<span><span class="co">#&gt; 1197 :       .method("param_names_oi",</span></span>
<span><span class="co">#&gt; 1198 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1199 :                                boost::random::ecuyer1988&gt;::param_names_oi)</span></span>
<span><span class="co">#&gt; 1200 :       .method("param_fnames_oi",</span></span>
<span><span class="co">#&gt; 1201 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1202 :                                boost::random::ecuyer1988&gt;::param_fnames_oi)</span></span>
<span><span class="co">#&gt; 1203 :       .method(</span></span>
<span><span class="co">#&gt; 1204 :           "param_dims",</span></span>
<span><span class="co">#&gt; 1205 :           &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::param_dims)</span></span>
<span><span class="co">#&gt; 1206 :       .method("param_dims_oi",</span></span>
<span><span class="co">#&gt; 1207 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1208 :                                boost::random::ecuyer1988&gt;::param_dims_oi)</span></span>
<span><span class="co">#&gt; 1209 :       .method("update_param_oi",</span></span>
<span><span class="co">#&gt; 1210 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1211 :                                boost::random::ecuyer1988&gt;::update_param_oi)</span></span>
<span><span class="co">#&gt; 1212 :       .method("param_oi_tidx",</span></span>
<span><span class="co">#&gt; 1213 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1214 :                                boost::random::ecuyer1988&gt;::param_oi_tidx)</span></span>
<span><span class="co">#&gt; 1215 :       .method("grad_log_prob",</span></span>
<span><span class="co">#&gt; 1216 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1217 :                                boost::random::ecuyer1988&gt;::grad_log_prob)</span></span>
<span><span class="co">#&gt; 1218 :       .method("log_prob",</span></span>
<span><span class="co">#&gt; 1219 :               &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::log_prob)</span></span>
<span><span class="co">#&gt; 1220 :       .method("unconstrain_pars",</span></span>
<span><span class="co">#&gt; 1221 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1222 :                                boost::random::ecuyer1988&gt;::unconstrain_pars)</span></span>
<span><span class="co">#&gt; 1223 :       .method("constrain_pars",</span></span>
<span><span class="co">#&gt; 1224 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1225 :                                boost::random::ecuyer1988&gt;::constrain_pars)</span></span>
<span><span class="co">#&gt; 1226 :       .method(</span></span>
<span><span class="co">#&gt; 1227 :           "num_pars_unconstrained",</span></span>
<span><span class="co">#&gt; 1228 :           &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1229 :                            boost::random::ecuyer1988&gt;::num_pars_unconstrained)</span></span>
<span><span class="co">#&gt; 1230 :       .method(</span></span>
<span><span class="co">#&gt; 1231 :           "unconstrained_param_names",</span></span>
<span><span class="co">#&gt; 1232 :           &amp;rstan::stan_fit&lt;</span></span>
<span><span class="co">#&gt; 1233 :               stan_model, boost::random::ecuyer1988&gt;::unconstrained_param_names)</span></span>
<span><span class="co">#&gt; 1234 :       .method(</span></span>
<span><span class="co">#&gt; 1235 :           "constrained_param_names",</span></span>
<span><span class="co">#&gt; 1236 :           &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1237 :                            boost::random::ecuyer1988&gt;::constrained_param_names)</span></span>
<span><span class="co">#&gt; 1238 :       .method("standalone_gqs",</span></span>
<span><span class="co">#&gt; 1239 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1240 :                                boost::random::ecuyer1988&gt;::standalone_gqs);</span></span>
<span><span class="co">#&gt; 1241 : }</span></span>
<span><span class="co">#&gt; 1242 : </span></span>
<span><span class="co">#&gt; 1243 : </span></span>
<span><span class="co">#&gt; 1244 : // declarations</span></span>
<span><span class="co">#&gt; 1245 : extern "C" {</span></span>
<span><span class="co">#&gt; 1246 : SEXP file1d365ccaa016( ) ;</span></span>
<span><span class="co">#&gt; 1247 : }</span></span>
<span><span class="co">#&gt; 1248 : </span></span>
<span><span class="co">#&gt; 1249 : // definition</span></span>
<span><span class="co">#&gt; 1250 : SEXP file1d365ccaa016() {</span></span>
<span><span class="co">#&gt; 1251 :  return Rcpp::wrap("anon_model");</span></span>
<span><span class="co">#&gt; 1252 : }</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; CHECKING DATA AND PREPROCESSING FOR MODEL 'anon_model' NOW.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; COMPILING MODEL 'anon_model' NOW.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; STARTING SAMPLER FOR MODEL 'anon_model' NOW.</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="binary-classification-example">Binary Classification Example<a class="anchor" aria-label="anchor" href="#binary-classification-example"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_bin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bnns.html">bnns</a></span><span class="op">(</span></span>
<span>  <span class="va">y_bin</span> <span class="op">~</span> <span class="op">-</span><span class="fl">1</span>  <span class="op">+</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span>,</span>
<span>  data <span class="op">=</span> <span class="va">df</span>,</span>
<span>  L <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  nodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span><span class="op">)</span>,</span>
<span>  act_fn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>  out_act_fn <span class="op">=</span> <span class="fl">2</span>,          <span class="co"># Output activation: 2 = Logistic sigmoid</span></span>
<span>  iter <span class="op">=</span> <span class="fl">2e2</span>, </span>
<span>  warmup <span class="op">=</span> <span class="fl">1e2</span>, </span>
<span>  chains <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; TRANSLATING MODEL '' FROM Stan CODE TO C++ CODE NOW.</span></span>
<span><span class="co">#&gt; OS: x86_64, linux-gnu; rstan: 2.32.6; Rcpp: 1.0.13.1; inline: 0.3.20 </span></span>
<span><span class="co">#&gt;  &gt;&gt; setting environment variables: </span></span>
<span><span class="co">#&gt; PKG_LIBS =  '/home/runner/work/_temp/Library/rstan/lib//libStanServices.a' -L'/home/runner/work/_temp/Library/StanHeaders/lib/' -lStanHeaders -L'/home/runner/work/_temp/Library/RcppParallel/lib/' -ltbb </span></span>
<span><span class="co">#&gt; PKG_CPPFLAGS =   -I"/home/runner/work/_temp/Library/Rcpp/include/"  -I"/home/runner/work/_temp/Library/RcppEigen/include/"  -I"/home/runner/work/_temp/Library/RcppEigen/include/unsupported"  -I"/home/runner/work/_temp/Library/BH/include" -I"/home/runner/work/_temp/Library/StanHeaders/include/src/"  -I"/home/runner/work/_temp/Library/StanHeaders/include/"  -I"/home/runner/work/_temp/Library/RcppParallel/include/"  -I"/home/runner/work/_temp/Library/rstan/include" -DEIGEN_NO_DEBUG  -DBOOST_DISABLE_ASSERTS  -DBOOST_PENDING_INTEGER_LOG2_HPP  -DSTAN_THREADS  -DUSE_STANC3 -DSTRICT_R_HEADERS  -DBOOST_PHOENIX_NO_VARIADIC_EXPRESSION  -D_HAS_AUTO_PTR_ETC=0  -include '/home/runner/work/_temp/Library/StanHeaders/include/stan/math/prim/fun/Eigen.hpp'  -D_REENTRANT -DRCPP_PARALLEL_USE_TBB=1 </span></span>
<span><span class="co">#&gt;  &gt;&gt; Program source :</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    1 : </span></span>
<span><span class="co">#&gt;    2 : // includes from the plugin</span></span>
<span><span class="co">#&gt;    3 : // [[Rcpp::plugins(cpp14)]]</span></span>
<span><span class="co">#&gt;    4 : </span></span>
<span><span class="co">#&gt;    5 : </span></span>
<span><span class="co">#&gt;    6 : // user includes</span></span>
<span><span class="co">#&gt;    7 : #include &lt;Rcpp.h&gt;</span></span>
<span><span class="co">#&gt;    8 : using namespace Rcpp;</span></span>
<span><span class="co">#&gt;    9 : #ifndef MODELS_HPP</span></span>
<span><span class="co">#&gt;   10 : #define MODELS_HPP</span></span>
<span><span class="co">#&gt;   11 : #define STAN__SERVICES__COMMAND_HPP</span></span>
<span><span class="co">#&gt;   12 : #include &lt;rstan/rstaninc.hpp&gt;</span></span>
<span><span class="co">#&gt;   13 : #ifndef USE_STANC3</span></span>
<span><span class="co">#&gt;   14 : #define USE_STANC3</span></span>
<span><span class="co">#&gt;   15 : #endif</span></span>
<span><span class="co">#&gt;   16 : // Code generated by stanc v2.32.2</span></span>
<span><span class="co">#&gt;   17 : #include &lt;stan/model/model_header.hpp&gt;</span></span>
<span><span class="co">#&gt;   18 : namespace model1d36ca67477__namespace {</span></span>
<span><span class="co">#&gt;   19 : using stan::model::model_base_crtp;</span></span>
<span><span class="co">#&gt;   20 : using namespace stan::math;</span></span>
<span><span class="co">#&gt;   21 : stan::math::profile_map profiles__;</span></span>
<span><span class="co">#&gt;   22 : static constexpr std::array&lt;const char*, 41&gt; locations_array__ =</span></span>
<span><span class="co">#&gt;   23 :   {" (found before start of program)",</span></span>
<span><span class="co">#&gt;   24 :   " (in 'anon_model', line 11, column 2 to column 22)",</span></span>
<span><span class="co">#&gt;   25 :   " (in 'anon_model', line 12, column 2 to column 19)",</span></span>
<span><span class="co">#&gt;   26 :   " (in 'anon_model', line 13, column 2 to column 22)",</span></span>
<span><span class="co">#&gt;   27 :   " (in 'anon_model', line 14, column 2 to column 13)",</span></span>
<span><span class="co">#&gt;   28 :   " (in 'anon_model', line 17, column 2 to column 22)",</span></span>
<span><span class="co">#&gt;   29 :   " (in 'anon_model', line 18, column 2 to column 22)",</span></span>
<span><span class="co">#&gt;   30 :   " (in 'anon_model', line 19, column 2 to column 18)",</span></span>
<span><span class="co">#&gt;   31 :   " (in 'anon_model', line 20, column 2 to column 35)",</span></span>
<span><span class="co">#&gt;   32 :   " (in 'anon_model', line 24, column 7 to column 46)",</span></span>
<span><span class="co">#&gt;   33 :   " (in 'anon_model', line 23, column 24 to column 46)",</span></span>
<span><span class="co">#&gt;   34 :   " (in 'anon_model', line 23, column 7 to line 24, column 46)",</span></span>
<span><span class="co">#&gt;   35 :   " (in 'anon_model', line 22, column 24 to column 43)",</span></span>
<span><span class="co">#&gt;   36 :   " (in 'anon_model', line 22, column 7 to line 24, column 46)",</span></span>
<span><span class="co">#&gt;   37 :   " (in 'anon_model', line 21, column 19 to column 33)",</span></span>
<span><span class="co">#&gt;   38 :   " (in 'anon_model', line 21, column 2 to line 24, column 46)",</span></span>
<span><span class="co">#&gt;   39 :   " (in 'anon_model', line 25, column 2 to column 29)",</span></span>
<span><span class="co">#&gt;   40 :   " (in 'anon_model', line 28, column 2 to column 31)",</span></span>
<span><span class="co">#&gt;   41 :   " (in 'anon_model', line 29, column 2 to column 20)",</span></span>
<span><span class="co">#&gt;   42 :   " (in 'anon_model', line 30, column 2 to column 23)",</span></span>
<span><span class="co">#&gt;   43 :   " (in 'anon_model', line 31, column 2 to column 23)",</span></span>
<span><span class="co">#&gt;   44 :   " (in 'anon_model', line 32, column 2 to column 29)",</span></span>
<span><span class="co">#&gt;   45 :   " (in 'anon_model', line 2, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   46 :   " (in 'anon_model', line 3, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   47 :   " (in 'anon_model', line 4, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   48 :   " (in 'anon_model', line 5, column 2 to column 21)",</span></span>
<span><span class="co">#&gt;   49 :   " (in 'anon_model', line 6, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   50 :   " (in 'anon_model', line 6, column 12 to column 13)",</span></span>
<span><span class="co">#&gt;   51 :   " (in 'anon_model', line 6, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   52 :   " (in 'anon_model', line 7, column 8 to column 9)",</span></span>
<span><span class="co">#&gt;   53 :   " (in 'anon_model', line 7, column 2 to column 35)",</span></span>
<span><span class="co">#&gt;   54 :   " (in 'anon_model', line 8, column 2 to column 31)",</span></span>
<span><span class="co">#&gt;   55 :   " (in 'anon_model', line 11, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   56 :   " (in 'anon_model', line 11, column 12 to column 17)",</span></span>
<span><span class="co">#&gt;   57 :   " (in 'anon_model', line 12, column 9 to column 14)",</span></span>
<span><span class="co">#&gt;   58 :   " (in 'anon_model', line 13, column 9 to column 14)",</span></span>
<span><span class="co">#&gt;   59 :   " (in 'anon_model', line 17, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   60 :   " (in 'anon_model', line 17, column 12 to column 17)",</span></span>
<span><span class="co">#&gt;   61 :   " (in 'anon_model', line 18, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   62 :   " (in 'anon_model', line 18, column 12 to column 17)",</span></span>
<span><span class="co">#&gt;   63 :   " (in 'anon_model', line 19, column 9 to column 10)"};</span></span>
<span><span class="co">#&gt;   64 : class model1d36ca67477_ final : public model_base_crtp&lt;model1d36ca67477_&gt; {</span></span>
<span><span class="co">#&gt;   65 : private:</span></span>
<span><span class="co">#&gt;   66 :   int n;</span></span>
<span><span class="co">#&gt;   67 :   int m;</span></span>
<span><span class="co">#&gt;   68 :   int L;</span></span>
<span><span class="co">#&gt;   69 :   int nodes;</span></span>
<span><span class="co">#&gt;   70 :   Eigen::Matrix&lt;double,-1,-1&gt; X_data__;</span></span>
<span><span class="co">#&gt;   71 :   std::vector&lt;int&gt; y;</span></span>
<span><span class="co">#&gt;   72 :   int act_fn;</span></span>
<span><span class="co">#&gt;   73 :   Eigen::Map&lt;Eigen::Matrix&lt;double,-1,-1&gt;&gt; X{nullptr, 0, 0};</span></span>
<span><span class="co">#&gt;   74 : public:</span></span>
<span><span class="co">#&gt;   75 :   ~model1d36ca67477_() {}</span></span>
<span><span class="co">#&gt;   76 :   model1d36ca67477_(stan::io::var_context&amp; context__, unsigned int</span></span>
<span><span class="co">#&gt;   77 :                     random_seed__ = 0, std::ostream* pstream__ = nullptr)</span></span>
<span><span class="co">#&gt;   78 :       : model_base_crtp(0) {</span></span>
<span><span class="co">#&gt;   79 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;   80 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;   81 :     boost::ecuyer1988 base_rng__ =</span></span>
<span><span class="co">#&gt;   82 :       stan::services::util::create_rng(random_seed__, 0);</span></span>
<span><span class="co">#&gt;   83 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;   84 :     (void) base_rng__;</span></span>
<span><span class="co">#&gt;   85 :     static constexpr const char* function__ =</span></span>
<span><span class="co">#&gt;   86 :       "model1d36ca67477__namespace::model1d36ca67477_";</span></span>
<span><span class="co">#&gt;   87 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;   88 :     (void) function__;</span></span>
<span><span class="co">#&gt;   89 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;   90 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;   91 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;   92 :     try {</span></span>
<span><span class="co">#&gt;   93 :       int pos__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;   94 :       pos__ = 1;</span></span>
<span><span class="co">#&gt;   95 :       current_statement__ = 22;</span></span>
<span><span class="co">#&gt;   96 :       context__.validate_dims("data initialization", "n", "int",</span></span>
<span><span class="co">#&gt;   97 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;   98 :       n = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;   99 :       current_statement__ = 22;</span></span>
<span><span class="co">#&gt;  100 :       n = context__.vals_i("n")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  101 :       current_statement__ = 22;</span></span>
<span><span class="co">#&gt;  102 :       stan::math::check_greater_or_equal(function__, "n", n, 1);</span></span>
<span><span class="co">#&gt;  103 :       current_statement__ = 23;</span></span>
<span><span class="co">#&gt;  104 :       context__.validate_dims("data initialization", "m", "int",</span></span>
<span><span class="co">#&gt;  105 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  106 :       m = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  107 :       current_statement__ = 23;</span></span>
<span><span class="co">#&gt;  108 :       m = context__.vals_i("m")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  109 :       current_statement__ = 23;</span></span>
<span><span class="co">#&gt;  110 :       stan::math::check_greater_or_equal(function__, "m", m, 1);</span></span>
<span><span class="co">#&gt;  111 :       current_statement__ = 24;</span></span>
<span><span class="co">#&gt;  112 :       context__.validate_dims("data initialization", "L", "int",</span></span>
<span><span class="co">#&gt;  113 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  114 :       L = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  115 :       current_statement__ = 24;</span></span>
<span><span class="co">#&gt;  116 :       L = context__.vals_i("L")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  117 :       current_statement__ = 24;</span></span>
<span><span class="co">#&gt;  118 :       stan::math::check_greater_or_equal(function__, "L", L, 1);</span></span>
<span><span class="co">#&gt;  119 :       current_statement__ = 25;</span></span>
<span><span class="co">#&gt;  120 :       context__.validate_dims("data initialization", "nodes", "int",</span></span>
<span><span class="co">#&gt;  121 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  122 :       nodes = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  123 :       current_statement__ = 25;</span></span>
<span><span class="co">#&gt;  124 :       nodes = context__.vals_i("nodes")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  125 :       current_statement__ = 25;</span></span>
<span><span class="co">#&gt;  126 :       stan::math::check_greater_or_equal(function__, "nodes", nodes, 1);</span></span>
<span><span class="co">#&gt;  127 :       current_statement__ = 26;</span></span>
<span><span class="co">#&gt;  128 :       stan::math::validate_non_negative_index("X", "n", n);</span></span>
<span><span class="co">#&gt;  129 :       current_statement__ = 27;</span></span>
<span><span class="co">#&gt;  130 :       stan::math::validate_non_negative_index("X", "m", m);</span></span>
<span><span class="co">#&gt;  131 :       current_statement__ = 28;</span></span>
<span><span class="co">#&gt;  132 :       context__.validate_dims("data initialization", "X", "double",</span></span>
<span><span class="co">#&gt;  133 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n), static_cast&lt;size_t&gt;(m)});</span></span>
<span><span class="co">#&gt;  134 :       X_data__ = Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, m,</span></span>
<span><span class="co">#&gt;  135 :                    std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  136 :       new (&amp;X) Eigen::Map&lt;Eigen::Matrix&lt;double,-1,-1&gt;&gt;(X_data__.data(), n, m);</span></span>
<span><span class="co">#&gt;  137 :       {</span></span>
<span><span class="co">#&gt;  138 :         std::vector&lt;local_scalar_t__&gt; X_flat__;</span></span>
<span><span class="co">#&gt;  139 :         current_statement__ = 28;</span></span>
<span><span class="co">#&gt;  140 :         X_flat__ = context__.vals_r("X");</span></span>
<span><span class="co">#&gt;  141 :         current_statement__ = 28;</span></span>
<span><span class="co">#&gt;  142 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  143 :         current_statement__ = 28;</span></span>
<span><span class="co">#&gt;  144 :         for (int sym1__ = 1; sym1__ &lt;= m; ++sym1__) {</span></span>
<span><span class="co">#&gt;  145 :           current_statement__ = 28;</span></span>
<span><span class="co">#&gt;  146 :           for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  147 :             current_statement__ = 28;</span></span>
<span><span class="co">#&gt;  148 :             stan::model::assign(X, X_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  149 :               "assigning variable X", stan::model::index_uni(sym2__),</span></span>
<span><span class="co">#&gt;  150 :               stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  151 :             current_statement__ = 28;</span></span>
<span><span class="co">#&gt;  152 :             pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  153 :           }</span></span>
<span><span class="co">#&gt;  154 :         }</span></span>
<span><span class="co">#&gt;  155 :       }</span></span>
<span><span class="co">#&gt;  156 :       current_statement__ = 29;</span></span>
<span><span class="co">#&gt;  157 :       stan::math::validate_non_negative_index("y", "n", n);</span></span>
<span><span class="co">#&gt;  158 :       current_statement__ = 30;</span></span>
<span><span class="co">#&gt;  159 :       context__.validate_dims("data initialization", "y", "int",</span></span>
<span><span class="co">#&gt;  160 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n)});</span></span>
<span><span class="co">#&gt;  161 :       y = std::vector&lt;int&gt;(n, std::numeric_limits&lt;int&gt;::min());</span></span>
<span><span class="co">#&gt;  162 :       current_statement__ = 30;</span></span>
<span><span class="co">#&gt;  163 :       y = context__.vals_i("y");</span></span>
<span><span class="co">#&gt;  164 :       current_statement__ = 30;</span></span>
<span><span class="co">#&gt;  165 :       stan::math::check_greater_or_equal(function__, "y", y, 0);</span></span>
<span><span class="co">#&gt;  166 :       current_statement__ = 30;</span></span>
<span><span class="co">#&gt;  167 :       stan::math::check_less_or_equal(function__, "y", y, 1);</span></span>
<span><span class="co">#&gt;  168 :       current_statement__ = 31;</span></span>
<span><span class="co">#&gt;  169 :       context__.validate_dims("data initialization", "act_fn", "int",</span></span>
<span><span class="co">#&gt;  170 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  171 :       act_fn = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  172 :       current_statement__ = 31;</span></span>
<span><span class="co">#&gt;  173 :       act_fn = context__.vals_i("act_fn")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  174 :       current_statement__ = 31;</span></span>
<span><span class="co">#&gt;  175 :       stan::math::check_greater_or_equal(function__, "act_fn", act_fn, 1);</span></span>
<span><span class="co">#&gt;  176 :       current_statement__ = 31;</span></span>
<span><span class="co">#&gt;  177 :       stan::math::check_less_or_equal(function__, "act_fn", act_fn, 3);</span></span>
<span><span class="co">#&gt;  178 :       current_statement__ = 32;</span></span>
<span><span class="co">#&gt;  179 :       stan::math::validate_non_negative_index("w1", "m", m);</span></span>
<span><span class="co">#&gt;  180 :       current_statement__ = 33;</span></span>
<span><span class="co">#&gt;  181 :       stan::math::validate_non_negative_index("w1", "nodes", nodes);</span></span>
<span><span class="co">#&gt;  182 :       current_statement__ = 34;</span></span>
<span><span class="co">#&gt;  183 :       stan::math::validate_non_negative_index("b1", "nodes", nodes);</span></span>
<span><span class="co">#&gt;  184 :       current_statement__ = 35;</span></span>
<span><span class="co">#&gt;  185 :       stan::math::validate_non_negative_index("w_out", "nodes", nodes);</span></span>
<span><span class="co">#&gt;  186 :       current_statement__ = 36;</span></span>
<span><span class="co">#&gt;  187 :       stan::math::validate_non_negative_index("z1", "n", n);</span></span>
<span><span class="co">#&gt;  188 :       current_statement__ = 37;</span></span>
<span><span class="co">#&gt;  189 :       stan::math::validate_non_negative_index("z1", "nodes", nodes);</span></span>
<span><span class="co">#&gt;  190 :       current_statement__ = 38;</span></span>
<span><span class="co">#&gt;  191 :       stan::math::validate_non_negative_index("a1", "n", n);</span></span>
<span><span class="co">#&gt;  192 :       current_statement__ = 39;</span></span>
<span><span class="co">#&gt;  193 :       stan::math::validate_non_negative_index("a1", "nodes", nodes);</span></span>
<span><span class="co">#&gt;  194 :       current_statement__ = 40;</span></span>
<span><span class="co">#&gt;  195 :       stan::math::validate_non_negative_index("y_hat", "n", n);</span></span>
<span><span class="co">#&gt;  196 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  197 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  198 :     }</span></span>
<span><span class="co">#&gt;  199 :     num_params_r__ = (m * nodes) + nodes + nodes + 1;</span></span>
<span><span class="co">#&gt;  200 :   }</span></span>
<span><span class="co">#&gt;  201 :   inline std::string model_name() const final {</span></span>
<span><span class="co">#&gt;  202 :     return "model1d36ca67477_";</span></span>
<span><span class="co">#&gt;  203 :   }</span></span>
<span><span class="co">#&gt;  204 :   inline std::vector&lt;std::string&gt; model_compile_info() const noexcept {</span></span>
<span><span class="co">#&gt;  205 :     return std::vector&lt;std::string&gt;{"stanc_version = stanc3 v2.32.2",</span></span>
<span><span class="co">#&gt;  206 :              "stancflags = --"};</span></span>
<span><span class="co">#&gt;  207 :   }</span></span>
<span><span class="co">#&gt;  208 :   template &lt;bool propto__, bool jacobian__, typename VecR, typename VecI,</span></span>
<span><span class="co">#&gt;  209 :             stan::require_vector_like_t&lt;VecR&gt;* = nullptr,</span></span>
<span><span class="co">#&gt;  210 :             stan::require_vector_like_vt&lt;std::is_integral, VecI&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  211 :   inline stan::scalar_type_t&lt;VecR&gt;</span></span>
<span><span class="co">#&gt;  212 :   log_prob_impl(VecR&amp; params_r__, VecI&amp; params_i__, std::ostream*</span></span>
<span><span class="co">#&gt;  213 :                 pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  214 :     using T__ = stan::scalar_type_t&lt;VecR&gt;;</span></span>
<span><span class="co">#&gt;  215 :     using local_scalar_t__ = T__;</span></span>
<span><span class="co">#&gt;  216 :     T__ lp__(0.0);</span></span>
<span><span class="co">#&gt;  217 :     stan::math::accumulator&lt;T__&gt; lp_accum__;</span></span>
<span><span class="co">#&gt;  218 :     stan::io::deserializer&lt;local_scalar_t__&gt; in__(params_r__, params_i__);</span></span>
<span><span class="co">#&gt;  219 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  220 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  221 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  222 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  223 :     static constexpr const char* function__ =</span></span>
<span><span class="co">#&gt;  224 :       "model1d36ca67477__namespace::log_prob";</span></span>
<span><span class="co">#&gt;  225 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  226 :     (void) function__;</span></span>
<span><span class="co">#&gt;  227 :     try {</span></span>
<span><span class="co">#&gt;  228 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  229 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(m, nodes,</span></span>
<span><span class="co">#&gt;  230 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  231 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  232 :       w1 = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(m,</span></span>
<span><span class="co">#&gt;  233 :              nodes);</span></span>
<span><span class="co">#&gt;  234 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  235 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(nodes, DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  236 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  237 :       b1 = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(nodes);</span></span>
<span><span class="co">#&gt;  238 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; w_out =</span></span>
<span><span class="co">#&gt;  239 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(nodes, DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  240 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  241 :       w_out = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(nodes);</span></span>
<span><span class="co">#&gt;  242 :       local_scalar_t__ b_out = DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  243 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  244 :       b_out = in__.template read&lt;local_scalar_t__&gt;();</span></span>
<span><span class="co">#&gt;  245 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; z1 =</span></span>
<span><span class="co">#&gt;  246 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, nodes,</span></span>
<span><span class="co">#&gt;  247 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  248 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; a1 =</span></span>
<span><span class="co">#&gt;  249 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, nodes,</span></span>
<span><span class="co">#&gt;  250 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  251 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; y_hat =</span></span>
<span><span class="co">#&gt;  252 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(n, DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  253 :       current_statement__ = 8;</span></span>
<span><span class="co">#&gt;  254 :       stan::model::assign(z1,</span></span>
<span><span class="co">#&gt;  255 :         stan::math::add(stan::math::multiply(X, w1),</span></span>
<span><span class="co">#&gt;  256 :           stan::math::rep_matrix(stan::math::transpose(b1), n)),</span></span>
<span><span class="co">#&gt;  257 :         "assigning variable z1");</span></span>
<span><span class="co">#&gt;  258 :       current_statement__ = 15;</span></span>
<span><span class="co">#&gt;  259 :       if (stan::math::logical_eq(act_fn, 1)) {</span></span>
<span><span class="co">#&gt;  260 :         current_statement__ = 14;</span></span>
<span><span class="co">#&gt;  261 :         stan::model::assign(a1, stan::math::tanh(z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  262 :       } else {</span></span>
<span><span class="co">#&gt;  263 :         current_statement__ = 13;</span></span>
<span><span class="co">#&gt;  264 :         if (stan::math::logical_eq(act_fn, 2)) {</span></span>
<span><span class="co">#&gt;  265 :           current_statement__ = 12;</span></span>
<span><span class="co">#&gt;  266 :           stan::model::assign(a1, stan::math::inv_logit(z1),</span></span>
<span><span class="co">#&gt;  267 :             "assigning variable a1");</span></span>
<span><span class="co">#&gt;  268 :         } else {</span></span>
<span><span class="co">#&gt;  269 :           current_statement__ = 11;</span></span>
<span><span class="co">#&gt;  270 :           if (stan::math::logical_eq(act_fn, 3)) {</span></span>
<span><span class="co">#&gt;  271 :             current_statement__ = 10;</span></span>
<span><span class="co">#&gt;  272 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  273 :               stan::math::log(stan::math::add(1, stan::math::exp(z1))),</span></span>
<span><span class="co">#&gt;  274 :               "assigning variable a1");</span></span>
<span><span class="co">#&gt;  275 :           } else {</span></span>
<span><span class="co">#&gt;  276 :             current_statement__ = 9;</span></span>
<span><span class="co">#&gt;  277 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  278 :               stan::math::fmax(stan::math::rep_matrix(0, n, nodes), z1),</span></span>
<span><span class="co">#&gt;  279 :               "assigning variable a1");</span></span>
<span><span class="co">#&gt;  280 :           }</span></span>
<span><span class="co">#&gt;  281 :         }</span></span>
<span><span class="co">#&gt;  282 :       }</span></span>
<span><span class="co">#&gt;  283 :       current_statement__ = 16;</span></span>
<span><span class="co">#&gt;  284 :       stan::model::assign(y_hat,</span></span>
<span><span class="co">#&gt;  285 :         stan::math::add(stan::math::multiply(a1, w_out), b_out),</span></span>
<span><span class="co">#&gt;  286 :         "assigning variable y_hat");</span></span>
<span><span class="co">#&gt;  287 :       {</span></span>
<span><span class="co">#&gt;  288 :         current_statement__ = 17;</span></span>
<span><span class="co">#&gt;  289 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(</span></span>
<span><span class="co">#&gt;  290 :                          stan::math::to_vector(w1), 0, 1));</span></span>
<span><span class="co">#&gt;  291 :         current_statement__ = 18;</span></span>
<span><span class="co">#&gt;  292 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(b1, 0, 1));</span></span>
<span><span class="co">#&gt;  293 :         current_statement__ = 19;</span></span>
<span><span class="co">#&gt;  294 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(w_out, 0, 1));</span></span>
<span><span class="co">#&gt;  295 :         current_statement__ = 20;</span></span>
<span><span class="co">#&gt;  296 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(b_out, 0, 1));</span></span>
<span><span class="co">#&gt;  297 :         current_statement__ = 21;</span></span>
<span><span class="co">#&gt;  298 :         lp_accum__.add(stan::math::bernoulli_logit_lpmf&lt;propto__&gt;(y, y_hat));</span></span>
<span><span class="co">#&gt;  299 :       }</span></span>
<span><span class="co">#&gt;  300 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  301 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  302 :     }</span></span>
<span><span class="co">#&gt;  303 :     lp_accum__.add(lp__);</span></span>
<span><span class="co">#&gt;  304 :     return lp_accum__.sum();</span></span>
<span><span class="co">#&gt;  305 :   }</span></span>
<span><span class="co">#&gt;  306 :   template &lt;typename RNG, typename VecR, typename VecI, typename VecVar,</span></span>
<span><span class="co">#&gt;  307 :             stan::require_vector_like_vt&lt;std::is_floating_point,</span></span>
<span><span class="co">#&gt;  308 :             VecR&gt;* = nullptr, stan::require_vector_like_vt&lt;std::is_integral,</span></span>
<span><span class="co">#&gt;  309 :             VecI&gt;* = nullptr, stan::require_vector_vt&lt;std::is_floating_point,</span></span>
<span><span class="co">#&gt;  310 :             VecVar&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  311 :   inline void</span></span>
<span><span class="co">#&gt;  312 :   write_array_impl(RNG&amp; base_rng__, VecR&amp; params_r__, VecI&amp; params_i__,</span></span>
<span><span class="co">#&gt;  313 :                    VecVar&amp; vars__, const bool</span></span>
<span><span class="co">#&gt;  314 :                    emit_transformed_parameters__ = true, const bool</span></span>
<span><span class="co">#&gt;  315 :                    emit_generated_quantities__ = true, std::ostream*</span></span>
<span><span class="co">#&gt;  316 :                    pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  317 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  318 :     stan::io::deserializer&lt;local_scalar_t__&gt; in__(params_r__, params_i__);</span></span>
<span><span class="co">#&gt;  319 :     stan::io::serializer&lt;local_scalar_t__&gt; out__(vars__);</span></span>
<span><span class="co">#&gt;  320 :     static constexpr bool propto__ = true;</span></span>
<span><span class="co">#&gt;  321 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  322 :     (void) propto__;</span></span>
<span><span class="co">#&gt;  323 :     double lp__ = 0.0;</span></span>
<span><span class="co">#&gt;  324 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  325 :     (void) lp__;</span></span>
<span><span class="co">#&gt;  326 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  327 :     stan::math::accumulator&lt;double&gt; lp_accum__;</span></span>
<span><span class="co">#&gt;  328 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  329 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  330 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  331 :     constexpr bool jacobian__ = false;</span></span>
<span><span class="co">#&gt;  332 :     static constexpr const char* function__ =</span></span>
<span><span class="co">#&gt;  333 :       "model1d36ca67477__namespace::write_array";</span></span>
<span><span class="co">#&gt;  334 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  335 :     (void) function__;</span></span>
<span><span class="co">#&gt;  336 :     try {</span></span>
<span><span class="co">#&gt;  337 :       Eigen::Matrix&lt;double,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  338 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(m, nodes,</span></span>
<span><span class="co">#&gt;  339 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  340 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  341 :       w1 = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(m,</span></span>
<span><span class="co">#&gt;  342 :              nodes);</span></span>
<span><span class="co">#&gt;  343 :       Eigen::Matrix&lt;double,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  344 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(nodes,</span></span>
<span><span class="co">#&gt;  345 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  346 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  347 :       b1 = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(nodes);</span></span>
<span><span class="co">#&gt;  348 :       Eigen::Matrix&lt;double,-1,1&gt; w_out =</span></span>
<span><span class="co">#&gt;  349 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(nodes,</span></span>
<span><span class="co">#&gt;  350 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  351 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  352 :       w_out = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(nodes);</span></span>
<span><span class="co">#&gt;  353 :       double b_out = std::numeric_limits&lt;double&gt;::quiet_NaN();</span></span>
<span><span class="co">#&gt;  354 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  355 :       b_out = in__.template read&lt;local_scalar_t__&gt;();</span></span>
<span><span class="co">#&gt;  356 :       Eigen::Matrix&lt;double,-1,-1&gt; z1 =</span></span>
<span><span class="co">#&gt;  357 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, nodes,</span></span>
<span><span class="co">#&gt;  358 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  359 :       Eigen::Matrix&lt;double,-1,-1&gt; a1 =</span></span>
<span><span class="co">#&gt;  360 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, nodes,</span></span>
<span><span class="co">#&gt;  361 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  362 :       Eigen::Matrix&lt;double,-1,1&gt; y_hat =</span></span>
<span><span class="co">#&gt;  363 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(n,</span></span>
<span><span class="co">#&gt;  364 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  365 :       out__.write(w1);</span></span>
<span><span class="co">#&gt;  366 :       out__.write(b1);</span></span>
<span><span class="co">#&gt;  367 :       out__.write(w_out);</span></span>
<span><span class="co">#&gt;  368 :       out__.write(b_out);</span></span>
<span><span class="co">#&gt;  369 :       if (stan::math::logical_negation(</span></span>
<span><span class="co">#&gt;  370 :             (stan::math::primitive_value(emit_transformed_parameters__) ||</span></span>
<span><span class="co">#&gt;  371 :             stan::math::primitive_value(emit_generated_quantities__)))) {</span></span>
<span><span class="co">#&gt;  372 :         return ;</span></span>
<span><span class="co">#&gt;  373 :       }</span></span>
<span><span class="co">#&gt;  374 :       current_statement__ = 8;</span></span>
<span><span class="co">#&gt;  375 :       stan::model::assign(z1,</span></span>
<span><span class="co">#&gt;  376 :         stan::math::add(stan::math::multiply(X, w1),</span></span>
<span><span class="co">#&gt;  377 :           stan::math::rep_matrix(stan::math::transpose(b1), n)),</span></span>
<span><span class="co">#&gt;  378 :         "assigning variable z1");</span></span>
<span><span class="co">#&gt;  379 :       current_statement__ = 15;</span></span>
<span><span class="co">#&gt;  380 :       if (stan::math::logical_eq(act_fn, 1)) {</span></span>
<span><span class="co">#&gt;  381 :         current_statement__ = 14;</span></span>
<span><span class="co">#&gt;  382 :         stan::model::assign(a1, stan::math::tanh(z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  383 :       } else {</span></span>
<span><span class="co">#&gt;  384 :         current_statement__ = 13;</span></span>
<span><span class="co">#&gt;  385 :         if (stan::math::logical_eq(act_fn, 2)) {</span></span>
<span><span class="co">#&gt;  386 :           current_statement__ = 12;</span></span>
<span><span class="co">#&gt;  387 :           stan::model::assign(a1, stan::math::inv_logit(z1),</span></span>
<span><span class="co">#&gt;  388 :             "assigning variable a1");</span></span>
<span><span class="co">#&gt;  389 :         } else {</span></span>
<span><span class="co">#&gt;  390 :           current_statement__ = 11;</span></span>
<span><span class="co">#&gt;  391 :           if (stan::math::logical_eq(act_fn, 3)) {</span></span>
<span><span class="co">#&gt;  392 :             current_statement__ = 10;</span></span>
<span><span class="co">#&gt;  393 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  394 :               stan::math::log(stan::math::add(1, stan::math::exp(z1))),</span></span>
<span><span class="co">#&gt;  395 :               "assigning variable a1");</span></span>
<span><span class="co">#&gt;  396 :           } else {</span></span>
<span><span class="co">#&gt;  397 :             current_statement__ = 9;</span></span>
<span><span class="co">#&gt;  398 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  399 :               stan::math::fmax(stan::math::rep_matrix(0, n, nodes), z1),</span></span>
<span><span class="co">#&gt;  400 :               "assigning variable a1");</span></span>
<span><span class="co">#&gt;  401 :           }</span></span>
<span><span class="co">#&gt;  402 :         }</span></span>
<span><span class="co">#&gt;  403 :       }</span></span>
<span><span class="co">#&gt;  404 :       current_statement__ = 16;</span></span>
<span><span class="co">#&gt;  405 :       stan::model::assign(y_hat,</span></span>
<span><span class="co">#&gt;  406 :         stan::math::add(stan::math::multiply(a1, w_out), b_out),</span></span>
<span><span class="co">#&gt;  407 :         "assigning variable y_hat");</span></span>
<span><span class="co">#&gt;  408 :       if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  409 :         out__.write(z1);</span></span>
<span><span class="co">#&gt;  410 :         out__.write(a1);</span></span>
<span><span class="co">#&gt;  411 :         out__.write(y_hat);</span></span>
<span><span class="co">#&gt;  412 :       }</span></span>
<span><span class="co">#&gt;  413 :       if (stan::math::logical_negation(emit_generated_quantities__)) {</span></span>
<span><span class="co">#&gt;  414 :         return ;</span></span>
<span><span class="co">#&gt;  415 :       }</span></span>
<span><span class="co">#&gt;  416 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  417 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  418 :     }</span></span>
<span><span class="co">#&gt;  419 :   }</span></span>
<span><span class="co">#&gt;  420 :   template &lt;typename VecVar, typename VecI,</span></span>
<span><span class="co">#&gt;  421 :             stan::require_vector_t&lt;VecVar&gt;* = nullptr,</span></span>
<span><span class="co">#&gt;  422 :             stan::require_vector_like_vt&lt;std::is_integral, VecI&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  423 :   inline void</span></span>
<span><span class="co">#&gt;  424 :   unconstrain_array_impl(const VecVar&amp; params_r__, const VecI&amp; params_i__,</span></span>
<span><span class="co">#&gt;  425 :                          VecVar&amp; vars__, std::ostream* pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  426 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  427 :     stan::io::deserializer&lt;local_scalar_t__&gt; in__(params_r__, params_i__);</span></span>
<span><span class="co">#&gt;  428 :     stan::io::serializer&lt;local_scalar_t__&gt; out__(vars__);</span></span>
<span><span class="co">#&gt;  429 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  430 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  431 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  432 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  433 :     try {</span></span>
<span><span class="co">#&gt;  434 :       int pos__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  435 :       pos__ = 1;</span></span>
<span><span class="co">#&gt;  436 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  437 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(m, nodes,</span></span>
<span><span class="co">#&gt;  438 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  439 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  440 :       stan::model::assign(w1,</span></span>
<span><span class="co">#&gt;  441 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(m, nodes),</span></span>
<span><span class="co">#&gt;  442 :         "assigning variable w1");</span></span>
<span><span class="co">#&gt;  443 :       out__.write(w1);</span></span>
<span><span class="co">#&gt;  444 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  445 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(nodes, DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  446 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  447 :       stan::model::assign(b1,</span></span>
<span><span class="co">#&gt;  448 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(nodes),</span></span>
<span><span class="co">#&gt;  449 :         "assigning variable b1");</span></span>
<span><span class="co">#&gt;  450 :       out__.write(b1);</span></span>
<span><span class="co">#&gt;  451 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; w_out =</span></span>
<span><span class="co">#&gt;  452 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(nodes, DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  453 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  454 :       stan::model::assign(w_out,</span></span>
<span><span class="co">#&gt;  455 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(nodes),</span></span>
<span><span class="co">#&gt;  456 :         "assigning variable w_out");</span></span>
<span><span class="co">#&gt;  457 :       out__.write(w_out);</span></span>
<span><span class="co">#&gt;  458 :       local_scalar_t__ b_out = DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  459 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  460 :       b_out = in__.read&lt;local_scalar_t__&gt;();</span></span>
<span><span class="co">#&gt;  461 :       out__.write(b_out);</span></span>
<span><span class="co">#&gt;  462 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  463 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  464 :     }</span></span>
<span><span class="co">#&gt;  465 :   }</span></span>
<span><span class="co">#&gt;  466 :   template &lt;typename VecVar, stan::require_vector_t&lt;VecVar&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  467 :   inline void</span></span>
<span><span class="co">#&gt;  468 :   transform_inits_impl(const stan::io::var_context&amp; context__, VecVar&amp;</span></span>
<span><span class="co">#&gt;  469 :                        vars__, std::ostream* pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  470 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  471 :     stan::io::serializer&lt;local_scalar_t__&gt; out__(vars__);</span></span>
<span><span class="co">#&gt;  472 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  473 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  474 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  475 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  476 :     try {</span></span>
<span><span class="co">#&gt;  477 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  478 :       context__.validate_dims("parameter initialization", "w1", "double",</span></span>
<span><span class="co">#&gt;  479 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(m),</span></span>
<span><span class="co">#&gt;  480 :           static_cast&lt;size_t&gt;(nodes)});</span></span>
<span><span class="co">#&gt;  481 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  482 :       context__.validate_dims("parameter initialization", "b1", "double",</span></span>
<span><span class="co">#&gt;  483 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(nodes)});</span></span>
<span><span class="co">#&gt;  484 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  485 :       context__.validate_dims("parameter initialization", "w_out", "double",</span></span>
<span><span class="co">#&gt;  486 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(nodes)});</span></span>
<span><span class="co">#&gt;  487 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  488 :       context__.validate_dims("parameter initialization", "b_out", "double",</span></span>
<span><span class="co">#&gt;  489 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  490 :       int pos__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  491 :       pos__ = 1;</span></span>
<span><span class="co">#&gt;  492 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  493 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(m, nodes,</span></span>
<span><span class="co">#&gt;  494 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  495 :       {</span></span>
<span><span class="co">#&gt;  496 :         std::vector&lt;local_scalar_t__&gt; w1_flat__;</span></span>
<span><span class="co">#&gt;  497 :         current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  498 :         w1_flat__ = context__.vals_r("w1");</span></span>
<span><span class="co">#&gt;  499 :         current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  500 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  501 :         current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  502 :         for (int sym1__ = 1; sym1__ &lt;= nodes; ++sym1__) {</span></span>
<span><span class="co">#&gt;  503 :           current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  504 :           for (int sym2__ = 1; sym2__ &lt;= m; ++sym2__) {</span></span>
<span><span class="co">#&gt;  505 :             current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  506 :             stan::model::assign(w1, w1_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  507 :               "assigning variable w1", stan::model::index_uni(sym2__),</span></span>
<span><span class="co">#&gt;  508 :               stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  509 :             current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  510 :             pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  511 :           }</span></span>
<span><span class="co">#&gt;  512 :         }</span></span>
<span><span class="co">#&gt;  513 :       }</span></span>
<span><span class="co">#&gt;  514 :       out__.write(w1);</span></span>
<span><span class="co">#&gt;  515 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  516 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(nodes, DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  517 :       {</span></span>
<span><span class="co">#&gt;  518 :         std::vector&lt;local_scalar_t__&gt; b1_flat__;</span></span>
<span><span class="co">#&gt;  519 :         current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  520 :         b1_flat__ = context__.vals_r("b1");</span></span>
<span><span class="co">#&gt;  521 :         current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  522 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  523 :         current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  524 :         for (int sym1__ = 1; sym1__ &lt;= nodes; ++sym1__) {</span></span>
<span><span class="co">#&gt;  525 :           current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  526 :           stan::model::assign(b1, b1_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  527 :             "assigning variable b1", stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  528 :           current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  529 :           pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  530 :         }</span></span>
<span><span class="co">#&gt;  531 :       }</span></span>
<span><span class="co">#&gt;  532 :       out__.write(b1);</span></span>
<span><span class="co">#&gt;  533 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; w_out =</span></span>
<span><span class="co">#&gt;  534 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(nodes, DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  535 :       {</span></span>
<span><span class="co">#&gt;  536 :         std::vector&lt;local_scalar_t__&gt; w_out_flat__;</span></span>
<span><span class="co">#&gt;  537 :         current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  538 :         w_out_flat__ = context__.vals_r("w_out");</span></span>
<span><span class="co">#&gt;  539 :         current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  540 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  541 :         current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  542 :         for (int sym1__ = 1; sym1__ &lt;= nodes; ++sym1__) {</span></span>
<span><span class="co">#&gt;  543 :           current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  544 :           stan::model::assign(w_out, w_out_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  545 :             "assigning variable w_out", stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  546 :           current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  547 :           pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  548 :         }</span></span>
<span><span class="co">#&gt;  549 :       }</span></span>
<span><span class="co">#&gt;  550 :       out__.write(w_out);</span></span>
<span><span class="co">#&gt;  551 :       local_scalar_t__ b_out = DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  552 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  553 :       b_out = context__.vals_r("b_out")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  554 :       out__.write(b_out);</span></span>
<span><span class="co">#&gt;  555 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  556 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  557 :     }</span></span>
<span><span class="co">#&gt;  558 :   }</span></span>
<span><span class="co">#&gt;  559 :   inline void</span></span>
<span><span class="co">#&gt;  560 :   get_param_names(std::vector&lt;std::string&gt;&amp; names__, const bool</span></span>
<span><span class="co">#&gt;  561 :                   emit_transformed_parameters__ = true, const bool</span></span>
<span><span class="co">#&gt;  562 :                   emit_generated_quantities__ = true) const {</span></span>
<span><span class="co">#&gt;  563 :     names__ = std::vector&lt;std::string&gt;{"w1", "b1", "w_out", "b_out"};</span></span>
<span><span class="co">#&gt;  564 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  565 :       std::vector&lt;std::string&gt; temp{"z1", "a1", "y_hat"};</span></span>
<span><span class="co">#&gt;  566 :       names__.reserve(names__.size() + temp.size());</span></span>
<span><span class="co">#&gt;  567 :       names__.insert(names__.end(), temp.begin(), temp.end());</span></span>
<span><span class="co">#&gt;  568 :     }</span></span>
<span><span class="co">#&gt;  569 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt;  570 :   }</span></span>
<span><span class="co">#&gt;  571 :   inline void</span></span>
<span><span class="co">#&gt;  572 :   get_dims(std::vector&lt;std::vector&lt;size_t&gt;&gt;&amp; dimss__, const bool</span></span>
<span><span class="co">#&gt;  573 :            emit_transformed_parameters__ = true, const bool</span></span>
<span><span class="co">#&gt;  574 :            emit_generated_quantities__ = true) const {</span></span>
<span><span class="co">#&gt;  575 :     dimss__ = std::vector&lt;std::vector&lt;size_t&gt;&gt;{std::vector&lt;size_t&gt;{static_cast&lt;</span></span>
<span><span class="co">#&gt;  576 :                                                                     size_t&gt;(m),</span></span>
<span><span class="co">#&gt;  577 :                                                  static_cast&lt;size_t&gt;(nodes)},</span></span>
<span><span class="co">#&gt;  578 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(nodes)},</span></span>
<span><span class="co">#&gt;  579 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(nodes)},</span></span>
<span><span class="co">#&gt;  580 :                 std::vector&lt;size_t&gt;{}};</span></span>
<span><span class="co">#&gt;  581 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  582 :       std::vector&lt;std::vector&lt;size_t&gt;&gt;</span></span>
<span><span class="co">#&gt;  583 :         temp{std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt;  584 :                static_cast&lt;size_t&gt;(nodes)},</span></span>
<span><span class="co">#&gt;  585 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt;  586 :                static_cast&lt;size_t&gt;(nodes)},</span></span>
<span><span class="co">#&gt;  587 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n)}};</span></span>
<span><span class="co">#&gt;  588 :       dimss__.reserve(dimss__.size() + temp.size());</span></span>
<span><span class="co">#&gt;  589 :       dimss__.insert(dimss__.end(), temp.begin(), temp.end());</span></span>
<span><span class="co">#&gt;  590 :     }</span></span>
<span><span class="co">#&gt;  591 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt;  592 :   }</span></span>
<span><span class="co">#&gt;  593 :   inline void</span></span>
<span><span class="co">#&gt;  594 :   constrained_param_names(std::vector&lt;std::string&gt;&amp; param_names__, bool</span></span>
<span><span class="co">#&gt;  595 :                           emit_transformed_parameters__ = true, bool</span></span>
<span><span class="co">#&gt;  596 :                           emit_generated_quantities__ = true) const final {</span></span>
<span><span class="co">#&gt;  597 :     for (int sym1__ = 1; sym1__ &lt;= nodes; ++sym1__) {</span></span>
<span><span class="co">#&gt;  598 :       for (int sym2__ = 1; sym2__ &lt;= m; ++sym2__) {</span></span>
<span><span class="co">#&gt;  599 :         param_names__.emplace_back(std::string() + "w1" + '.' +</span></span>
<span><span class="co">#&gt;  600 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  601 :       }</span></span>
<span><span class="co">#&gt;  602 :     }</span></span>
<span><span class="co">#&gt;  603 :     for (int sym1__ = 1; sym1__ &lt;= nodes; ++sym1__) {</span></span>
<span><span class="co">#&gt;  604 :       param_names__.emplace_back(std::string() + "b1" + '.' +</span></span>
<span><span class="co">#&gt;  605 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  606 :     }</span></span>
<span><span class="co">#&gt;  607 :     for (int sym1__ = 1; sym1__ &lt;= nodes; ++sym1__) {</span></span>
<span><span class="co">#&gt;  608 :       param_names__.emplace_back(std::string() + "w_out" + '.' +</span></span>
<span><span class="co">#&gt;  609 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  610 :     }</span></span>
<span><span class="co">#&gt;  611 :     param_names__.emplace_back(std::string() + "b_out");</span></span>
<span><span class="co">#&gt;  612 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  613 :       for (int sym1__ = 1; sym1__ &lt;= nodes; ++sym1__) {</span></span>
<span><span class="co">#&gt;  614 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  615 :           param_names__.emplace_back(std::string() + "z1" + '.' +</span></span>
<span><span class="co">#&gt;  616 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  617 :         }</span></span>
<span><span class="co">#&gt;  618 :       }</span></span>
<span><span class="co">#&gt;  619 :       for (int sym1__ = 1; sym1__ &lt;= nodes; ++sym1__) {</span></span>
<span><span class="co">#&gt;  620 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  621 :           param_names__.emplace_back(std::string() + "a1" + '.' +</span></span>
<span><span class="co">#&gt;  622 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  623 :         }</span></span>
<span><span class="co">#&gt;  624 :       }</span></span>
<span><span class="co">#&gt;  625 :       for (int sym1__ = 1; sym1__ &lt;= n; ++sym1__) {</span></span>
<span><span class="co">#&gt;  626 :         param_names__.emplace_back(std::string() + "y_hat" + '.' +</span></span>
<span><span class="co">#&gt;  627 :           std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  628 :       }</span></span>
<span><span class="co">#&gt;  629 :     }</span></span>
<span><span class="co">#&gt;  630 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt;  631 :   }</span></span>
<span><span class="co">#&gt;  632 :   inline void</span></span>
<span><span class="co">#&gt;  633 :   unconstrained_param_names(std::vector&lt;std::string&gt;&amp; param_names__, bool</span></span>
<span><span class="co">#&gt;  634 :                             emit_transformed_parameters__ = true, bool</span></span>
<span><span class="co">#&gt;  635 :                             emit_generated_quantities__ = true) const final {</span></span>
<span><span class="co">#&gt;  636 :     for (int sym1__ = 1; sym1__ &lt;= nodes; ++sym1__) {</span></span>
<span><span class="co">#&gt;  637 :       for (int sym2__ = 1; sym2__ &lt;= m; ++sym2__) {</span></span>
<span><span class="co">#&gt;  638 :         param_names__.emplace_back(std::string() + "w1" + '.' +</span></span>
<span><span class="co">#&gt;  639 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  640 :       }</span></span>
<span><span class="co">#&gt;  641 :     }</span></span>
<span><span class="co">#&gt;  642 :     for (int sym1__ = 1; sym1__ &lt;= nodes; ++sym1__) {</span></span>
<span><span class="co">#&gt;  643 :       param_names__.emplace_back(std::string() + "b1" + '.' +</span></span>
<span><span class="co">#&gt;  644 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  645 :     }</span></span>
<span><span class="co">#&gt;  646 :     for (int sym1__ = 1; sym1__ &lt;= nodes; ++sym1__) {</span></span>
<span><span class="co">#&gt;  647 :       param_names__.emplace_back(std::string() + "w_out" + '.' +</span></span>
<span><span class="co">#&gt;  648 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  649 :     }</span></span>
<span><span class="co">#&gt;  650 :     param_names__.emplace_back(std::string() + "b_out");</span></span>
<span><span class="co">#&gt;  651 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  652 :       for (int sym1__ = 1; sym1__ &lt;= nodes; ++sym1__) {</span></span>
<span><span class="co">#&gt;  653 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  654 :           param_names__.emplace_back(std::string() + "z1" + '.' +</span></span>
<span><span class="co">#&gt;  655 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  656 :         }</span></span>
<span><span class="co">#&gt;  657 :       }</span></span>
<span><span class="co">#&gt;  658 :       for (int sym1__ = 1; sym1__ &lt;= nodes; ++sym1__) {</span></span>
<span><span class="co">#&gt;  659 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  660 :           param_names__.emplace_back(std::string() + "a1" + '.' +</span></span>
<span><span class="co">#&gt;  661 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  662 :         }</span></span>
<span><span class="co">#&gt;  663 :       }</span></span>
<span><span class="co">#&gt;  664 :       for (int sym1__ = 1; sym1__ &lt;= n; ++sym1__) {</span></span>
<span><span class="co">#&gt;  665 :         param_names__.emplace_back(std::string() + "y_hat" + '.' +</span></span>
<span><span class="co">#&gt;  666 :           std::to_string(sym1__));</span></span>
<span><span class="co">#&gt;  667 :       }</span></span>
<span><span class="co">#&gt;  668 :     }</span></span>
<span><span class="co">#&gt;  669 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt;  670 :   }</span></span>
<span><span class="co">#&gt;  671 :   inline std::string get_constrained_sizedtypes() const {</span></span>
<span><span class="co">#&gt;  672 :     return std::string("[{\"name\":\"w1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(m) + ",\"cols\":" + std::to_string(nodes) + "},\"block\":\"parameters\"},{\"name\":\"b1\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(nodes) + "},\"block\":\"parameters\"},{\"name\":\"w_out\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(nodes) + "},\"block\":\"parameters\"},{\"name\":\"b_out\",\"type\":{\"name\":\"real\"},\"block\":\"parameters\"},{\"name\":\"z1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(nodes) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(nodes) + "},\"block\":\"transformed_parameters\"},{\"name\":\"y_hat\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(n) + "},\"block\":\"transformed_parameters\"}]");</span></span>
<span><span class="co">#&gt;  673 :   }</span></span>
<span><span class="co">#&gt;  674 :   inline std::string get_unconstrained_sizedtypes() const {</span></span>
<span><span class="co">#&gt;  675 :     return std::string("[{\"name\":\"w1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(m) + ",\"cols\":" + std::to_string(nodes) + "},\"block\":\"parameters\"},{\"name\":\"b1\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(nodes) + "},\"block\":\"parameters\"},{\"name\":\"w_out\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(nodes) + "},\"block\":\"parameters\"},{\"name\":\"b_out\",\"type\":{\"name\":\"real\"},\"block\":\"parameters\"},{\"name\":\"z1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(nodes) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(nodes) + "},\"block\":\"transformed_parameters\"},{\"name\":\"y_hat\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(n) + "},\"block\":\"transformed_parameters\"}]");</span></span>
<span><span class="co">#&gt;  676 :   }</span></span>
<span><span class="co">#&gt;  677 :   // Begin method overload boilerplate</span></span>
<span><span class="co">#&gt;  678 :   template &lt;typename RNG&gt; inline void</span></span>
<span><span class="co">#&gt;  679 :   write_array(RNG&amp; base_rng, Eigen::Matrix&lt;double,-1,1&gt;&amp; params_r,</span></span>
<span><span class="co">#&gt;  680 :               Eigen::Matrix&lt;double,-1,1&gt;&amp; vars, const bool</span></span>
<span><span class="co">#&gt;  681 :               emit_transformed_parameters = true, const bool</span></span>
<span><span class="co">#&gt;  682 :               emit_generated_quantities = true, std::ostream*</span></span>
<span><span class="co">#&gt;  683 :               pstream = nullptr) const {</span></span>
<span><span class="co">#&gt;  684 :     const size_t num_params__ = ((((m * nodes) + nodes) + nodes) + 1);</span></span>
<span><span class="co">#&gt;  685 :     const size_t num_transformed = emit_transformed_parameters * ((((n *</span></span>
<span><span class="co">#&gt;  686 :       nodes) + (n * nodes)) + n));</span></span>
<span><span class="co">#&gt;  687 :     const size_t num_gen_quantities = emit_generated_quantities * (0);</span></span>
<span><span class="co">#&gt;  688 :     const size_t num_to_write = num_params__ + num_transformed +</span></span>
<span><span class="co">#&gt;  689 :       num_gen_quantities;</span></span>
<span><span class="co">#&gt;  690 :     std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt;  691 :     vars = Eigen::Matrix&lt;double,-1,1&gt;::Constant(num_to_write,</span></span>
<span><span class="co">#&gt;  692 :              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  693 :     write_array_impl(base_rng, params_r, params_i, vars,</span></span>
<span><span class="co">#&gt;  694 :       emit_transformed_parameters, emit_generated_quantities, pstream);</span></span>
<span><span class="co">#&gt;  695 :   }</span></span>
<span><span class="co">#&gt;  696 :   template &lt;typename RNG&gt; inline void</span></span>
<span><span class="co">#&gt;  697 :   write_array(RNG&amp; base_rng, std::vector&lt;double&gt;&amp; params_r, std::vector&lt;int&gt;&amp;</span></span>
<span><span class="co">#&gt;  698 :               params_i, std::vector&lt;double&gt;&amp; vars, bool</span></span>
<span><span class="co">#&gt;  699 :               emit_transformed_parameters = true, bool</span></span>
<span><span class="co">#&gt;  700 :               emit_generated_quantities = true, std::ostream*</span></span>
<span><span class="co">#&gt;  701 :               pstream = nullptr) const {</span></span>
<span><span class="co">#&gt;  702 :     const size_t num_params__ = ((((m * nodes) + nodes) + nodes) + 1);</span></span>
<span><span class="co">#&gt;  703 :     const size_t num_transformed = emit_transformed_parameters * ((((n *</span></span>
<span><span class="co">#&gt;  704 :       nodes) + (n * nodes)) + n));</span></span>
<span><span class="co">#&gt;  705 :     const size_t num_gen_quantities = emit_generated_quantities * (0);</span></span>
<span><span class="co">#&gt;  706 :     const size_t num_to_write = num_params__ + num_transformed +</span></span>
<span><span class="co">#&gt;  707 :       num_gen_quantities;</span></span>
<span><span class="co">#&gt;  708 :     vars = std::vector&lt;double&gt;(num_to_write,</span></span>
<span><span class="co">#&gt;  709 :              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  710 :     write_array_impl(base_rng, params_r, params_i, vars,</span></span>
<span><span class="co">#&gt;  711 :       emit_transformed_parameters, emit_generated_quantities, pstream);</span></span>
<span><span class="co">#&gt;  712 :   }</span></span>
<span><span class="co">#&gt;  713 :   template &lt;bool propto__, bool jacobian__, typename T_&gt; inline T_</span></span>
<span><span class="co">#&gt;  714 :   log_prob(Eigen::Matrix&lt;T_,-1,1&gt;&amp; params_r, std::ostream* pstream = nullptr) const {</span></span>
<span><span class="co">#&gt;  715 :     Eigen::Matrix&lt;int,-1,1&gt; params_i;</span></span>
<span><span class="co">#&gt;  716 :     return log_prob_impl&lt;propto__, jacobian__&gt;(params_r, params_i, pstream);</span></span>
<span><span class="co">#&gt;  717 :   }</span></span>
<span><span class="co">#&gt;  718 :   template &lt;bool propto__, bool jacobian__, typename T_&gt; inline T_</span></span>
<span><span class="co">#&gt;  719 :   log_prob(std::vector&lt;T_&gt;&amp; params_r, std::vector&lt;int&gt;&amp; params_i,</span></span>
<span><span class="co">#&gt;  720 :            std::ostream* pstream = nullptr) const {</span></span>
<span><span class="co">#&gt;  721 :     return log_prob_impl&lt;propto__, jacobian__&gt;(params_r, params_i, pstream);</span></span>
<span><span class="co">#&gt;  722 :   }</span></span>
<span><span class="co">#&gt;  723 :   inline void</span></span>
<span><span class="co">#&gt;  724 :   transform_inits(const stan::io::var_context&amp; context,</span></span>
<span><span class="co">#&gt;  725 :                   Eigen::Matrix&lt;double,-1,1&gt;&amp; params_r, std::ostream*</span></span>
<span><span class="co">#&gt;  726 :                   pstream = nullptr) const final {</span></span>
<span><span class="co">#&gt;  727 :     std::vector&lt;double&gt; params_r_vec(params_r.size());</span></span>
<span><span class="co">#&gt;  728 :     std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt;  729 :     transform_inits(context, params_i, params_r_vec, pstream);</span></span>
<span><span class="co">#&gt;  730 :     params_r = Eigen::Map&lt;Eigen::Matrix&lt;double,-1,1&gt;&gt;(params_r_vec.data(),</span></span>
<span><span class="co">#&gt;  731 :                  params_r_vec.size());</span></span>
<span><span class="co">#&gt;  732 :   }</span></span>
<span><span class="co">#&gt;  733 :   inline void</span></span>
<span><span class="co">#&gt;  734 :   transform_inits(const stan::io::var_context&amp; context, std::vector&lt;int&gt;&amp;</span></span>
<span><span class="co">#&gt;  735 :                   params_i, std::vector&lt;double&gt;&amp; vars, std::ostream*</span></span>
<span><span class="co">#&gt;  736 :                   pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  737 :     vars.resize(num_params_r__);</span></span>
<span><span class="co">#&gt;  738 :     transform_inits_impl(context, vars, pstream__);</span></span>
<span><span class="co">#&gt;  739 :   }</span></span>
<span><span class="co">#&gt;  740 :   inline void</span></span>
<span><span class="co">#&gt;  741 :   unconstrain_array(const std::vector&lt;double&gt;&amp; params_constrained,</span></span>
<span><span class="co">#&gt;  742 :                     std::vector&lt;double&gt;&amp; params_unconstrained, std::ostream*</span></span>
<span><span class="co">#&gt;  743 :                     pstream = nullptr) const {</span></span>
<span><span class="co">#&gt;  744 :     const std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt;  745 :     params_unconstrained = std::vector&lt;double&gt;(num_params_r__,</span></span>
<span><span class="co">#&gt;  746 :                              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  747 :     unconstrain_array_impl(params_constrained, params_i,</span></span>
<span><span class="co">#&gt;  748 :       params_unconstrained, pstream);</span></span>
<span><span class="co">#&gt;  749 :   }</span></span>
<span><span class="co">#&gt;  750 :   inline void</span></span>
<span><span class="co">#&gt;  751 :   unconstrain_array(const Eigen::Matrix&lt;double,-1,1&gt;&amp; params_constrained,</span></span>
<span><span class="co">#&gt;  752 :                     Eigen::Matrix&lt;double,-1,1&gt;&amp; params_unconstrained,</span></span>
<span><span class="co">#&gt;  753 :                     std::ostream* pstream = nullptr) const {</span></span>
<span><span class="co">#&gt;  754 :     const std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt;  755 :     params_unconstrained = Eigen::Matrix&lt;double,-1,1&gt;::Constant(num_params_r__,</span></span>
<span><span class="co">#&gt;  756 :                              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  757 :     unconstrain_array_impl(params_constrained, params_i,</span></span>
<span><span class="co">#&gt;  758 :       params_unconstrained, pstream);</span></span>
<span><span class="co">#&gt;  759 :   }</span></span>
<span><span class="co">#&gt;  760 : };</span></span>
<span><span class="co">#&gt;  761 : }</span></span>
<span><span class="co">#&gt;  762 : using stan_model = model1d36ca67477__namespace::model1d36ca67477_;</span></span>
<span><span class="co">#&gt;  763 : #ifndef USING_R</span></span>
<span><span class="co">#&gt;  764 : // Boilerplate</span></span>
<span><span class="co">#&gt;  765 : stan::model::model_base&amp;</span></span>
<span><span class="co">#&gt;  766 : new_model(stan::io::var_context&amp; data_context, unsigned int seed,</span></span>
<span><span class="co">#&gt;  767 :           std::ostream* msg_stream) {</span></span>
<span><span class="co">#&gt;  768 :   stan_model* m = new stan_model(data_context, seed, msg_stream);</span></span>
<span><span class="co">#&gt;  769 :   return *m;</span></span>
<span><span class="co">#&gt;  770 : }</span></span>
<span><span class="co">#&gt;  771 : stan::math::profile_map&amp; get_stan_profile_data() {</span></span>
<span><span class="co">#&gt;  772 :   return model1d36ca67477__namespace::profiles__;</span></span>
<span><span class="co">#&gt;  773 : }</span></span>
<span><span class="co">#&gt;  774 : #endif</span></span>
<span><span class="co">#&gt;  775 : #endif</span></span>
<span><span class="co">#&gt;  776 : </span></span>
<span><span class="co">#&gt;  777 : RCPP_MODULE(stan_fit4model1d36ca67477__mod) {</span></span>
<span><span class="co">#&gt;  778 :   class_&lt;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt; &gt;(</span></span>
<span><span class="co">#&gt;  779 :       "stan_fit4model1d36ca67477_")</span></span>
<span><span class="co">#&gt;  780 : </span></span>
<span><span class="co">#&gt;  781 :       .constructor&lt;SEXP, SEXP, SEXP&gt;()</span></span>
<span><span class="co">#&gt;  782 : </span></span>
<span><span class="co">#&gt;  783 :       .method(</span></span>
<span><span class="co">#&gt;  784 :           "call_sampler",</span></span>
<span><span class="co">#&gt;  785 :           &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::call_sampler)</span></span>
<span><span class="co">#&gt;  786 :       .method(</span></span>
<span><span class="co">#&gt;  787 :           "param_names",</span></span>
<span><span class="co">#&gt;  788 :           &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::param_names)</span></span>
<span><span class="co">#&gt;  789 :       .method("param_names_oi",</span></span>
<span><span class="co">#&gt;  790 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt;  791 :                                boost::random::ecuyer1988&gt;::param_names_oi)</span></span>
<span><span class="co">#&gt;  792 :       .method("param_fnames_oi",</span></span>
<span><span class="co">#&gt;  793 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt;  794 :                                boost::random::ecuyer1988&gt;::param_fnames_oi)</span></span>
<span><span class="co">#&gt;  795 :       .method(</span></span>
<span><span class="co">#&gt;  796 :           "param_dims",</span></span>
<span><span class="co">#&gt;  797 :           &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::param_dims)</span></span>
<span><span class="co">#&gt;  798 :       .method("param_dims_oi",</span></span>
<span><span class="co">#&gt;  799 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt;  800 :                                boost::random::ecuyer1988&gt;::param_dims_oi)</span></span>
<span><span class="co">#&gt;  801 :       .method("update_param_oi",</span></span>
<span><span class="co">#&gt;  802 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt;  803 :                                boost::random::ecuyer1988&gt;::update_param_oi)</span></span>
<span><span class="co">#&gt;  804 :       .method("param_oi_tidx",</span></span>
<span><span class="co">#&gt;  805 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt;  806 :                                boost::random::ecuyer1988&gt;::param_oi_tidx)</span></span>
<span><span class="co">#&gt;  807 :       .method("grad_log_prob",</span></span>
<span><span class="co">#&gt;  808 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt;  809 :                                boost::random::ecuyer1988&gt;::grad_log_prob)</span></span>
<span><span class="co">#&gt;  810 :       .method("log_prob",</span></span>
<span><span class="co">#&gt;  811 :               &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::log_prob)</span></span>
<span><span class="co">#&gt;  812 :       .method("unconstrain_pars",</span></span>
<span><span class="co">#&gt;  813 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt;  814 :                                boost::random::ecuyer1988&gt;::unconstrain_pars)</span></span>
<span><span class="co">#&gt;  815 :       .method("constrain_pars",</span></span>
<span><span class="co">#&gt;  816 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt;  817 :                                boost::random::ecuyer1988&gt;::constrain_pars)</span></span>
<span><span class="co">#&gt;  818 :       .method(</span></span>
<span><span class="co">#&gt;  819 :           "num_pars_unconstrained",</span></span>
<span><span class="co">#&gt;  820 :           &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt;  821 :                            boost::random::ecuyer1988&gt;::num_pars_unconstrained)</span></span>
<span><span class="co">#&gt;  822 :       .method(</span></span>
<span><span class="co">#&gt;  823 :           "unconstrained_param_names",</span></span>
<span><span class="co">#&gt;  824 :           &amp;rstan::stan_fit&lt;</span></span>
<span><span class="co">#&gt;  825 :               stan_model, boost::random::ecuyer1988&gt;::unconstrained_param_names)</span></span>
<span><span class="co">#&gt;  826 :       .method(</span></span>
<span><span class="co">#&gt;  827 :           "constrained_param_names",</span></span>
<span><span class="co">#&gt;  828 :           &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt;  829 :                            boost::random::ecuyer1988&gt;::constrained_param_names)</span></span>
<span><span class="co">#&gt;  830 :       .method("standalone_gqs",</span></span>
<span><span class="co">#&gt;  831 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt;  832 :                                boost::random::ecuyer1988&gt;::standalone_gqs);</span></span>
<span><span class="co">#&gt;  833 : }</span></span>
<span><span class="co">#&gt;  834 : </span></span>
<span><span class="co">#&gt;  835 : </span></span>
<span><span class="co">#&gt;  836 : // declarations</span></span>
<span><span class="co">#&gt;  837 : extern "C" {</span></span>
<span><span class="co">#&gt;  838 : SEXP file1d3673bb2db9( ) ;</span></span>
<span><span class="co">#&gt;  839 : }</span></span>
<span><span class="co">#&gt;  840 : </span></span>
<span><span class="co">#&gt;  841 : // definition</span></span>
<span><span class="co">#&gt;  842 : SEXP file1d3673bb2db9() {</span></span>
<span><span class="co">#&gt;  843 :  return Rcpp::wrap("anon_model");</span></span>
<span><span class="co">#&gt;  844 : }</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; CHECKING DATA AND PREPROCESSING FOR MODEL 'anon_model' NOW.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; COMPILING MODEL 'anon_model' NOW.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; STARTING SAMPLER FOR MODEL 'anon_model' NOW.</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multiclass-classification-example">Multiclass Classification Example<a class="anchor" aria-label="anchor" href="#multiclass-classification-example"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_cat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bnns.html">bnns</a></span><span class="op">(</span></span>
<span>  <span class="va">y_cat</span> <span class="op">~</span> <span class="op">-</span><span class="fl">1</span>  <span class="op">+</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span>,</span>
<span>  data <span class="op">=</span> <span class="va">df</span>,</span>
<span>  L <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  nodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">32</span>, <span class="fl">16</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>  act_fn <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  out_act_fn <span class="op">=</span> <span class="fl">3</span>,          <span class="co"># Output activation: 3 = Softmax</span></span>
<span>  iter <span class="op">=</span> <span class="fl">2e2</span>, </span>
<span>  warmup <span class="op">=</span> <span class="fl">1e2</span>, </span>
<span>  chains <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; TRANSLATING MODEL '' FROM Stan CODE TO C++ CODE NOW.</span></span>
<span><span class="co">#&gt; OS: x86_64, linux-gnu; rstan: 2.32.6; Rcpp: 1.0.13.1; inline: 0.3.20 </span></span>
<span><span class="co">#&gt;  &gt;&gt; setting environment variables: </span></span>
<span><span class="co">#&gt; PKG_LIBS =  '/home/runner/work/_temp/Library/rstan/lib//libStanServices.a' -L'/home/runner/work/_temp/Library/StanHeaders/lib/' -lStanHeaders -L'/home/runner/work/_temp/Library/RcppParallel/lib/' -ltbb </span></span>
<span><span class="co">#&gt; PKG_CPPFLAGS =   -I"/home/runner/work/_temp/Library/Rcpp/include/"  -I"/home/runner/work/_temp/Library/RcppEigen/include/"  -I"/home/runner/work/_temp/Library/RcppEigen/include/unsupported"  -I"/home/runner/work/_temp/Library/BH/include" -I"/home/runner/work/_temp/Library/StanHeaders/include/src/"  -I"/home/runner/work/_temp/Library/StanHeaders/include/"  -I"/home/runner/work/_temp/Library/RcppParallel/include/"  -I"/home/runner/work/_temp/Library/rstan/include" -DEIGEN_NO_DEBUG  -DBOOST_DISABLE_ASSERTS  -DBOOST_PENDING_INTEGER_LOG2_HPP  -DSTAN_THREADS  -DUSE_STANC3 -DSTRICT_R_HEADERS  -DBOOST_PHOENIX_NO_VARIADIC_EXPRESSION  -D_HAS_AUTO_PTR_ETC=0  -include '/home/runner/work/_temp/Library/StanHeaders/include/stan/math/prim/fun/Eigen.hpp'  -D_REENTRANT -DRCPP_PARALLEL_USE_TBB=1 </span></span>
<span><span class="co">#&gt;  &gt;&gt; Program source :</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    1 : </span></span>
<span><span class="co">#&gt;    2 : // includes from the plugin</span></span>
<span><span class="co">#&gt;    3 : // [[Rcpp::plugins(cpp14)]]</span></span>
<span><span class="co">#&gt;    4 : </span></span>
<span><span class="co">#&gt;    5 : </span></span>
<span><span class="co">#&gt;    6 : // user includes</span></span>
<span><span class="co">#&gt;    7 : #include &lt;Rcpp.h&gt;</span></span>
<span><span class="co">#&gt;    8 : using namespace Rcpp;</span></span>
<span><span class="co">#&gt;    9 : #ifndef MODELS_HPP</span></span>
<span><span class="co">#&gt;   10 : #define MODELS_HPP</span></span>
<span><span class="co">#&gt;   11 : #define STAN__SERVICES__COMMAND_HPP</span></span>
<span><span class="co">#&gt;   12 : #include &lt;rstan/rstaninc.hpp&gt;</span></span>
<span><span class="co">#&gt;   13 : #ifndef USE_STANC3</span></span>
<span><span class="co">#&gt;   14 : #define USE_STANC3</span></span>
<span><span class="co">#&gt;   15 : #endif</span></span>
<span><span class="co">#&gt;   16 : // Code generated by stanc v2.32.2</span></span>
<span><span class="co">#&gt;   17 : #include &lt;stan/model/model_header.hpp&gt;</span></span>
<span><span class="co">#&gt;   18 : namespace model1d3652edf162__namespace {</span></span>
<span><span class="co">#&gt;   19 : using stan::model::model_base_crtp;</span></span>
<span><span class="co">#&gt;   20 : using namespace stan::math;</span></span>
<span><span class="co">#&gt;   21 : stan::math::profile_map profiles__;</span></span>
<span><span class="co">#&gt;   22 : static constexpr std::array&lt;const char*, 90&gt; locations_array__ =</span></span>
<span><span class="co">#&gt;   23 :   {" (found before start of program)",</span></span>
<span><span class="co">#&gt;   24 :   " (in 'anon_model', line 12, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   25 :   " (in 'anon_model', line 13, column 2 to column 22)",</span></span>
<span><span class="co">#&gt;   26 :   " (in 'anon_model', line 14, column 2 to column 32)",</span></span>
<span><span class="co">#&gt;   27 :   " (in 'anon_model', line 15, column 2 to column 22)",</span></span>
<span><span class="co">#&gt;   28 :   " (in 'anon_model', line 16, column 2 to column 32)",</span></span>
<span><span class="co">#&gt;   29 :   " (in 'anon_model', line 17, column 2 to column 22)",</span></span>
<span><span class="co">#&gt;   30 :   " (in 'anon_model', line 18, column 2 to column 28)",</span></span>
<span><span class="co">#&gt;   31 :   " (in 'anon_model', line 19, column 2 to column 18)",</span></span>
<span><span class="co">#&gt;   32 :   " (in 'anon_model', line 22, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   33 :   " (in 'anon_model', line 23, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   34 :   " (in 'anon_model', line 24, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   35 :   " (in 'anon_model', line 25, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   36 :   " (in 'anon_model', line 26, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   37 :   " (in 'anon_model', line 27, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   38 :   " (in 'anon_model', line 28, column 2 to column 21)",</span></span>
<span><span class="co">#&gt;   39 :   " (in 'anon_model', line 29, column 2 to column 35)",</span></span>
<span><span class="co">#&gt;   40 :   " (in 'anon_model', line 33, column 7 to column 49)",</span></span>
<span><span class="co">#&gt;   41 :   " (in 'anon_model', line 32, column 27 to column 49)",</span></span>
<span><span class="co">#&gt;   42 :   " (in 'anon_model', line 32, column 7 to line 33, column 49)",</span></span>
<span><span class="co">#&gt;   43 :   " (in 'anon_model', line 31, column 27 to column 46)",</span></span>
<span><span class="co">#&gt;   44 :   " (in 'anon_model', line 31, column 7 to line 33, column 49)",</span></span>
<span><span class="co">#&gt;   45 :   " (in 'anon_model', line 30, column 22 to column 36)",</span></span>
<span><span class="co">#&gt;   46 :   " (in 'anon_model', line 30, column 2 to line 33, column 49)",</span></span>
<span><span class="co">#&gt;   47 :   " (in 'anon_model', line 34, column 2 to column 36)",</span></span>
<span><span class="co">#&gt;   48 :   " (in 'anon_model', line 38, column 7 to column 49)",</span></span>
<span><span class="co">#&gt;   49 :   " (in 'anon_model', line 37, column 27 to column 49)",</span></span>
<span><span class="co">#&gt;   50 :   " (in 'anon_model', line 37, column 7 to line 38, column 49)",</span></span>
<span><span class="co">#&gt;   51 :   " (in 'anon_model', line 36, column 27 to column 46)",</span></span>
<span><span class="co">#&gt;   52 :   " (in 'anon_model', line 36, column 7 to line 38, column 49)",</span></span>
<span><span class="co">#&gt;   53 :   " (in 'anon_model', line 35, column 22 to column 36)",</span></span>
<span><span class="co">#&gt;   54 :   " (in 'anon_model', line 35, column 2 to line 38, column 49)",</span></span>
<span><span class="co">#&gt;   55 :   " (in 'anon_model', line 39, column 2 to column 36)",</span></span>
<span><span class="co">#&gt;   56 :   " (in 'anon_model', line 43, column 7 to column 49)",</span></span>
<span><span class="co">#&gt;   57 :   " (in 'anon_model', line 42, column 27 to column 49)",</span></span>
<span><span class="co">#&gt;   58 :   " (in 'anon_model', line 42, column 7 to line 43, column 49)",</span></span>
<span><span class="co">#&gt;   59 :   " (in 'anon_model', line 41, column 27 to column 46)",</span></span>
<span><span class="co">#&gt;   60 :   " (in 'anon_model', line 41, column 7 to line 43, column 49)",</span></span>
<span><span class="co">#&gt;   61 :   " (in 'anon_model', line 40, column 22 to column 36)",</span></span>
<span><span class="co">#&gt;   62 :   " (in 'anon_model', line 40, column 2 to line 43, column 49)",</span></span>
<span><span class="co">#&gt;   63 :   " (in 'anon_model', line 44, column 2 to column 45)",</span></span>
<span><span class="co">#&gt;   64 :   " (in 'anon_model', line 47, column 2 to column 31)",</span></span>
<span><span class="co">#&gt;   65 :   " (in 'anon_model', line 48, column 2 to column 20)",</span></span>
<span><span class="co">#&gt;   66 :   " (in 'anon_model', line 49, column 2 to column 31)",</span></span>
<span><span class="co">#&gt;   67 :   " (in 'anon_model', line 50, column 2 to column 20)",</span></span>
<span><span class="co">#&gt;   68 :   " (in 'anon_model', line 51, column 2 to column 31)",</span></span>
<span><span class="co">#&gt;   69 :   " (in 'anon_model', line 52, column 2 to column 20)",</span></span>
<span><span class="co">#&gt;   70 :   " (in 'anon_model', line 53, column 2 to column 34)",</span></span>
<span><span class="co">#&gt;   71 :   " (in 'anon_model', line 54, column 2 to column 23)",</span></span>
<span><span class="co">#&gt;   72 :   " (in 'anon_model', line 55, column 17 to column 53)",</span></span>
<span><span class="co">#&gt;   73 :   " (in 'anon_model', line 55, column 2 to column 53)",</span></span>
<span><span class="co">#&gt;   74 :   " (in 'anon_model', line 2, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   75 :   " (in 'anon_model', line 3, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   76 :   " (in 'anon_model', line 4, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   77 :   " (in 'anon_model', line 5, column 21 to column 22)",</span></span>
<span><span class="co">#&gt;   78 :   " (in 'anon_model', line 5, column 2 to column 24)",</span></span>
<span><span class="co">#&gt;   79 :   " (in 'anon_model', line 6, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   80 :   " (in 'anon_model', line 6, column 12 to column 13)",</span></span>
<span><span class="co">#&gt;   81 :   " (in 'anon_model', line 6, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   82 :   " (in 'anon_model', line 7, column 8 to column 9)",</span></span>
<span><span class="co">#&gt;   83 :   " (in 'anon_model', line 7, column 2 to column 26)",</span></span>
<span><span class="co">#&gt;   84 :   " (in 'anon_model', line 8, column 22 to column 23)",</span></span>
<span><span class="co">#&gt;   85 :   " (in 'anon_model', line 8, column 2 to column 25)",</span></span>
<span><span class="co">#&gt;   86 :   " (in 'anon_model', line 9, column 2 to column 17)",</span></span>
<span><span class="co">#&gt;   87 :   " (in 'anon_model', line 12, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   88 :   " (in 'anon_model', line 12, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;   89 :   " (in 'anon_model', line 13, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   90 :   " (in 'anon_model', line 14, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   91 :   " (in 'anon_model', line 14, column 19 to column 27)",</span></span>
<span><span class="co">#&gt;   92 :   " (in 'anon_model', line 15, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   93 :   " (in 'anon_model', line 16, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   94 :   " (in 'anon_model', line 16, column 19 to column 27)",</span></span>
<span><span class="co">#&gt;   95 :   " (in 'anon_model', line 17, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   96 :   " (in 'anon_model', line 18, column 9 to column 17)",</span></span>
<span><span class="co">#&gt;   97 :   " (in 'anon_model', line 18, column 19 to column 20)",</span></span>
<span><span class="co">#&gt;   98 :   " (in 'anon_model', line 19, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;   99 :   " (in 'anon_model', line 22, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;  100 :   " (in 'anon_model', line 22, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;  101 :   " (in 'anon_model', line 23, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;  102 :   " (in 'anon_model', line 23, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;  103 :   " (in 'anon_model', line 24, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;  104 :   " (in 'anon_model', line 24, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;  105 :   " (in 'anon_model', line 25, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;  106 :   " (in 'anon_model', line 25, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;  107 :   " (in 'anon_model', line 26, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;  108 :   " (in 'anon_model', line 26, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;  109 :   " (in 'anon_model', line 27, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;  110 :   " (in 'anon_model', line 27, column 12 to column 20)",</span></span>
<span><span class="co">#&gt;  111 :   " (in 'anon_model', line 28, column 9 to column 10)",</span></span>
<span><span class="co">#&gt;  112 :   " (in 'anon_model', line 28, column 12 to column 13)"};</span></span>
<span><span class="co">#&gt;  113 : class model1d3652edf162_ final : public model_base_crtp&lt;model1d3652edf162_&gt; {</span></span>
<span><span class="co">#&gt;  114 : private:</span></span>
<span><span class="co">#&gt;  115 :   int n;</span></span>
<span><span class="co">#&gt;  116 :   int m;</span></span>
<span><span class="co">#&gt;  117 :   int L;</span></span>
<span><span class="co">#&gt;  118 :   std::vector&lt;int&gt; nodes;</span></span>
<span><span class="co">#&gt;  119 :   Eigen::Matrix&lt;double,-1,-1&gt; X_data__;</span></span>
<span><span class="co">#&gt;  120 :   std::vector&lt;int&gt; y;</span></span>
<span><span class="co">#&gt;  121 :   std::vector&lt;int&gt; act_fn;</span></span>
<span><span class="co">#&gt;  122 :   int K;</span></span>
<span><span class="co">#&gt;  123 :   int w1_2dim__;</span></span>
<span><span class="co">#&gt;  124 :   int b1_1dim__;</span></span>
<span><span class="co">#&gt;  125 :   int w2_1dim__;</span></span>
<span><span class="co">#&gt;  126 :   int w2_2dim__;</span></span>
<span><span class="co">#&gt;  127 :   int b2_1dim__;</span></span>
<span><span class="co">#&gt;  128 :   int w3_1dim__;</span></span>
<span><span class="co">#&gt;  129 :   int w3_2dim__;</span></span>
<span><span class="co">#&gt;  130 :   int b3_1dim__;</span></span>
<span><span class="co">#&gt;  131 :   int w_out_1dim__;</span></span>
<span><span class="co">#&gt;  132 :   int z1_2dim__;</span></span>
<span><span class="co">#&gt;  133 :   int a1_2dim__;</span></span>
<span><span class="co">#&gt;  134 :   int z2_2dim__;</span></span>
<span><span class="co">#&gt;  135 :   int a2_2dim__;</span></span>
<span><span class="co">#&gt;  136 :   int z3_2dim__;</span></span>
<span><span class="co">#&gt;  137 :   int a3_2dim__;</span></span>
<span><span class="co">#&gt;  138 :   Eigen::Map&lt;Eigen::Matrix&lt;double,-1,-1&gt;&gt; X{nullptr, 0, 0};</span></span>
<span><span class="co">#&gt;  139 : public:</span></span>
<span><span class="co">#&gt;  140 :   ~model1d3652edf162_() {}</span></span>
<span><span class="co">#&gt;  141 :   model1d3652edf162_(stan::io::var_context&amp; context__, unsigned int</span></span>
<span><span class="co">#&gt;  142 :                      random_seed__ = 0, std::ostream* pstream__ = nullptr)</span></span>
<span><span class="co">#&gt;  143 :       : model_base_crtp(0) {</span></span>
<span><span class="co">#&gt;  144 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  145 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  146 :     boost::ecuyer1988 base_rng__ =</span></span>
<span><span class="co">#&gt;  147 :       stan::services::util::create_rng(random_seed__, 0);</span></span>
<span><span class="co">#&gt;  148 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  149 :     (void) base_rng__;</span></span>
<span><span class="co">#&gt;  150 :     static constexpr const char* function__ =</span></span>
<span><span class="co">#&gt;  151 :       "model1d3652edf162__namespace::model1d3652edf162_";</span></span>
<span><span class="co">#&gt;  152 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  153 :     (void) function__;</span></span>
<span><span class="co">#&gt;  154 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  155 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  156 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  157 :     try {</span></span>
<span><span class="co">#&gt;  158 :       int pos__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  159 :       pos__ = 1;</span></span>
<span><span class="co">#&gt;  160 :       current_statement__ = 51;</span></span>
<span><span class="co">#&gt;  161 :       context__.validate_dims("data initialization", "n", "int",</span></span>
<span><span class="co">#&gt;  162 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  163 :       n = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  164 :       current_statement__ = 51;</span></span>
<span><span class="co">#&gt;  165 :       n = context__.vals_i("n")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  166 :       current_statement__ = 51;</span></span>
<span><span class="co">#&gt;  167 :       stan::math::check_greater_or_equal(function__, "n", n, 1);</span></span>
<span><span class="co">#&gt;  168 :       current_statement__ = 52;</span></span>
<span><span class="co">#&gt;  169 :       context__.validate_dims("data initialization", "m", "int",</span></span>
<span><span class="co">#&gt;  170 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  171 :       m = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  172 :       current_statement__ = 52;</span></span>
<span><span class="co">#&gt;  173 :       m = context__.vals_i("m")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  174 :       current_statement__ = 52;</span></span>
<span><span class="co">#&gt;  175 :       stan::math::check_greater_or_equal(function__, "m", m, 1);</span></span>
<span><span class="co">#&gt;  176 :       current_statement__ = 53;</span></span>
<span><span class="co">#&gt;  177 :       context__.validate_dims("data initialization", "L", "int",</span></span>
<span><span class="co">#&gt;  178 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  179 :       L = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  180 :       current_statement__ = 53;</span></span>
<span><span class="co">#&gt;  181 :       L = context__.vals_i("L")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  182 :       current_statement__ = 53;</span></span>
<span><span class="co">#&gt;  183 :       stan::math::check_greater_or_equal(function__, "L", L, 1);</span></span>
<span><span class="co">#&gt;  184 :       current_statement__ = 54;</span></span>
<span><span class="co">#&gt;  185 :       stan::math::validate_non_negative_index("nodes", "L", L);</span></span>
<span><span class="co">#&gt;  186 :       current_statement__ = 55;</span></span>
<span><span class="co">#&gt;  187 :       context__.validate_dims("data initialization", "nodes", "int",</span></span>
<span><span class="co">#&gt;  188 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(L)});</span></span>
<span><span class="co">#&gt;  189 :       nodes = std::vector&lt;int&gt;(L, std::numeric_limits&lt;int&gt;::min());</span></span>
<span><span class="co">#&gt;  190 :       current_statement__ = 55;</span></span>
<span><span class="co">#&gt;  191 :       nodes = context__.vals_i("nodes");</span></span>
<span><span class="co">#&gt;  192 :       current_statement__ = 55;</span></span>
<span><span class="co">#&gt;  193 :       stan::math::check_greater_or_equal(function__, "nodes", nodes, 1);</span></span>
<span><span class="co">#&gt;  194 :       current_statement__ = 56;</span></span>
<span><span class="co">#&gt;  195 :       stan::math::validate_non_negative_index("X", "n", n);</span></span>
<span><span class="co">#&gt;  196 :       current_statement__ = 57;</span></span>
<span><span class="co">#&gt;  197 :       stan::math::validate_non_negative_index("X", "m", m);</span></span>
<span><span class="co">#&gt;  198 :       current_statement__ = 58;</span></span>
<span><span class="co">#&gt;  199 :       context__.validate_dims("data initialization", "X", "double",</span></span>
<span><span class="co">#&gt;  200 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n), static_cast&lt;size_t&gt;(m)});</span></span>
<span><span class="co">#&gt;  201 :       X_data__ = Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, m,</span></span>
<span><span class="co">#&gt;  202 :                    std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  203 :       new (&amp;X) Eigen::Map&lt;Eigen::Matrix&lt;double,-1,-1&gt;&gt;(X_data__.data(), n, m);</span></span>
<span><span class="co">#&gt;  204 :       {</span></span>
<span><span class="co">#&gt;  205 :         std::vector&lt;local_scalar_t__&gt; X_flat__;</span></span>
<span><span class="co">#&gt;  206 :         current_statement__ = 58;</span></span>
<span><span class="co">#&gt;  207 :         X_flat__ = context__.vals_r("X");</span></span>
<span><span class="co">#&gt;  208 :         current_statement__ = 58;</span></span>
<span><span class="co">#&gt;  209 :         pos__ = 1;</span></span>
<span><span class="co">#&gt;  210 :         current_statement__ = 58;</span></span>
<span><span class="co">#&gt;  211 :         for (int sym1__ = 1; sym1__ &lt;= m; ++sym1__) {</span></span>
<span><span class="co">#&gt;  212 :           current_statement__ = 58;</span></span>
<span><span class="co">#&gt;  213 :           for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt;  214 :             current_statement__ = 58;</span></span>
<span><span class="co">#&gt;  215 :             stan::model::assign(X, X_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt;  216 :               "assigning variable X", stan::model::index_uni(sym2__),</span></span>
<span><span class="co">#&gt;  217 :               stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt;  218 :             current_statement__ = 58;</span></span>
<span><span class="co">#&gt;  219 :             pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt;  220 :           }</span></span>
<span><span class="co">#&gt;  221 :         }</span></span>
<span><span class="co">#&gt;  222 :       }</span></span>
<span><span class="co">#&gt;  223 :       current_statement__ = 59;</span></span>
<span><span class="co">#&gt;  224 :       stan::math::validate_non_negative_index("y", "n", n);</span></span>
<span><span class="co">#&gt;  225 :       current_statement__ = 60;</span></span>
<span><span class="co">#&gt;  226 :       context__.validate_dims("data initialization", "y", "int",</span></span>
<span><span class="co">#&gt;  227 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n)});</span></span>
<span><span class="co">#&gt;  228 :       y = std::vector&lt;int&gt;(n, std::numeric_limits&lt;int&gt;::min());</span></span>
<span><span class="co">#&gt;  229 :       current_statement__ = 60;</span></span>
<span><span class="co">#&gt;  230 :       y = context__.vals_i("y");</span></span>
<span><span class="co">#&gt;  231 :       current_statement__ = 60;</span></span>
<span><span class="co">#&gt;  232 :       stan::math::check_greater_or_equal(function__, "y", y, 1);</span></span>
<span><span class="co">#&gt;  233 :       current_statement__ = 61;</span></span>
<span><span class="co">#&gt;  234 :       stan::math::validate_non_negative_index("act_fn", "L", L);</span></span>
<span><span class="co">#&gt;  235 :       current_statement__ = 62;</span></span>
<span><span class="co">#&gt;  236 :       context__.validate_dims("data initialization", "act_fn", "int",</span></span>
<span><span class="co">#&gt;  237 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(L)});</span></span>
<span><span class="co">#&gt;  238 :       act_fn = std::vector&lt;int&gt;(L, std::numeric_limits&lt;int&gt;::min());</span></span>
<span><span class="co">#&gt;  239 :       current_statement__ = 62;</span></span>
<span><span class="co">#&gt;  240 :       act_fn = context__.vals_i("act_fn");</span></span>
<span><span class="co">#&gt;  241 :       current_statement__ = 62;</span></span>
<span><span class="co">#&gt;  242 :       stan::math::check_greater_or_equal(function__, "act_fn", act_fn, 1);</span></span>
<span><span class="co">#&gt;  243 :       current_statement__ = 63;</span></span>
<span><span class="co">#&gt;  244 :       context__.validate_dims("data initialization", "K", "int",</span></span>
<span><span class="co">#&gt;  245 :         std::vector&lt;size_t&gt;{});</span></span>
<span><span class="co">#&gt;  246 :       K = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  247 :       current_statement__ = 63;</span></span>
<span><span class="co">#&gt;  248 :       K = context__.vals_i("K")[(1 - 1)];</span></span>
<span><span class="co">#&gt;  249 :       current_statement__ = 63;</span></span>
<span><span class="co">#&gt;  250 :       stan::math::check_greater_or_equal(function__, "K", K, 2);</span></span>
<span><span class="co">#&gt;  251 :       current_statement__ = 64;</span></span>
<span><span class="co">#&gt;  252 :       stan::math::validate_non_negative_index("w1", "m", m);</span></span>
<span><span class="co">#&gt;  253 :       current_statement__ = 65;</span></span>
<span><span class="co">#&gt;  254 :       w1_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  255 :       current_statement__ = 65;</span></span>
<span><span class="co">#&gt;  256 :       w1_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  257 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  258 :       current_statement__ = 65;</span></span>
<span><span class="co">#&gt;  259 :       stan::math::validate_non_negative_index("w1", "nodes[1]", w1_2dim__);</span></span>
<span><span class="co">#&gt;  260 :       current_statement__ = 66;</span></span>
<span><span class="co">#&gt;  261 :       b1_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  262 :       current_statement__ = 66;</span></span>
<span><span class="co">#&gt;  263 :       b1_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  264 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  265 :       current_statement__ = 66;</span></span>
<span><span class="co">#&gt;  266 :       stan::math::validate_non_negative_index("b1", "nodes[1]", b1_1dim__);</span></span>
<span><span class="co">#&gt;  267 :       current_statement__ = 67;</span></span>
<span><span class="co">#&gt;  268 :       w2_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  269 :       current_statement__ = 67;</span></span>
<span><span class="co">#&gt;  270 :       w2_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  271 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  272 :       current_statement__ = 67;</span></span>
<span><span class="co">#&gt;  273 :       stan::math::validate_non_negative_index("w2", "nodes[1]", w2_1dim__);</span></span>
<span><span class="co">#&gt;  274 :       current_statement__ = 68;</span></span>
<span><span class="co">#&gt;  275 :       w2_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  276 :       current_statement__ = 68;</span></span>
<span><span class="co">#&gt;  277 :       w2_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  278 :                     stan::model::index_uni(2));</span></span>
<span><span class="co">#&gt;  279 :       current_statement__ = 68;</span></span>
<span><span class="co">#&gt;  280 :       stan::math::validate_non_negative_index("w2", "nodes[2]", w2_2dim__);</span></span>
<span><span class="co">#&gt;  281 :       current_statement__ = 69;</span></span>
<span><span class="co">#&gt;  282 :       b2_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  283 :       current_statement__ = 69;</span></span>
<span><span class="co">#&gt;  284 :       b2_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  285 :                     stan::model::index_uni(2));</span></span>
<span><span class="co">#&gt;  286 :       current_statement__ = 69;</span></span>
<span><span class="co">#&gt;  287 :       stan::math::validate_non_negative_index("b2", "nodes[2]", b2_1dim__);</span></span>
<span><span class="co">#&gt;  288 :       current_statement__ = 70;</span></span>
<span><span class="co">#&gt;  289 :       w3_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  290 :       current_statement__ = 70;</span></span>
<span><span class="co">#&gt;  291 :       w3_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  292 :                     stan::model::index_uni(2));</span></span>
<span><span class="co">#&gt;  293 :       current_statement__ = 70;</span></span>
<span><span class="co">#&gt;  294 :       stan::math::validate_non_negative_index("w3", "nodes[2]", w3_1dim__);</span></span>
<span><span class="co">#&gt;  295 :       current_statement__ = 71;</span></span>
<span><span class="co">#&gt;  296 :       w3_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  297 :       current_statement__ = 71;</span></span>
<span><span class="co">#&gt;  298 :       w3_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  299 :                     stan::model::index_uni(3));</span></span>
<span><span class="co">#&gt;  300 :       current_statement__ = 71;</span></span>
<span><span class="co">#&gt;  301 :       stan::math::validate_non_negative_index("w3", "nodes[3]", w3_2dim__);</span></span>
<span><span class="co">#&gt;  302 :       current_statement__ = 72;</span></span>
<span><span class="co">#&gt;  303 :       b3_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  304 :       current_statement__ = 72;</span></span>
<span><span class="co">#&gt;  305 :       b3_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  306 :                     stan::model::index_uni(3));</span></span>
<span><span class="co">#&gt;  307 :       current_statement__ = 72;</span></span>
<span><span class="co">#&gt;  308 :       stan::math::validate_non_negative_index("b3", "nodes[3]", b3_1dim__);</span></span>
<span><span class="co">#&gt;  309 :       current_statement__ = 73;</span></span>
<span><span class="co">#&gt;  310 :       w_out_1dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  311 :       current_statement__ = 73;</span></span>
<span><span class="co">#&gt;  312 :       w_out_1dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  313 :                        stan::model::index_uni(L));</span></span>
<span><span class="co">#&gt;  314 :       current_statement__ = 73;</span></span>
<span><span class="co">#&gt;  315 :       stan::math::validate_non_negative_index("w_out", "nodes[L]",</span></span>
<span><span class="co">#&gt;  316 :         w_out_1dim__);</span></span>
<span><span class="co">#&gt;  317 :       current_statement__ = 74;</span></span>
<span><span class="co">#&gt;  318 :       stan::math::validate_non_negative_index("w_out", "K", K);</span></span>
<span><span class="co">#&gt;  319 :       current_statement__ = 75;</span></span>
<span><span class="co">#&gt;  320 :       stan::math::validate_non_negative_index("b_out", "K", K);</span></span>
<span><span class="co">#&gt;  321 :       current_statement__ = 76;</span></span>
<span><span class="co">#&gt;  322 :       stan::math::validate_non_negative_index("z1", "n", n);</span></span>
<span><span class="co">#&gt;  323 :       current_statement__ = 77;</span></span>
<span><span class="co">#&gt;  324 :       z1_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  325 :       current_statement__ = 77;</span></span>
<span><span class="co">#&gt;  326 :       z1_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  327 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  328 :       current_statement__ = 77;</span></span>
<span><span class="co">#&gt;  329 :       stan::math::validate_non_negative_index("z1", "nodes[1]", z1_2dim__);</span></span>
<span><span class="co">#&gt;  330 :       current_statement__ = 78;</span></span>
<span><span class="co">#&gt;  331 :       stan::math::validate_non_negative_index("a1", "n", n);</span></span>
<span><span class="co">#&gt;  332 :       current_statement__ = 79;</span></span>
<span><span class="co">#&gt;  333 :       a1_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  334 :       current_statement__ = 79;</span></span>
<span><span class="co">#&gt;  335 :       a1_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  336 :                     stan::model::index_uni(1));</span></span>
<span><span class="co">#&gt;  337 :       current_statement__ = 79;</span></span>
<span><span class="co">#&gt;  338 :       stan::math::validate_non_negative_index("a1", "nodes[1]", a1_2dim__);</span></span>
<span><span class="co">#&gt;  339 :       current_statement__ = 80;</span></span>
<span><span class="co">#&gt;  340 :       stan::math::validate_non_negative_index("z2", "n", n);</span></span>
<span><span class="co">#&gt;  341 :       current_statement__ = 81;</span></span>
<span><span class="co">#&gt;  342 :       z2_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  343 :       current_statement__ = 81;</span></span>
<span><span class="co">#&gt;  344 :       z2_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  345 :                     stan::model::index_uni(2));</span></span>
<span><span class="co">#&gt;  346 :       current_statement__ = 81;</span></span>
<span><span class="co">#&gt;  347 :       stan::math::validate_non_negative_index("z2", "nodes[2]", z2_2dim__);</span></span>
<span><span class="co">#&gt;  348 :       current_statement__ = 82;</span></span>
<span><span class="co">#&gt;  349 :       stan::math::validate_non_negative_index("a2", "n", n);</span></span>
<span><span class="co">#&gt;  350 :       current_statement__ = 83;</span></span>
<span><span class="co">#&gt;  351 :       a2_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  352 :       current_statement__ = 83;</span></span>
<span><span class="co">#&gt;  353 :       a2_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  354 :                     stan::model::index_uni(2));</span></span>
<span><span class="co">#&gt;  355 :       current_statement__ = 83;</span></span>
<span><span class="co">#&gt;  356 :       stan::math::validate_non_negative_index("a2", "nodes[2]", a2_2dim__);</span></span>
<span><span class="co">#&gt;  357 :       current_statement__ = 84;</span></span>
<span><span class="co">#&gt;  358 :       stan::math::validate_non_negative_index("z3", "n", n);</span></span>
<span><span class="co">#&gt;  359 :       current_statement__ = 85;</span></span>
<span><span class="co">#&gt;  360 :       z3_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  361 :       current_statement__ = 85;</span></span>
<span><span class="co">#&gt;  362 :       z3_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  363 :                     stan::model::index_uni(3));</span></span>
<span><span class="co">#&gt;  364 :       current_statement__ = 85;</span></span>
<span><span class="co">#&gt;  365 :       stan::math::validate_non_negative_index("z3", "nodes[3]", z3_2dim__);</span></span>
<span><span class="co">#&gt;  366 :       current_statement__ = 86;</span></span>
<span><span class="co">#&gt;  367 :       stan::math::validate_non_negative_index("a3", "n", n);</span></span>
<span><span class="co">#&gt;  368 :       current_statement__ = 87;</span></span>
<span><span class="co">#&gt;  369 :       a3_2dim__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  370 :       current_statement__ = 87;</span></span>
<span><span class="co">#&gt;  371 :       a3_2dim__ = stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  372 :                     stan::model::index_uni(3));</span></span>
<span><span class="co">#&gt;  373 :       current_statement__ = 87;</span></span>
<span><span class="co">#&gt;  374 :       stan::math::validate_non_negative_index("a3", "nodes[3]", a3_2dim__);</span></span>
<span><span class="co">#&gt;  375 :       current_statement__ = 88;</span></span>
<span><span class="co">#&gt;  376 :       stan::math::validate_non_negative_index("y_hat", "n", n);</span></span>
<span><span class="co">#&gt;  377 :       current_statement__ = 89;</span></span>
<span><span class="co">#&gt;  378 :       stan::math::validate_non_negative_index("y_hat", "K", K);</span></span>
<span><span class="co">#&gt;  379 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  380 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  381 :     }</span></span>
<span><span class="co">#&gt;  382 :     num_params_r__ = (m * w1_2dim__) + b1_1dim__ + (w2_1dim__ * w2_2dim__) +</span></span>
<span><span class="co">#&gt;  383 :       b2_1dim__ + (w3_1dim__ * w3_2dim__) + b3_1dim__ + (w_out_1dim__ * K) +</span></span>
<span><span class="co">#&gt;  384 :       K;</span></span>
<span><span class="co">#&gt;  385 :   }</span></span>
<span><span class="co">#&gt;  386 :   inline std::string model_name() const final {</span></span>
<span><span class="co">#&gt;  387 :     return "model1d3652edf162_";</span></span>
<span><span class="co">#&gt;  388 :   }</span></span>
<span><span class="co">#&gt;  389 :   inline std::vector&lt;std::string&gt; model_compile_info() const noexcept {</span></span>
<span><span class="co">#&gt;  390 :     return std::vector&lt;std::string&gt;{"stanc_version = stanc3 v2.32.2",</span></span>
<span><span class="co">#&gt;  391 :              "stancflags = --"};</span></span>
<span><span class="co">#&gt;  392 :   }</span></span>
<span><span class="co">#&gt;  393 :   template &lt;bool propto__, bool jacobian__, typename VecR, typename VecI,</span></span>
<span><span class="co">#&gt;  394 :             stan::require_vector_like_t&lt;VecR&gt;* = nullptr,</span></span>
<span><span class="co">#&gt;  395 :             stan::require_vector_like_vt&lt;std::is_integral, VecI&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  396 :   inline stan::scalar_type_t&lt;VecR&gt;</span></span>
<span><span class="co">#&gt;  397 :   log_prob_impl(VecR&amp; params_r__, VecI&amp; params_i__, std::ostream*</span></span>
<span><span class="co">#&gt;  398 :                 pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  399 :     using T__ = stan::scalar_type_t&lt;VecR&gt;;</span></span>
<span><span class="co">#&gt;  400 :     using local_scalar_t__ = T__;</span></span>
<span><span class="co">#&gt;  401 :     T__ lp__(0.0);</span></span>
<span><span class="co">#&gt;  402 :     stan::math::accumulator&lt;T__&gt; lp_accum__;</span></span>
<span><span class="co">#&gt;  403 :     stan::io::deserializer&lt;local_scalar_t__&gt; in__(params_r__, params_i__);</span></span>
<span><span class="co">#&gt;  404 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  405 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  406 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  407 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  408 :     static constexpr const char* function__ =</span></span>
<span><span class="co">#&gt;  409 :       "model1d3652edf162__namespace::log_prob";</span></span>
<span><span class="co">#&gt;  410 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  411 :     (void) function__;</span></span>
<span><span class="co">#&gt;  412 :     try {</span></span>
<span><span class="co">#&gt;  413 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  414 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(m, w1_2dim__,</span></span>
<span><span class="co">#&gt;  415 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  416 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  417 :       w1 = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(m,</span></span>
<span><span class="co">#&gt;  418 :              w1_2dim__);</span></span>
<span><span class="co">#&gt;  419 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  420 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b1_1dim__,</span></span>
<span><span class="co">#&gt;  421 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  422 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  423 :       b1 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  424 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b1_1dim__);</span></span>
<span><span class="co">#&gt;  425 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w2 =</span></span>
<span><span class="co">#&gt;  426 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w2_1dim__, w2_2dim__,</span></span>
<span><span class="co">#&gt;  427 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  428 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  429 :       w2 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  430 :              Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w2_1dim__, w2_2dim__);</span></span>
<span><span class="co">#&gt;  431 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b2 =</span></span>
<span><span class="co">#&gt;  432 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b2_1dim__,</span></span>
<span><span class="co">#&gt;  433 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  434 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  435 :       b2 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  436 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b2_1dim__);</span></span>
<span><span class="co">#&gt;  437 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w3 =</span></span>
<span><span class="co">#&gt;  438 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w3_1dim__, w3_2dim__,</span></span>
<span><span class="co">#&gt;  439 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  440 :       current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  441 :       w3 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  442 :              Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w3_1dim__, w3_2dim__);</span></span>
<span><span class="co">#&gt;  443 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b3 =</span></span>
<span><span class="co">#&gt;  444 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b3_1dim__,</span></span>
<span><span class="co">#&gt;  445 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  446 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  447 :       b3 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  448 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b3_1dim__);</span></span>
<span><span class="co">#&gt;  449 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w_out =</span></span>
<span><span class="co">#&gt;  450 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w_out_1dim__, K,</span></span>
<span><span class="co">#&gt;  451 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  452 :       current_statement__ = 7;</span></span>
<span><span class="co">#&gt;  453 :       w_out = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  454 :                 Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w_out_1dim__, K);</span></span>
<span><span class="co">#&gt;  455 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b_out =</span></span>
<span><span class="co">#&gt;  456 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(K, DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  457 :       current_statement__ = 8;</span></span>
<span><span class="co">#&gt;  458 :       b_out = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(K);</span></span>
<span><span class="co">#&gt;  459 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; z1 =</span></span>
<span><span class="co">#&gt;  460 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, z1_2dim__,</span></span>
<span><span class="co">#&gt;  461 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  462 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; a1 =</span></span>
<span><span class="co">#&gt;  463 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, a1_2dim__,</span></span>
<span><span class="co">#&gt;  464 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  465 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; z2 =</span></span>
<span><span class="co">#&gt;  466 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, z2_2dim__,</span></span>
<span><span class="co">#&gt;  467 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  468 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; a2 =</span></span>
<span><span class="co">#&gt;  469 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, a2_2dim__,</span></span>
<span><span class="co">#&gt;  470 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  471 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; z3 =</span></span>
<span><span class="co">#&gt;  472 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, z3_2dim__,</span></span>
<span><span class="co">#&gt;  473 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  474 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; a3 =</span></span>
<span><span class="co">#&gt;  475 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, a3_2dim__,</span></span>
<span><span class="co">#&gt;  476 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  477 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; y_hat =</span></span>
<span><span class="co">#&gt;  478 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(n, K, DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  479 :       current_statement__ = 16;</span></span>
<span><span class="co">#&gt;  480 :       stan::model::assign(z1,</span></span>
<span><span class="co">#&gt;  481 :         stan::math::add(stan::math::multiply(X, w1),</span></span>
<span><span class="co">#&gt;  482 :           stan::math::rep_matrix(stan::math::transpose(b1), n)),</span></span>
<span><span class="co">#&gt;  483 :         "assigning variable z1");</span></span>
<span><span class="co">#&gt;  484 :       current_statement__ = 23;</span></span>
<span><span class="co">#&gt;  485 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  486 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(1)),</span></span>
<span><span class="co">#&gt;  487 :             1)) {</span></span>
<span><span class="co">#&gt;  488 :         current_statement__ = 22;</span></span>
<span><span class="co">#&gt;  489 :         stan::model::assign(a1, stan::math::tanh(z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  490 :       } else {</span></span>
<span><span class="co">#&gt;  491 :         current_statement__ = 21;</span></span>
<span><span class="co">#&gt;  492 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  493 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(1)),</span></span>
<span><span class="co">#&gt;  494 :               2)) {</span></span>
<span><span class="co">#&gt;  495 :           current_statement__ = 20;</span></span>
<span><span class="co">#&gt;  496 :           stan::model::assign(a1, stan::math::inv_logit(z1),</span></span>
<span><span class="co">#&gt;  497 :             "assigning variable a1");</span></span>
<span><span class="co">#&gt;  498 :         } else {</span></span>
<span><span class="co">#&gt;  499 :           current_statement__ = 19;</span></span>
<span><span class="co">#&gt;  500 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  501 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  502 :                   stan::model::index_uni(1)), 3)) {</span></span>
<span><span class="co">#&gt;  503 :             current_statement__ = 18;</span></span>
<span><span class="co">#&gt;  504 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  505 :               stan::math::log(stan::math::add(1, stan::math::exp(z1))),</span></span>
<span><span class="co">#&gt;  506 :               "assigning variable a1");</span></span>
<span><span class="co">#&gt;  507 :           } else {</span></span>
<span><span class="co">#&gt;  508 :             current_statement__ = 17;</span></span>
<span><span class="co">#&gt;  509 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  510 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  511 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  512 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  513 :                     stan::model::index_uni(1))), z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  514 :           }</span></span>
<span><span class="co">#&gt;  515 :         }</span></span>
<span><span class="co">#&gt;  516 :       }</span></span>
<span><span class="co">#&gt;  517 :       current_statement__ = 24;</span></span>
<span><span class="co">#&gt;  518 :       stan::model::assign(z2,</span></span>
<span><span class="co">#&gt;  519 :         stan::math::add(stan::math::multiply(a1, w2),</span></span>
<span><span class="co">#&gt;  520 :           stan::math::rep_matrix(stan::math::transpose(b2), n)),</span></span>
<span><span class="co">#&gt;  521 :         "assigning variable z2");</span></span>
<span><span class="co">#&gt;  522 :       current_statement__ = 31;</span></span>
<span><span class="co">#&gt;  523 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  524 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(2)),</span></span>
<span><span class="co">#&gt;  525 :             1)) {</span></span>
<span><span class="co">#&gt;  526 :         current_statement__ = 30;</span></span>
<span><span class="co">#&gt;  527 :         stan::model::assign(a2, stan::math::tanh(z2), "assigning variable a2");</span></span>
<span><span class="co">#&gt;  528 :       } else {</span></span>
<span><span class="co">#&gt;  529 :         current_statement__ = 29;</span></span>
<span><span class="co">#&gt;  530 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  531 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(2)),</span></span>
<span><span class="co">#&gt;  532 :               2)) {</span></span>
<span><span class="co">#&gt;  533 :           current_statement__ = 28;</span></span>
<span><span class="co">#&gt;  534 :           stan::model::assign(a2, stan::math::inv_logit(z2),</span></span>
<span><span class="co">#&gt;  535 :             "assigning variable a2");</span></span>
<span><span class="co">#&gt;  536 :         } else {</span></span>
<span><span class="co">#&gt;  537 :           current_statement__ = 27;</span></span>
<span><span class="co">#&gt;  538 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  539 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  540 :                   stan::model::index_uni(2)), 3)) {</span></span>
<span><span class="co">#&gt;  541 :             current_statement__ = 26;</span></span>
<span><span class="co">#&gt;  542 :             stan::model::assign(a2,</span></span>
<span><span class="co">#&gt;  543 :               stan::math::log(stan::math::add(1, stan::math::exp(z2))),</span></span>
<span><span class="co">#&gt;  544 :               "assigning variable a2");</span></span>
<span><span class="co">#&gt;  545 :           } else {</span></span>
<span><span class="co">#&gt;  546 :             current_statement__ = 25;</span></span>
<span><span class="co">#&gt;  547 :             stan::model::assign(a2,</span></span>
<span><span class="co">#&gt;  548 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  549 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  550 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  551 :                     stan::model::index_uni(2))), z2), "assigning variable a2");</span></span>
<span><span class="co">#&gt;  552 :           }</span></span>
<span><span class="co">#&gt;  553 :         }</span></span>
<span><span class="co">#&gt;  554 :       }</span></span>
<span><span class="co">#&gt;  555 :       current_statement__ = 32;</span></span>
<span><span class="co">#&gt;  556 :       stan::model::assign(z3,</span></span>
<span><span class="co">#&gt;  557 :         stan::math::add(stan::math::multiply(a2, w3),</span></span>
<span><span class="co">#&gt;  558 :           stan::math::rep_matrix(stan::math::transpose(b3), n)),</span></span>
<span><span class="co">#&gt;  559 :         "assigning variable z3");</span></span>
<span><span class="co">#&gt;  560 :       current_statement__ = 39;</span></span>
<span><span class="co">#&gt;  561 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  562 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(3)),</span></span>
<span><span class="co">#&gt;  563 :             1)) {</span></span>
<span><span class="co">#&gt;  564 :         current_statement__ = 38;</span></span>
<span><span class="co">#&gt;  565 :         stan::model::assign(a3, stan::math::tanh(z3), "assigning variable a3");</span></span>
<span><span class="co">#&gt;  566 :       } else {</span></span>
<span><span class="co">#&gt;  567 :         current_statement__ = 37;</span></span>
<span><span class="co">#&gt;  568 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  569 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(3)),</span></span>
<span><span class="co">#&gt;  570 :               2)) {</span></span>
<span><span class="co">#&gt;  571 :           current_statement__ = 36;</span></span>
<span><span class="co">#&gt;  572 :           stan::model::assign(a3, stan::math::inv_logit(z3),</span></span>
<span><span class="co">#&gt;  573 :             "assigning variable a3");</span></span>
<span><span class="co">#&gt;  574 :         } else {</span></span>
<span><span class="co">#&gt;  575 :           current_statement__ = 35;</span></span>
<span><span class="co">#&gt;  576 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  577 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  578 :                   stan::model::index_uni(3)), 3)) {</span></span>
<span><span class="co">#&gt;  579 :             current_statement__ = 34;</span></span>
<span><span class="co">#&gt;  580 :             stan::model::assign(a3,</span></span>
<span><span class="co">#&gt;  581 :               stan::math::log(stan::math::add(1, stan::math::exp(z3))),</span></span>
<span><span class="co">#&gt;  582 :               "assigning variable a3");</span></span>
<span><span class="co">#&gt;  583 :           } else {</span></span>
<span><span class="co">#&gt;  584 :             current_statement__ = 33;</span></span>
<span><span class="co">#&gt;  585 :             stan::model::assign(a3,</span></span>
<span><span class="co">#&gt;  586 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  587 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  588 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  589 :                     stan::model::index_uni(3))), z3), "assigning variable a3");</span></span>
<span><span class="co">#&gt;  590 :           }</span></span>
<span><span class="co">#&gt;  591 :         }</span></span>
<span><span class="co">#&gt;  592 :       }</span></span>
<span><span class="co">#&gt;  593 :       current_statement__ = 40;</span></span>
<span><span class="co">#&gt;  594 :       stan::model::assign(y_hat,</span></span>
<span><span class="co">#&gt;  595 :         stan::math::add(stan::math::multiply(a3, w_out),</span></span>
<span><span class="co">#&gt;  596 :           stan::math::rep_matrix(stan::math::transpose(b_out), n)),</span></span>
<span><span class="co">#&gt;  597 :         "assigning variable y_hat");</span></span>
<span><span class="co">#&gt;  598 :       {</span></span>
<span><span class="co">#&gt;  599 :         current_statement__ = 41;</span></span>
<span><span class="co">#&gt;  600 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(</span></span>
<span><span class="co">#&gt;  601 :                          stan::math::to_vector(w1), 0, 1));</span></span>
<span><span class="co">#&gt;  602 :         current_statement__ = 42;</span></span>
<span><span class="co">#&gt;  603 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(b1, 0, 1));</span></span>
<span><span class="co">#&gt;  604 :         current_statement__ = 43;</span></span>
<span><span class="co">#&gt;  605 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(</span></span>
<span><span class="co">#&gt;  606 :                          stan::math::to_vector(w2), 0, 1));</span></span>
<span><span class="co">#&gt;  607 :         current_statement__ = 44;</span></span>
<span><span class="co">#&gt;  608 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(b2, 0, 1));</span></span>
<span><span class="co">#&gt;  609 :         current_statement__ = 45;</span></span>
<span><span class="co">#&gt;  610 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(</span></span>
<span><span class="co">#&gt;  611 :                          stan::math::to_vector(w3), 0, 1));</span></span>
<span><span class="co">#&gt;  612 :         current_statement__ = 46;</span></span>
<span><span class="co">#&gt;  613 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(b3, 0, 1));</span></span>
<span><span class="co">#&gt;  614 :         current_statement__ = 47;</span></span>
<span><span class="co">#&gt;  615 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(</span></span>
<span><span class="co">#&gt;  616 :                          stan::math::to_vector(w_out), 0, 1));</span></span>
<span><span class="co">#&gt;  617 :         current_statement__ = 48;</span></span>
<span><span class="co">#&gt;  618 :         lp_accum__.add(stan::math::normal_lpdf&lt;propto__&gt;(b_out, 0, 1));</span></span>
<span><span class="co">#&gt;  619 :         current_statement__ = 50;</span></span>
<span><span class="co">#&gt;  620 :         for (int i = 1; i &lt;= n; ++i) {</span></span>
<span><span class="co">#&gt;  621 :           current_statement__ = 49;</span></span>
<span><span class="co">#&gt;  622 :           lp_accum__.add(stan::math::categorical_logit_lpmf&lt;propto__&gt;(</span></span>
<span><span class="co">#&gt;  623 :                            stan::model::rvalue(y, "y",</span></span>
<span><span class="co">#&gt;  624 :                              stan::model::index_uni(i)),</span></span>
<span><span class="co">#&gt;  625 :                            stan::math::transpose(</span></span>
<span><span class="co">#&gt;  626 :                              stan::model::rvalue(y_hat, "y_hat",</span></span>
<span><span class="co">#&gt;  627 :                                stan::model::index_uni(i)))));</span></span>
<span><span class="co">#&gt;  628 :         }</span></span>
<span><span class="co">#&gt;  629 :       }</span></span>
<span><span class="co">#&gt;  630 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  631 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  632 :     }</span></span>
<span><span class="co">#&gt;  633 :     lp_accum__.add(lp__);</span></span>
<span><span class="co">#&gt;  634 :     return lp_accum__.sum();</span></span>
<span><span class="co">#&gt;  635 :   }</span></span>
<span><span class="co">#&gt;  636 :   template &lt;typename RNG, typename VecR, typename VecI, typename VecVar,</span></span>
<span><span class="co">#&gt;  637 :             stan::require_vector_like_vt&lt;std::is_floating_point,</span></span>
<span><span class="co">#&gt;  638 :             VecR&gt;* = nullptr, stan::require_vector_like_vt&lt;std::is_integral,</span></span>
<span><span class="co">#&gt;  639 :             VecI&gt;* = nullptr, stan::require_vector_vt&lt;std::is_floating_point,</span></span>
<span><span class="co">#&gt;  640 :             VecVar&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  641 :   inline void</span></span>
<span><span class="co">#&gt;  642 :   write_array_impl(RNG&amp; base_rng__, VecR&amp; params_r__, VecI&amp; params_i__,</span></span>
<span><span class="co">#&gt;  643 :                    VecVar&amp; vars__, const bool</span></span>
<span><span class="co">#&gt;  644 :                    emit_transformed_parameters__ = true, const bool</span></span>
<span><span class="co">#&gt;  645 :                    emit_generated_quantities__ = true, std::ostream*</span></span>
<span><span class="co">#&gt;  646 :                    pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  647 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  648 :     stan::io::deserializer&lt;local_scalar_t__&gt; in__(params_r__, params_i__);</span></span>
<span><span class="co">#&gt;  649 :     stan::io::serializer&lt;local_scalar_t__&gt; out__(vars__);</span></span>
<span><span class="co">#&gt;  650 :     static constexpr bool propto__ = true;</span></span>
<span><span class="co">#&gt;  651 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  652 :     (void) propto__;</span></span>
<span><span class="co">#&gt;  653 :     double lp__ = 0.0;</span></span>
<span><span class="co">#&gt;  654 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  655 :     (void) lp__;</span></span>
<span><span class="co">#&gt;  656 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  657 :     stan::math::accumulator&lt;double&gt; lp_accum__;</span></span>
<span><span class="co">#&gt;  658 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  659 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  660 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  661 :     constexpr bool jacobian__ = false;</span></span>
<span><span class="co">#&gt;  662 :     static constexpr const char* function__ =</span></span>
<span><span class="co">#&gt;  663 :       "model1d3652edf162__namespace::write_array";</span></span>
<span><span class="co">#&gt;  664 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  665 :     (void) function__;</span></span>
<span><span class="co">#&gt;  666 :     try {</span></span>
<span><span class="co">#&gt;  667 :       Eigen::Matrix&lt;double,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  668 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(m, w1_2dim__,</span></span>
<span><span class="co">#&gt;  669 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  670 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  671 :       w1 = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(m,</span></span>
<span><span class="co">#&gt;  672 :              w1_2dim__);</span></span>
<span><span class="co">#&gt;  673 :       Eigen::Matrix&lt;double,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  674 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(b1_1dim__,</span></span>
<span><span class="co">#&gt;  675 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  676 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  677 :       b1 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  678 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b1_1dim__);</span></span>
<span><span class="co">#&gt;  679 :       Eigen::Matrix&lt;double,-1,-1&gt; w2 =</span></span>
<span><span class="co">#&gt;  680 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(w2_1dim__, w2_2dim__,</span></span>
<span><span class="co">#&gt;  681 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  682 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  683 :       w2 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  684 :              Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w2_1dim__, w2_2dim__);</span></span>
<span><span class="co">#&gt;  685 :       Eigen::Matrix&lt;double,-1,1&gt; b2 =</span></span>
<span><span class="co">#&gt;  686 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(b2_1dim__,</span></span>
<span><span class="co">#&gt;  687 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  688 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  689 :       b2 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  690 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b2_1dim__);</span></span>
<span><span class="co">#&gt;  691 :       Eigen::Matrix&lt;double,-1,-1&gt; w3 =</span></span>
<span><span class="co">#&gt;  692 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(w3_1dim__, w3_2dim__,</span></span>
<span><span class="co">#&gt;  693 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  694 :       current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  695 :       w3 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  696 :              Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w3_1dim__, w3_2dim__);</span></span>
<span><span class="co">#&gt;  697 :       Eigen::Matrix&lt;double,-1,1&gt; b3 =</span></span>
<span><span class="co">#&gt;  698 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(b3_1dim__,</span></span>
<span><span class="co">#&gt;  699 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  700 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  701 :       b3 = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  702 :              Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b3_1dim__);</span></span>
<span><span class="co">#&gt;  703 :       Eigen::Matrix&lt;double,-1,-1&gt; w_out =</span></span>
<span><span class="co">#&gt;  704 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(w_out_1dim__, K,</span></span>
<span><span class="co">#&gt;  705 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  706 :       current_statement__ = 7;</span></span>
<span><span class="co">#&gt;  707 :       w_out = in__.template read&lt;</span></span>
<span><span class="co">#&gt;  708 :                 Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w_out_1dim__, K);</span></span>
<span><span class="co">#&gt;  709 :       Eigen::Matrix&lt;double,-1,1&gt; b_out =</span></span>
<span><span class="co">#&gt;  710 :         Eigen::Matrix&lt;double,-1,1&gt;::Constant(K,</span></span>
<span><span class="co">#&gt;  711 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  712 :       current_statement__ = 8;</span></span>
<span><span class="co">#&gt;  713 :       b_out = in__.template read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(K);</span></span>
<span><span class="co">#&gt;  714 :       Eigen::Matrix&lt;double,-1,-1&gt; z1 =</span></span>
<span><span class="co">#&gt;  715 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, z1_2dim__,</span></span>
<span><span class="co">#&gt;  716 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  717 :       Eigen::Matrix&lt;double,-1,-1&gt; a1 =</span></span>
<span><span class="co">#&gt;  718 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, a1_2dim__,</span></span>
<span><span class="co">#&gt;  719 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  720 :       Eigen::Matrix&lt;double,-1,-1&gt; z2 =</span></span>
<span><span class="co">#&gt;  721 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, z2_2dim__,</span></span>
<span><span class="co">#&gt;  722 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  723 :       Eigen::Matrix&lt;double,-1,-1&gt; a2 =</span></span>
<span><span class="co">#&gt;  724 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, a2_2dim__,</span></span>
<span><span class="co">#&gt;  725 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  726 :       Eigen::Matrix&lt;double,-1,-1&gt; z3 =</span></span>
<span><span class="co">#&gt;  727 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, z3_2dim__,</span></span>
<span><span class="co">#&gt;  728 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  729 :       Eigen::Matrix&lt;double,-1,-1&gt; a3 =</span></span>
<span><span class="co">#&gt;  730 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, a3_2dim__,</span></span>
<span><span class="co">#&gt;  731 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  732 :       Eigen::Matrix&lt;double,-1,-1&gt; y_hat =</span></span>
<span><span class="co">#&gt;  733 :         Eigen::Matrix&lt;double,-1,-1&gt;::Constant(n, K,</span></span>
<span><span class="co">#&gt;  734 :           std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  735 :       out__.write(w1);</span></span>
<span><span class="co">#&gt;  736 :       out__.write(b1);</span></span>
<span><span class="co">#&gt;  737 :       out__.write(w2);</span></span>
<span><span class="co">#&gt;  738 :       out__.write(b2);</span></span>
<span><span class="co">#&gt;  739 :       out__.write(w3);</span></span>
<span><span class="co">#&gt;  740 :       out__.write(b3);</span></span>
<span><span class="co">#&gt;  741 :       out__.write(w_out);</span></span>
<span><span class="co">#&gt;  742 :       out__.write(b_out);</span></span>
<span><span class="co">#&gt;  743 :       if (stan::math::logical_negation(</span></span>
<span><span class="co">#&gt;  744 :             (stan::math::primitive_value(emit_transformed_parameters__) ||</span></span>
<span><span class="co">#&gt;  745 :             stan::math::primitive_value(emit_generated_quantities__)))) {</span></span>
<span><span class="co">#&gt;  746 :         return ;</span></span>
<span><span class="co">#&gt;  747 :       }</span></span>
<span><span class="co">#&gt;  748 :       current_statement__ = 16;</span></span>
<span><span class="co">#&gt;  749 :       stan::model::assign(z1,</span></span>
<span><span class="co">#&gt;  750 :         stan::math::add(stan::math::multiply(X, w1),</span></span>
<span><span class="co">#&gt;  751 :           stan::math::rep_matrix(stan::math::transpose(b1), n)),</span></span>
<span><span class="co">#&gt;  752 :         "assigning variable z1");</span></span>
<span><span class="co">#&gt;  753 :       current_statement__ = 23;</span></span>
<span><span class="co">#&gt;  754 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  755 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(1)),</span></span>
<span><span class="co">#&gt;  756 :             1)) {</span></span>
<span><span class="co">#&gt;  757 :         current_statement__ = 22;</span></span>
<span><span class="co">#&gt;  758 :         stan::model::assign(a1, stan::math::tanh(z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  759 :       } else {</span></span>
<span><span class="co">#&gt;  760 :         current_statement__ = 21;</span></span>
<span><span class="co">#&gt;  761 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  762 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(1)),</span></span>
<span><span class="co">#&gt;  763 :               2)) {</span></span>
<span><span class="co">#&gt;  764 :           current_statement__ = 20;</span></span>
<span><span class="co">#&gt;  765 :           stan::model::assign(a1, stan::math::inv_logit(z1),</span></span>
<span><span class="co">#&gt;  766 :             "assigning variable a1");</span></span>
<span><span class="co">#&gt;  767 :         } else {</span></span>
<span><span class="co">#&gt;  768 :           current_statement__ = 19;</span></span>
<span><span class="co">#&gt;  769 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  770 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  771 :                   stan::model::index_uni(1)), 3)) {</span></span>
<span><span class="co">#&gt;  772 :             current_statement__ = 18;</span></span>
<span><span class="co">#&gt;  773 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  774 :               stan::math::log(stan::math::add(1, stan::math::exp(z1))),</span></span>
<span><span class="co">#&gt;  775 :               "assigning variable a1");</span></span>
<span><span class="co">#&gt;  776 :           } else {</span></span>
<span><span class="co">#&gt;  777 :             current_statement__ = 17;</span></span>
<span><span class="co">#&gt;  778 :             stan::model::assign(a1,</span></span>
<span><span class="co">#&gt;  779 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  780 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  781 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  782 :                     stan::model::index_uni(1))), z1), "assigning variable a1");</span></span>
<span><span class="co">#&gt;  783 :           }</span></span>
<span><span class="co">#&gt;  784 :         }</span></span>
<span><span class="co">#&gt;  785 :       }</span></span>
<span><span class="co">#&gt;  786 :       current_statement__ = 24;</span></span>
<span><span class="co">#&gt;  787 :       stan::model::assign(z2,</span></span>
<span><span class="co">#&gt;  788 :         stan::math::add(stan::math::multiply(a1, w2),</span></span>
<span><span class="co">#&gt;  789 :           stan::math::rep_matrix(stan::math::transpose(b2), n)),</span></span>
<span><span class="co">#&gt;  790 :         "assigning variable z2");</span></span>
<span><span class="co">#&gt;  791 :       current_statement__ = 31;</span></span>
<span><span class="co">#&gt;  792 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  793 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(2)),</span></span>
<span><span class="co">#&gt;  794 :             1)) {</span></span>
<span><span class="co">#&gt;  795 :         current_statement__ = 30;</span></span>
<span><span class="co">#&gt;  796 :         stan::model::assign(a2, stan::math::tanh(z2), "assigning variable a2");</span></span>
<span><span class="co">#&gt;  797 :       } else {</span></span>
<span><span class="co">#&gt;  798 :         current_statement__ = 29;</span></span>
<span><span class="co">#&gt;  799 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  800 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(2)),</span></span>
<span><span class="co">#&gt;  801 :               2)) {</span></span>
<span><span class="co">#&gt;  802 :           current_statement__ = 28;</span></span>
<span><span class="co">#&gt;  803 :           stan::model::assign(a2, stan::math::inv_logit(z2),</span></span>
<span><span class="co">#&gt;  804 :             "assigning variable a2");</span></span>
<span><span class="co">#&gt;  805 :         } else {</span></span>
<span><span class="co">#&gt;  806 :           current_statement__ = 27;</span></span>
<span><span class="co">#&gt;  807 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  808 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  809 :                   stan::model::index_uni(2)), 3)) {</span></span>
<span><span class="co">#&gt;  810 :             current_statement__ = 26;</span></span>
<span><span class="co">#&gt;  811 :             stan::model::assign(a2,</span></span>
<span><span class="co">#&gt;  812 :               stan::math::log(stan::math::add(1, stan::math::exp(z2))),</span></span>
<span><span class="co">#&gt;  813 :               "assigning variable a2");</span></span>
<span><span class="co">#&gt;  814 :           } else {</span></span>
<span><span class="co">#&gt;  815 :             current_statement__ = 25;</span></span>
<span><span class="co">#&gt;  816 :             stan::model::assign(a2,</span></span>
<span><span class="co">#&gt;  817 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  818 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  819 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  820 :                     stan::model::index_uni(2))), z2), "assigning variable a2");</span></span>
<span><span class="co">#&gt;  821 :           }</span></span>
<span><span class="co">#&gt;  822 :         }</span></span>
<span><span class="co">#&gt;  823 :       }</span></span>
<span><span class="co">#&gt;  824 :       current_statement__ = 32;</span></span>
<span><span class="co">#&gt;  825 :       stan::model::assign(z3,</span></span>
<span><span class="co">#&gt;  826 :         stan::math::add(stan::math::multiply(a2, w3),</span></span>
<span><span class="co">#&gt;  827 :           stan::math::rep_matrix(stan::math::transpose(b3), n)),</span></span>
<span><span class="co">#&gt;  828 :         "assigning variable z3");</span></span>
<span><span class="co">#&gt;  829 :       current_statement__ = 39;</span></span>
<span><span class="co">#&gt;  830 :       if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  831 :             stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(3)),</span></span>
<span><span class="co">#&gt;  832 :             1)) {</span></span>
<span><span class="co">#&gt;  833 :         current_statement__ = 38;</span></span>
<span><span class="co">#&gt;  834 :         stan::model::assign(a3, stan::math::tanh(z3), "assigning variable a3");</span></span>
<span><span class="co">#&gt;  835 :       } else {</span></span>
<span><span class="co">#&gt;  836 :         current_statement__ = 37;</span></span>
<span><span class="co">#&gt;  837 :         if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  838 :               stan::model::rvalue(act_fn, "act_fn", stan::model::index_uni(3)),</span></span>
<span><span class="co">#&gt;  839 :               2)) {</span></span>
<span><span class="co">#&gt;  840 :           current_statement__ = 36;</span></span>
<span><span class="co">#&gt;  841 :           stan::model::assign(a3, stan::math::inv_logit(z3),</span></span>
<span><span class="co">#&gt;  842 :             "assigning variable a3");</span></span>
<span><span class="co">#&gt;  843 :         } else {</span></span>
<span><span class="co">#&gt;  844 :           current_statement__ = 35;</span></span>
<span><span class="co">#&gt;  845 :           if (stan::math::logical_eq(</span></span>
<span><span class="co">#&gt;  846 :                 stan::model::rvalue(act_fn, "act_fn",</span></span>
<span><span class="co">#&gt;  847 :                   stan::model::index_uni(3)), 3)) {</span></span>
<span><span class="co">#&gt;  848 :             current_statement__ = 34;</span></span>
<span><span class="co">#&gt;  849 :             stan::model::assign(a3,</span></span>
<span><span class="co">#&gt;  850 :               stan::math::log(stan::math::add(1, stan::math::exp(z3))),</span></span>
<span><span class="co">#&gt;  851 :               "assigning variable a3");</span></span>
<span><span class="co">#&gt;  852 :           } else {</span></span>
<span><span class="co">#&gt;  853 :             current_statement__ = 33;</span></span>
<span><span class="co">#&gt;  854 :             stan::model::assign(a3,</span></span>
<span><span class="co">#&gt;  855 :               stan::math::fmax(</span></span>
<span><span class="co">#&gt;  856 :                 stan::math::rep_matrix(0, n,</span></span>
<span><span class="co">#&gt;  857 :                   stan::model::rvalue(nodes, "nodes",</span></span>
<span><span class="co">#&gt;  858 :                     stan::model::index_uni(3))), z3), "assigning variable a3");</span></span>
<span><span class="co">#&gt;  859 :           }</span></span>
<span><span class="co">#&gt;  860 :         }</span></span>
<span><span class="co">#&gt;  861 :       }</span></span>
<span><span class="co">#&gt;  862 :       current_statement__ = 40;</span></span>
<span><span class="co">#&gt;  863 :       stan::model::assign(y_hat,</span></span>
<span><span class="co">#&gt;  864 :         stan::math::add(stan::math::multiply(a3, w_out),</span></span>
<span><span class="co">#&gt;  865 :           stan::math::rep_matrix(stan::math::transpose(b_out), n)),</span></span>
<span><span class="co">#&gt;  866 :         "assigning variable y_hat");</span></span>
<span><span class="co">#&gt;  867 :       if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt;  868 :         out__.write(z1);</span></span>
<span><span class="co">#&gt;  869 :         out__.write(a1);</span></span>
<span><span class="co">#&gt;  870 :         out__.write(z2);</span></span>
<span><span class="co">#&gt;  871 :         out__.write(a2);</span></span>
<span><span class="co">#&gt;  872 :         out__.write(z3);</span></span>
<span><span class="co">#&gt;  873 :         out__.write(a3);</span></span>
<span><span class="co">#&gt;  874 :         out__.write(y_hat);</span></span>
<span><span class="co">#&gt;  875 :       }</span></span>
<span><span class="co">#&gt;  876 :       if (stan::math::logical_negation(emit_generated_quantities__)) {</span></span>
<span><span class="co">#&gt;  877 :         return ;</span></span>
<span><span class="co">#&gt;  878 :       }</span></span>
<span><span class="co">#&gt;  879 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  880 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  881 :     }</span></span>
<span><span class="co">#&gt;  882 :   }</span></span>
<span><span class="co">#&gt;  883 :   template &lt;typename VecVar, typename VecI,</span></span>
<span><span class="co">#&gt;  884 :             stan::require_vector_t&lt;VecVar&gt;* = nullptr,</span></span>
<span><span class="co">#&gt;  885 :             stan::require_vector_like_vt&lt;std::is_integral, VecI&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  886 :   inline void</span></span>
<span><span class="co">#&gt;  887 :   unconstrain_array_impl(const VecVar&amp; params_r__, const VecI&amp; params_i__,</span></span>
<span><span class="co">#&gt;  888 :                          VecVar&amp; vars__, std::ostream* pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  889 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  890 :     stan::io::deserializer&lt;local_scalar_t__&gt; in__(params_r__, params_i__);</span></span>
<span><span class="co">#&gt;  891 :     stan::io::serializer&lt;local_scalar_t__&gt; out__(vars__);</span></span>
<span><span class="co">#&gt;  892 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  893 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  894 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  895 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  896 :     try {</span></span>
<span><span class="co">#&gt;  897 :       int pos__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt;  898 :       pos__ = 1;</span></span>
<span><span class="co">#&gt;  899 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt;  900 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(m, w1_2dim__,</span></span>
<span><span class="co">#&gt;  901 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  902 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  903 :       stan::model::assign(w1,</span></span>
<span><span class="co">#&gt;  904 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(m, w1_2dim__),</span></span>
<span><span class="co">#&gt;  905 :         "assigning variable w1");</span></span>
<span><span class="co">#&gt;  906 :       out__.write(w1);</span></span>
<span><span class="co">#&gt;  907 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt;  908 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b1_1dim__,</span></span>
<span><span class="co">#&gt;  909 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  910 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  911 :       stan::model::assign(b1,</span></span>
<span><span class="co">#&gt;  912 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b1_1dim__),</span></span>
<span><span class="co">#&gt;  913 :         "assigning variable b1");</span></span>
<span><span class="co">#&gt;  914 :       out__.write(b1);</span></span>
<span><span class="co">#&gt;  915 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w2 =</span></span>
<span><span class="co">#&gt;  916 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w2_1dim__, w2_2dim__,</span></span>
<span><span class="co">#&gt;  917 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  918 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  919 :       stan::model::assign(w2,</span></span>
<span><span class="co">#&gt;  920 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w2_1dim__,</span></span>
<span><span class="co">#&gt;  921 :           w2_2dim__), "assigning variable w2");</span></span>
<span><span class="co">#&gt;  922 :       out__.write(w2);</span></span>
<span><span class="co">#&gt;  923 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b2 =</span></span>
<span><span class="co">#&gt;  924 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b2_1dim__,</span></span>
<span><span class="co">#&gt;  925 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  926 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  927 :       stan::model::assign(b2,</span></span>
<span><span class="co">#&gt;  928 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b2_1dim__),</span></span>
<span><span class="co">#&gt;  929 :         "assigning variable b2");</span></span>
<span><span class="co">#&gt;  930 :       out__.write(b2);</span></span>
<span><span class="co">#&gt;  931 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w3 =</span></span>
<span><span class="co">#&gt;  932 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w3_1dim__, w3_2dim__,</span></span>
<span><span class="co">#&gt;  933 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  934 :       current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  935 :       stan::model::assign(w3,</span></span>
<span><span class="co">#&gt;  936 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w3_1dim__,</span></span>
<span><span class="co">#&gt;  937 :           w3_2dim__), "assigning variable w3");</span></span>
<span><span class="co">#&gt;  938 :       out__.write(w3);</span></span>
<span><span class="co">#&gt;  939 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b3 =</span></span>
<span><span class="co">#&gt;  940 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b3_1dim__,</span></span>
<span><span class="co">#&gt;  941 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  942 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  943 :       stan::model::assign(b3,</span></span>
<span><span class="co">#&gt;  944 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(b3_1dim__),</span></span>
<span><span class="co">#&gt;  945 :         "assigning variable b3");</span></span>
<span><span class="co">#&gt;  946 :       out__.write(b3);</span></span>
<span><span class="co">#&gt;  947 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w_out =</span></span>
<span><span class="co">#&gt;  948 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w_out_1dim__, K,</span></span>
<span><span class="co">#&gt;  949 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  950 :       current_statement__ = 7;</span></span>
<span><span class="co">#&gt;  951 :       stan::model::assign(w_out,</span></span>
<span><span class="co">#&gt;  952 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;&gt;(w_out_1dim__, K),</span></span>
<span><span class="co">#&gt;  953 :         "assigning variable w_out");</span></span>
<span><span class="co">#&gt;  954 :       out__.write(w_out);</span></span>
<span><span class="co">#&gt;  955 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b_out =</span></span>
<span><span class="co">#&gt;  956 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(K, DUMMY_VAR__);</span></span>
<span><span class="co">#&gt;  957 :       current_statement__ = 8;</span></span>
<span><span class="co">#&gt;  958 :       stan::model::assign(b_out,</span></span>
<span><span class="co">#&gt;  959 :         in__.read&lt;Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;&gt;(K),</span></span>
<span><span class="co">#&gt;  960 :         "assigning variable b_out");</span></span>
<span><span class="co">#&gt;  961 :       out__.write(b_out);</span></span>
<span><span class="co">#&gt;  962 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt;  963 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt;  964 :     }</span></span>
<span><span class="co">#&gt;  965 :   }</span></span>
<span><span class="co">#&gt;  966 :   template &lt;typename VecVar, stan::require_vector_t&lt;VecVar&gt;* = nullptr&gt;</span></span>
<span><span class="co">#&gt;  967 :   inline void</span></span>
<span><span class="co">#&gt;  968 :   transform_inits_impl(const stan::io::var_context&amp; context__, VecVar&amp;</span></span>
<span><span class="co">#&gt;  969 :                        vars__, std::ostream* pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt;  970 :     using local_scalar_t__ = double;</span></span>
<span><span class="co">#&gt;  971 :     stan::io::serializer&lt;local_scalar_t__&gt; out__(vars__);</span></span>
<span><span class="co">#&gt;  972 :     int current_statement__ = 0;</span></span>
<span><span class="co">#&gt;  973 :     local_scalar_t__ DUMMY_VAR__(std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt;  974 :     // suppress unused var warning</span></span>
<span><span class="co">#&gt;  975 :     (void) DUMMY_VAR__;</span></span>
<span><span class="co">#&gt;  976 :     try {</span></span>
<span><span class="co">#&gt;  977 :       current_statement__ = 1;</span></span>
<span><span class="co">#&gt;  978 :       context__.validate_dims("parameter initialization", "w1", "double",</span></span>
<span><span class="co">#&gt;  979 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(m),</span></span>
<span><span class="co">#&gt;  980 :           static_cast&lt;size_t&gt;(w1_2dim__)});</span></span>
<span><span class="co">#&gt;  981 :       current_statement__ = 2;</span></span>
<span><span class="co">#&gt;  982 :       context__.validate_dims("parameter initialization", "b1", "double",</span></span>
<span><span class="co">#&gt;  983 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b1_1dim__)});</span></span>
<span><span class="co">#&gt;  984 :       current_statement__ = 3;</span></span>
<span><span class="co">#&gt;  985 :       context__.validate_dims("parameter initialization", "w2", "double",</span></span>
<span><span class="co">#&gt;  986 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w2_1dim__),</span></span>
<span><span class="co">#&gt;  987 :           static_cast&lt;size_t&gt;(w2_2dim__)});</span></span>
<span><span class="co">#&gt;  988 :       current_statement__ = 4;</span></span>
<span><span class="co">#&gt;  989 :       context__.validate_dims("parameter initialization", "b2", "double",</span></span>
<span><span class="co">#&gt;  990 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b2_1dim__)});</span></span>
<span><span class="co">#&gt;  991 :       current_statement__ = 5;</span></span>
<span><span class="co">#&gt;  992 :       context__.validate_dims("parameter initialization", "w3", "double",</span></span>
<span><span class="co">#&gt;  993 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w3_1dim__),</span></span>
<span><span class="co">#&gt;  994 :           static_cast&lt;size_t&gt;(w3_2dim__)});</span></span>
<span><span class="co">#&gt;  995 :       current_statement__ = 6;</span></span>
<span><span class="co">#&gt;  996 :       context__.validate_dims("parameter initialization", "b3", "double",</span></span>
<span><span class="co">#&gt;  997 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b3_1dim__)});</span></span>
<span><span class="co">#&gt;  998 :       current_statement__ = 7;</span></span>
<span><span class="co">#&gt;  999 :       context__.validate_dims("parameter initialization", "w_out", "double",</span></span>
<span><span class="co">#&gt; 1000 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w_out_1dim__),</span></span>
<span><span class="co">#&gt; 1001 :           static_cast&lt;size_t&gt;(K)});</span></span>
<span><span class="co">#&gt; 1002 :       current_statement__ = 8;</span></span>
<span><span class="co">#&gt; 1003 :       context__.validate_dims("parameter initialization", "b_out", "double",</span></span>
<span><span class="co">#&gt; 1004 :         std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(K)});</span></span>
<span><span class="co">#&gt; 1005 :       int pos__ = std::numeric_limits&lt;int&gt;::min();</span></span>
<span><span class="co">#&gt; 1006 :       pos__ = 1;</span></span>
<span><span class="co">#&gt; 1007 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w1 =</span></span>
<span><span class="co">#&gt; 1008 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(m, w1_2dim__,</span></span>
<span><span class="co">#&gt; 1009 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt; 1010 :       {</span></span>
<span><span class="co">#&gt; 1011 :         std::vector&lt;local_scalar_t__&gt; w1_flat__;</span></span>
<span><span class="co">#&gt; 1012 :         current_statement__ = 1;</span></span>
<span><span class="co">#&gt; 1013 :         w1_flat__ = context__.vals_r("w1");</span></span>
<span><span class="co">#&gt; 1014 :         current_statement__ = 1;</span></span>
<span><span class="co">#&gt; 1015 :         pos__ = 1;</span></span>
<span><span class="co">#&gt; 1016 :         current_statement__ = 1;</span></span>
<span><span class="co">#&gt; 1017 :         for (int sym1__ = 1; sym1__ &lt;= w1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1018 :           current_statement__ = 1;</span></span>
<span><span class="co">#&gt; 1019 :           for (int sym2__ = 1; sym2__ &lt;= m; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1020 :             current_statement__ = 1;</span></span>
<span><span class="co">#&gt; 1021 :             stan::model::assign(w1, w1_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt; 1022 :               "assigning variable w1", stan::model::index_uni(sym2__),</span></span>
<span><span class="co">#&gt; 1023 :               stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt; 1024 :             current_statement__ = 1;</span></span>
<span><span class="co">#&gt; 1025 :             pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt; 1026 :           }</span></span>
<span><span class="co">#&gt; 1027 :         }</span></span>
<span><span class="co">#&gt; 1028 :       }</span></span>
<span><span class="co">#&gt; 1029 :       out__.write(w1);</span></span>
<span><span class="co">#&gt; 1030 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b1 =</span></span>
<span><span class="co">#&gt; 1031 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b1_1dim__,</span></span>
<span><span class="co">#&gt; 1032 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt; 1033 :       {</span></span>
<span><span class="co">#&gt; 1034 :         std::vector&lt;local_scalar_t__&gt; b1_flat__;</span></span>
<span><span class="co">#&gt; 1035 :         current_statement__ = 2;</span></span>
<span><span class="co">#&gt; 1036 :         b1_flat__ = context__.vals_r("b1");</span></span>
<span><span class="co">#&gt; 1037 :         current_statement__ = 2;</span></span>
<span><span class="co">#&gt; 1038 :         pos__ = 1;</span></span>
<span><span class="co">#&gt; 1039 :         current_statement__ = 2;</span></span>
<span><span class="co">#&gt; 1040 :         for (int sym1__ = 1; sym1__ &lt;= b1_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1041 :           current_statement__ = 2;</span></span>
<span><span class="co">#&gt; 1042 :           stan::model::assign(b1, b1_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt; 1043 :             "assigning variable b1", stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt; 1044 :           current_statement__ = 2;</span></span>
<span><span class="co">#&gt; 1045 :           pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt; 1046 :         }</span></span>
<span><span class="co">#&gt; 1047 :       }</span></span>
<span><span class="co">#&gt; 1048 :       out__.write(b1);</span></span>
<span><span class="co">#&gt; 1049 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w2 =</span></span>
<span><span class="co">#&gt; 1050 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w2_1dim__, w2_2dim__,</span></span>
<span><span class="co">#&gt; 1051 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt; 1052 :       {</span></span>
<span><span class="co">#&gt; 1053 :         std::vector&lt;local_scalar_t__&gt; w2_flat__;</span></span>
<span><span class="co">#&gt; 1054 :         current_statement__ = 3;</span></span>
<span><span class="co">#&gt; 1055 :         w2_flat__ = context__.vals_r("w2");</span></span>
<span><span class="co">#&gt; 1056 :         current_statement__ = 3;</span></span>
<span><span class="co">#&gt; 1057 :         pos__ = 1;</span></span>
<span><span class="co">#&gt; 1058 :         current_statement__ = 3;</span></span>
<span><span class="co">#&gt; 1059 :         for (int sym1__ = 1; sym1__ &lt;= w2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1060 :           current_statement__ = 3;</span></span>
<span><span class="co">#&gt; 1061 :           for (int sym2__ = 1; sym2__ &lt;= w2_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1062 :             current_statement__ = 3;</span></span>
<span><span class="co">#&gt; 1063 :             stan::model::assign(w2, w2_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt; 1064 :               "assigning variable w2", stan::model::index_uni(sym2__),</span></span>
<span><span class="co">#&gt; 1065 :               stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt; 1066 :             current_statement__ = 3;</span></span>
<span><span class="co">#&gt; 1067 :             pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt; 1068 :           }</span></span>
<span><span class="co">#&gt; 1069 :         }</span></span>
<span><span class="co">#&gt; 1070 :       }</span></span>
<span><span class="co">#&gt; 1071 :       out__.write(w2);</span></span>
<span><span class="co">#&gt; 1072 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b2 =</span></span>
<span><span class="co">#&gt; 1073 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b2_1dim__,</span></span>
<span><span class="co">#&gt; 1074 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt; 1075 :       {</span></span>
<span><span class="co">#&gt; 1076 :         std::vector&lt;local_scalar_t__&gt; b2_flat__;</span></span>
<span><span class="co">#&gt; 1077 :         current_statement__ = 4;</span></span>
<span><span class="co">#&gt; 1078 :         b2_flat__ = context__.vals_r("b2");</span></span>
<span><span class="co">#&gt; 1079 :         current_statement__ = 4;</span></span>
<span><span class="co">#&gt; 1080 :         pos__ = 1;</span></span>
<span><span class="co">#&gt; 1081 :         current_statement__ = 4;</span></span>
<span><span class="co">#&gt; 1082 :         for (int sym1__ = 1; sym1__ &lt;= b2_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1083 :           current_statement__ = 4;</span></span>
<span><span class="co">#&gt; 1084 :           stan::model::assign(b2, b2_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt; 1085 :             "assigning variable b2", stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt; 1086 :           current_statement__ = 4;</span></span>
<span><span class="co">#&gt; 1087 :           pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt; 1088 :         }</span></span>
<span><span class="co">#&gt; 1089 :       }</span></span>
<span><span class="co">#&gt; 1090 :       out__.write(b2);</span></span>
<span><span class="co">#&gt; 1091 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w3 =</span></span>
<span><span class="co">#&gt; 1092 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w3_1dim__, w3_2dim__,</span></span>
<span><span class="co">#&gt; 1093 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt; 1094 :       {</span></span>
<span><span class="co">#&gt; 1095 :         std::vector&lt;local_scalar_t__&gt; w3_flat__;</span></span>
<span><span class="co">#&gt; 1096 :         current_statement__ = 5;</span></span>
<span><span class="co">#&gt; 1097 :         w3_flat__ = context__.vals_r("w3");</span></span>
<span><span class="co">#&gt; 1098 :         current_statement__ = 5;</span></span>
<span><span class="co">#&gt; 1099 :         pos__ = 1;</span></span>
<span><span class="co">#&gt; 1100 :         current_statement__ = 5;</span></span>
<span><span class="co">#&gt; 1101 :         for (int sym1__ = 1; sym1__ &lt;= w3_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1102 :           current_statement__ = 5;</span></span>
<span><span class="co">#&gt; 1103 :           for (int sym2__ = 1; sym2__ &lt;= w3_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1104 :             current_statement__ = 5;</span></span>
<span><span class="co">#&gt; 1105 :             stan::model::assign(w3, w3_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt; 1106 :               "assigning variable w3", stan::model::index_uni(sym2__),</span></span>
<span><span class="co">#&gt; 1107 :               stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt; 1108 :             current_statement__ = 5;</span></span>
<span><span class="co">#&gt; 1109 :             pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt; 1110 :           }</span></span>
<span><span class="co">#&gt; 1111 :         }</span></span>
<span><span class="co">#&gt; 1112 :       }</span></span>
<span><span class="co">#&gt; 1113 :       out__.write(w3);</span></span>
<span><span class="co">#&gt; 1114 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b3 =</span></span>
<span><span class="co">#&gt; 1115 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(b3_1dim__,</span></span>
<span><span class="co">#&gt; 1116 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt; 1117 :       {</span></span>
<span><span class="co">#&gt; 1118 :         std::vector&lt;local_scalar_t__&gt; b3_flat__;</span></span>
<span><span class="co">#&gt; 1119 :         current_statement__ = 6;</span></span>
<span><span class="co">#&gt; 1120 :         b3_flat__ = context__.vals_r("b3");</span></span>
<span><span class="co">#&gt; 1121 :         current_statement__ = 6;</span></span>
<span><span class="co">#&gt; 1122 :         pos__ = 1;</span></span>
<span><span class="co">#&gt; 1123 :         current_statement__ = 6;</span></span>
<span><span class="co">#&gt; 1124 :         for (int sym1__ = 1; sym1__ &lt;= b3_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1125 :           current_statement__ = 6;</span></span>
<span><span class="co">#&gt; 1126 :           stan::model::assign(b3, b3_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt; 1127 :             "assigning variable b3", stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt; 1128 :           current_statement__ = 6;</span></span>
<span><span class="co">#&gt; 1129 :           pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt; 1130 :         }</span></span>
<span><span class="co">#&gt; 1131 :       }</span></span>
<span><span class="co">#&gt; 1132 :       out__.write(b3);</span></span>
<span><span class="co">#&gt; 1133 :       Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt; w_out =</span></span>
<span><span class="co">#&gt; 1134 :         Eigen::Matrix&lt;local_scalar_t__,-1,-1&gt;::Constant(w_out_1dim__, K,</span></span>
<span><span class="co">#&gt; 1135 :           DUMMY_VAR__);</span></span>
<span><span class="co">#&gt; 1136 :       {</span></span>
<span><span class="co">#&gt; 1137 :         std::vector&lt;local_scalar_t__&gt; w_out_flat__;</span></span>
<span><span class="co">#&gt; 1138 :         current_statement__ = 7;</span></span>
<span><span class="co">#&gt; 1139 :         w_out_flat__ = context__.vals_r("w_out");</span></span>
<span><span class="co">#&gt; 1140 :         current_statement__ = 7;</span></span>
<span><span class="co">#&gt; 1141 :         pos__ = 1;</span></span>
<span><span class="co">#&gt; 1142 :         current_statement__ = 7;</span></span>
<span><span class="co">#&gt; 1143 :         for (int sym1__ = 1; sym1__ &lt;= K; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1144 :           current_statement__ = 7;</span></span>
<span><span class="co">#&gt; 1145 :           for (int sym2__ = 1; sym2__ &lt;= w_out_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1146 :             current_statement__ = 7;</span></span>
<span><span class="co">#&gt; 1147 :             stan::model::assign(w_out, w_out_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt; 1148 :               "assigning variable w_out", stan::model::index_uni(sym2__),</span></span>
<span><span class="co">#&gt; 1149 :               stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt; 1150 :             current_statement__ = 7;</span></span>
<span><span class="co">#&gt; 1151 :             pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt; 1152 :           }</span></span>
<span><span class="co">#&gt; 1153 :         }</span></span>
<span><span class="co">#&gt; 1154 :       }</span></span>
<span><span class="co">#&gt; 1155 :       out__.write(w_out);</span></span>
<span><span class="co">#&gt; 1156 :       Eigen::Matrix&lt;local_scalar_t__,-1,1&gt; b_out =</span></span>
<span><span class="co">#&gt; 1157 :         Eigen::Matrix&lt;local_scalar_t__,-1,1&gt;::Constant(K, DUMMY_VAR__);</span></span>
<span><span class="co">#&gt; 1158 :       {</span></span>
<span><span class="co">#&gt; 1159 :         std::vector&lt;local_scalar_t__&gt; b_out_flat__;</span></span>
<span><span class="co">#&gt; 1160 :         current_statement__ = 8;</span></span>
<span><span class="co">#&gt; 1161 :         b_out_flat__ = context__.vals_r("b_out");</span></span>
<span><span class="co">#&gt; 1162 :         current_statement__ = 8;</span></span>
<span><span class="co">#&gt; 1163 :         pos__ = 1;</span></span>
<span><span class="co">#&gt; 1164 :         current_statement__ = 8;</span></span>
<span><span class="co">#&gt; 1165 :         for (int sym1__ = 1; sym1__ &lt;= K; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1166 :           current_statement__ = 8;</span></span>
<span><span class="co">#&gt; 1167 :           stan::model::assign(b_out, b_out_flat__[(pos__ - 1)],</span></span>
<span><span class="co">#&gt; 1168 :             "assigning variable b_out", stan::model::index_uni(sym1__));</span></span>
<span><span class="co">#&gt; 1169 :           current_statement__ = 8;</span></span>
<span><span class="co">#&gt; 1170 :           pos__ = (pos__ + 1);</span></span>
<span><span class="co">#&gt; 1171 :         }</span></span>
<span><span class="co">#&gt; 1172 :       }</span></span>
<span><span class="co">#&gt; 1173 :       out__.write(b_out);</span></span>
<span><span class="co">#&gt; 1174 :     } catch (const std::exception&amp; e) {</span></span>
<span><span class="co">#&gt; 1175 :       stan::lang::rethrow_located(e, locations_array__[current_statement__]);</span></span>
<span><span class="co">#&gt; 1176 :     }</span></span>
<span><span class="co">#&gt; 1177 :   }</span></span>
<span><span class="co">#&gt; 1178 :   inline void</span></span>
<span><span class="co">#&gt; 1179 :   get_param_names(std::vector&lt;std::string&gt;&amp; names__, const bool</span></span>
<span><span class="co">#&gt; 1180 :                   emit_transformed_parameters__ = true, const bool</span></span>
<span><span class="co">#&gt; 1181 :                   emit_generated_quantities__ = true) const {</span></span>
<span><span class="co">#&gt; 1182 :     names__ = std::vector&lt;std::string&gt;{"w1", "b1", "w2", "b2", "w3", "b3",</span></span>
<span><span class="co">#&gt; 1183 :                 "w_out", "b_out"};</span></span>
<span><span class="co">#&gt; 1184 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt; 1185 :       std::vector&lt;std::string&gt;</span></span>
<span><span class="co">#&gt; 1186 :         temp{"z1", "a1", "z2", "a2", "z3", "a3", "y_hat"};</span></span>
<span><span class="co">#&gt; 1187 :       names__.reserve(names__.size() + temp.size());</span></span>
<span><span class="co">#&gt; 1188 :       names__.insert(names__.end(), temp.begin(), temp.end());</span></span>
<span><span class="co">#&gt; 1189 :     }</span></span>
<span><span class="co">#&gt; 1190 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt; 1191 :   }</span></span>
<span><span class="co">#&gt; 1192 :   inline void</span></span>
<span><span class="co">#&gt; 1193 :   get_dims(std::vector&lt;std::vector&lt;size_t&gt;&gt;&amp; dimss__, const bool</span></span>
<span><span class="co">#&gt; 1194 :            emit_transformed_parameters__ = true, const bool</span></span>
<span><span class="co">#&gt; 1195 :            emit_generated_quantities__ = true) const {</span></span>
<span><span class="co">#&gt; 1196 :     dimss__ = std::vector&lt;std::vector&lt;size_t&gt;&gt;{std::vector&lt;size_t&gt;{static_cast&lt;</span></span>
<span><span class="co">#&gt; 1197 :                                                                     size_t&gt;(m),</span></span>
<span><span class="co">#&gt; 1198 :                                                  static_cast&lt;size_t&gt;(</span></span>
<span><span class="co">#&gt; 1199 :                                                    w1_2dim__)},</span></span>
<span><span class="co">#&gt; 1200 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b1_1dim__)},</span></span>
<span><span class="co">#&gt; 1201 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w2_1dim__),</span></span>
<span><span class="co">#&gt; 1202 :                   static_cast&lt;size_t&gt;(w2_2dim__)},</span></span>
<span><span class="co">#&gt; 1203 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b2_1dim__)},</span></span>
<span><span class="co">#&gt; 1204 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w3_1dim__),</span></span>
<span><span class="co">#&gt; 1205 :                   static_cast&lt;size_t&gt;(w3_2dim__)},</span></span>
<span><span class="co">#&gt; 1206 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(b3_1dim__)},</span></span>
<span><span class="co">#&gt; 1207 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(w_out_1dim__),</span></span>
<span><span class="co">#&gt; 1208 :                   static_cast&lt;size_t&gt;(K)},</span></span>
<span><span class="co">#&gt; 1209 :                 std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(K)}};</span></span>
<span><span class="co">#&gt; 1210 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt; 1211 :       std::vector&lt;std::vector&lt;size_t&gt;&gt;</span></span>
<span><span class="co">#&gt; 1212 :         temp{std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt; 1213 :                static_cast&lt;size_t&gt;(z1_2dim__)},</span></span>
<span><span class="co">#&gt; 1214 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt; 1215 :                static_cast&lt;size_t&gt;(a1_2dim__)},</span></span>
<span><span class="co">#&gt; 1216 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt; 1217 :                static_cast&lt;size_t&gt;(z2_2dim__)},</span></span>
<span><span class="co">#&gt; 1218 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt; 1219 :                static_cast&lt;size_t&gt;(a2_2dim__)},</span></span>
<span><span class="co">#&gt; 1220 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt; 1221 :                static_cast&lt;size_t&gt;(z3_2dim__)},</span></span>
<span><span class="co">#&gt; 1222 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt; 1223 :                static_cast&lt;size_t&gt;(a3_2dim__)},</span></span>
<span><span class="co">#&gt; 1224 :              std::vector&lt;size_t&gt;{static_cast&lt;size_t&gt;(n),</span></span>
<span><span class="co">#&gt; 1225 :                static_cast&lt;size_t&gt;(K)}};</span></span>
<span><span class="co">#&gt; 1226 :       dimss__.reserve(dimss__.size() + temp.size());</span></span>
<span><span class="co">#&gt; 1227 :       dimss__.insert(dimss__.end(), temp.begin(), temp.end());</span></span>
<span><span class="co">#&gt; 1228 :     }</span></span>
<span><span class="co">#&gt; 1229 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt; 1230 :   }</span></span>
<span><span class="co">#&gt; 1231 :   inline void</span></span>
<span><span class="co">#&gt; 1232 :   constrained_param_names(std::vector&lt;std::string&gt;&amp; param_names__, bool</span></span>
<span><span class="co">#&gt; 1233 :                           emit_transformed_parameters__ = true, bool</span></span>
<span><span class="co">#&gt; 1234 :                           emit_generated_quantities__ = true) const final {</span></span>
<span><span class="co">#&gt; 1235 :     for (int sym1__ = 1; sym1__ &lt;= w1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1236 :       for (int sym2__ = 1; sym2__ &lt;= m; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1237 :         param_names__.emplace_back(std::string() + "w1" + '.' +</span></span>
<span><span class="co">#&gt; 1238 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1239 :       }</span></span>
<span><span class="co">#&gt; 1240 :     }</span></span>
<span><span class="co">#&gt; 1241 :     for (int sym1__ = 1; sym1__ &lt;= b1_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1242 :       param_names__.emplace_back(std::string() + "b1" + '.' +</span></span>
<span><span class="co">#&gt; 1243 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1244 :     }</span></span>
<span><span class="co">#&gt; 1245 :     for (int sym1__ = 1; sym1__ &lt;= w2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1246 :       for (int sym2__ = 1; sym2__ &lt;= w2_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1247 :         param_names__.emplace_back(std::string() + "w2" + '.' +</span></span>
<span><span class="co">#&gt; 1248 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1249 :       }</span></span>
<span><span class="co">#&gt; 1250 :     }</span></span>
<span><span class="co">#&gt; 1251 :     for (int sym1__ = 1; sym1__ &lt;= b2_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1252 :       param_names__.emplace_back(std::string() + "b2" + '.' +</span></span>
<span><span class="co">#&gt; 1253 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1254 :     }</span></span>
<span><span class="co">#&gt; 1255 :     for (int sym1__ = 1; sym1__ &lt;= w3_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1256 :       for (int sym2__ = 1; sym2__ &lt;= w3_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1257 :         param_names__.emplace_back(std::string() + "w3" + '.' +</span></span>
<span><span class="co">#&gt; 1258 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1259 :       }</span></span>
<span><span class="co">#&gt; 1260 :     }</span></span>
<span><span class="co">#&gt; 1261 :     for (int sym1__ = 1; sym1__ &lt;= b3_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1262 :       param_names__.emplace_back(std::string() + "b3" + '.' +</span></span>
<span><span class="co">#&gt; 1263 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1264 :     }</span></span>
<span><span class="co">#&gt; 1265 :     for (int sym1__ = 1; sym1__ &lt;= K; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1266 :       for (int sym2__ = 1; sym2__ &lt;= w_out_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1267 :         param_names__.emplace_back(std::string() + "w_out" + '.' +</span></span>
<span><span class="co">#&gt; 1268 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1269 :       }</span></span>
<span><span class="co">#&gt; 1270 :     }</span></span>
<span><span class="co">#&gt; 1271 :     for (int sym1__ = 1; sym1__ &lt;= K; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1272 :       param_names__.emplace_back(std::string() + "b_out" + '.' +</span></span>
<span><span class="co">#&gt; 1273 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1274 :     }</span></span>
<span><span class="co">#&gt; 1275 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt; 1276 :       for (int sym1__ = 1; sym1__ &lt;= z1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1277 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1278 :           param_names__.emplace_back(std::string() + "z1" + '.' +</span></span>
<span><span class="co">#&gt; 1279 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1280 :         }</span></span>
<span><span class="co">#&gt; 1281 :       }</span></span>
<span><span class="co">#&gt; 1282 :       for (int sym1__ = 1; sym1__ &lt;= a1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1283 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1284 :           param_names__.emplace_back(std::string() + "a1" + '.' +</span></span>
<span><span class="co">#&gt; 1285 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1286 :         }</span></span>
<span><span class="co">#&gt; 1287 :       }</span></span>
<span><span class="co">#&gt; 1288 :       for (int sym1__ = 1; sym1__ &lt;= z2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1289 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1290 :           param_names__.emplace_back(std::string() + "z2" + '.' +</span></span>
<span><span class="co">#&gt; 1291 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1292 :         }</span></span>
<span><span class="co">#&gt; 1293 :       }</span></span>
<span><span class="co">#&gt; 1294 :       for (int sym1__ = 1; sym1__ &lt;= a2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1295 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1296 :           param_names__.emplace_back(std::string() + "a2" + '.' +</span></span>
<span><span class="co">#&gt; 1297 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1298 :         }</span></span>
<span><span class="co">#&gt; 1299 :       }</span></span>
<span><span class="co">#&gt; 1300 :       for (int sym1__ = 1; sym1__ &lt;= z3_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1301 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1302 :           param_names__.emplace_back(std::string() + "z3" + '.' +</span></span>
<span><span class="co">#&gt; 1303 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1304 :         }</span></span>
<span><span class="co">#&gt; 1305 :       }</span></span>
<span><span class="co">#&gt; 1306 :       for (int sym1__ = 1; sym1__ &lt;= a3_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1307 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1308 :           param_names__.emplace_back(std::string() + "a3" + '.' +</span></span>
<span><span class="co">#&gt; 1309 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1310 :         }</span></span>
<span><span class="co">#&gt; 1311 :       }</span></span>
<span><span class="co">#&gt; 1312 :       for (int sym1__ = 1; sym1__ &lt;= K; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1313 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1314 :           param_names__.emplace_back(std::string() + "y_hat" + '.' +</span></span>
<span><span class="co">#&gt; 1315 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1316 :         }</span></span>
<span><span class="co">#&gt; 1317 :       }</span></span>
<span><span class="co">#&gt; 1318 :     }</span></span>
<span><span class="co">#&gt; 1319 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt; 1320 :   }</span></span>
<span><span class="co">#&gt; 1321 :   inline void</span></span>
<span><span class="co">#&gt; 1322 :   unconstrained_param_names(std::vector&lt;std::string&gt;&amp; param_names__, bool</span></span>
<span><span class="co">#&gt; 1323 :                             emit_transformed_parameters__ = true, bool</span></span>
<span><span class="co">#&gt; 1324 :                             emit_generated_quantities__ = true) const final {</span></span>
<span><span class="co">#&gt; 1325 :     for (int sym1__ = 1; sym1__ &lt;= w1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1326 :       for (int sym2__ = 1; sym2__ &lt;= m; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1327 :         param_names__.emplace_back(std::string() + "w1" + '.' +</span></span>
<span><span class="co">#&gt; 1328 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1329 :       }</span></span>
<span><span class="co">#&gt; 1330 :     }</span></span>
<span><span class="co">#&gt; 1331 :     for (int sym1__ = 1; sym1__ &lt;= b1_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1332 :       param_names__.emplace_back(std::string() + "b1" + '.' +</span></span>
<span><span class="co">#&gt; 1333 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1334 :     }</span></span>
<span><span class="co">#&gt; 1335 :     for (int sym1__ = 1; sym1__ &lt;= w2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1336 :       for (int sym2__ = 1; sym2__ &lt;= w2_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1337 :         param_names__.emplace_back(std::string() + "w2" + '.' +</span></span>
<span><span class="co">#&gt; 1338 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1339 :       }</span></span>
<span><span class="co">#&gt; 1340 :     }</span></span>
<span><span class="co">#&gt; 1341 :     for (int sym1__ = 1; sym1__ &lt;= b2_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1342 :       param_names__.emplace_back(std::string() + "b2" + '.' +</span></span>
<span><span class="co">#&gt; 1343 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1344 :     }</span></span>
<span><span class="co">#&gt; 1345 :     for (int sym1__ = 1; sym1__ &lt;= w3_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1346 :       for (int sym2__ = 1; sym2__ &lt;= w3_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1347 :         param_names__.emplace_back(std::string() + "w3" + '.' +</span></span>
<span><span class="co">#&gt; 1348 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1349 :       }</span></span>
<span><span class="co">#&gt; 1350 :     }</span></span>
<span><span class="co">#&gt; 1351 :     for (int sym1__ = 1; sym1__ &lt;= b3_1dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1352 :       param_names__.emplace_back(std::string() + "b3" + '.' +</span></span>
<span><span class="co">#&gt; 1353 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1354 :     }</span></span>
<span><span class="co">#&gt; 1355 :     for (int sym1__ = 1; sym1__ &lt;= K; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1356 :       for (int sym2__ = 1; sym2__ &lt;= w_out_1dim__; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1357 :         param_names__.emplace_back(std::string() + "w_out" + '.' +</span></span>
<span><span class="co">#&gt; 1358 :           std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1359 :       }</span></span>
<span><span class="co">#&gt; 1360 :     }</span></span>
<span><span class="co">#&gt; 1361 :     for (int sym1__ = 1; sym1__ &lt;= K; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1362 :       param_names__.emplace_back(std::string() + "b_out" + '.' +</span></span>
<span><span class="co">#&gt; 1363 :         std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1364 :     }</span></span>
<span><span class="co">#&gt; 1365 :     if (emit_transformed_parameters__) {</span></span>
<span><span class="co">#&gt; 1366 :       for (int sym1__ = 1; sym1__ &lt;= z1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1367 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1368 :           param_names__.emplace_back(std::string() + "z1" + '.' +</span></span>
<span><span class="co">#&gt; 1369 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1370 :         }</span></span>
<span><span class="co">#&gt; 1371 :       }</span></span>
<span><span class="co">#&gt; 1372 :       for (int sym1__ = 1; sym1__ &lt;= a1_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1373 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1374 :           param_names__.emplace_back(std::string() + "a1" + '.' +</span></span>
<span><span class="co">#&gt; 1375 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1376 :         }</span></span>
<span><span class="co">#&gt; 1377 :       }</span></span>
<span><span class="co">#&gt; 1378 :       for (int sym1__ = 1; sym1__ &lt;= z2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1379 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1380 :           param_names__.emplace_back(std::string() + "z2" + '.' +</span></span>
<span><span class="co">#&gt; 1381 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1382 :         }</span></span>
<span><span class="co">#&gt; 1383 :       }</span></span>
<span><span class="co">#&gt; 1384 :       for (int sym1__ = 1; sym1__ &lt;= a2_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1385 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1386 :           param_names__.emplace_back(std::string() + "a2" + '.' +</span></span>
<span><span class="co">#&gt; 1387 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1388 :         }</span></span>
<span><span class="co">#&gt; 1389 :       }</span></span>
<span><span class="co">#&gt; 1390 :       for (int sym1__ = 1; sym1__ &lt;= z3_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1391 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1392 :           param_names__.emplace_back(std::string() + "z3" + '.' +</span></span>
<span><span class="co">#&gt; 1393 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1394 :         }</span></span>
<span><span class="co">#&gt; 1395 :       }</span></span>
<span><span class="co">#&gt; 1396 :       for (int sym1__ = 1; sym1__ &lt;= a3_2dim__; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1397 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1398 :           param_names__.emplace_back(std::string() + "a3" + '.' +</span></span>
<span><span class="co">#&gt; 1399 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1400 :         }</span></span>
<span><span class="co">#&gt; 1401 :       }</span></span>
<span><span class="co">#&gt; 1402 :       for (int sym1__ = 1; sym1__ &lt;= K; ++sym1__) {</span></span>
<span><span class="co">#&gt; 1403 :         for (int sym2__ = 1; sym2__ &lt;= n; ++sym2__) {</span></span>
<span><span class="co">#&gt; 1404 :           param_names__.emplace_back(std::string() + "y_hat" + '.' +</span></span>
<span><span class="co">#&gt; 1405 :             std::to_string(sym2__) + '.' + std::to_string(sym1__));</span></span>
<span><span class="co">#&gt; 1406 :         }</span></span>
<span><span class="co">#&gt; 1407 :       }</span></span>
<span><span class="co">#&gt; 1408 :     }</span></span>
<span><span class="co">#&gt; 1409 :     if (emit_generated_quantities__) {}</span></span>
<span><span class="co">#&gt; 1410 :   }</span></span>
<span><span class="co">#&gt; 1411 :   inline std::string get_constrained_sizedtypes() const {</span></span>
<span><span class="co">#&gt; 1412 :     return std::string("[{\"name\":\"w1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(m) + ",\"cols\":" + std::to_string(w1_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b1\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b1_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(w2_1dim__) + ",\"cols\":" + std::to_string(w2_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b2\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b2_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w3\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(w3_1dim__) + ",\"cols\":" + std::to_string(w3_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b3\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b3_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w_out\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(w_out_1dim__) + ",\"cols\":" + std::to_string(K) + "},\"block\":\"parameters\"},{\"name\":\"b_out\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(K) + "},\"block\":\"parameters\"},{\"name\":\"z1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z1_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a1_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"z2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z2_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a2_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"z3\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z3_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a3\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a3_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"y_hat\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(K) + "},\"block\":\"transformed_parameters\"}]");</span></span>
<span><span class="co">#&gt; 1413 :   }</span></span>
<span><span class="co">#&gt; 1414 :   inline std::string get_unconstrained_sizedtypes() const {</span></span>
<span><span class="co">#&gt; 1415 :     return std::string("[{\"name\":\"w1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(m) + ",\"cols\":" + std::to_string(w1_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b1\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b1_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(w2_1dim__) + ",\"cols\":" + std::to_string(w2_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b2\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b2_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w3\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(w3_1dim__) + ",\"cols\":" + std::to_string(w3_2dim__) + "},\"block\":\"parameters\"},{\"name\":\"b3\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(b3_1dim__) + "},\"block\":\"parameters\"},{\"name\":\"w_out\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(w_out_1dim__) + ",\"cols\":" + std::to_string(K) + "},\"block\":\"parameters\"},{\"name\":\"b_out\",\"type\":{\"name\":\"vector\",\"length\":" + std::to_string(K) + "},\"block\":\"parameters\"},{\"name\":\"z1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z1_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a1\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a1_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"z2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z2_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a2\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a2_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"z3\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(z3_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"a3\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(a3_2dim__) + "},\"block\":\"transformed_parameters\"},{\"name\":\"y_hat\",\"type\":{\"name\":\"matrix\",\"rows\":" + std::to_string(n) + ",\"cols\":" + std::to_string(K) + "},\"block\":\"transformed_parameters\"}]");</span></span>
<span><span class="co">#&gt; 1416 :   }</span></span>
<span><span class="co">#&gt; 1417 :   // Begin method overload boilerplate</span></span>
<span><span class="co">#&gt; 1418 :   template &lt;typename RNG&gt; inline void</span></span>
<span><span class="co">#&gt; 1419 :   write_array(RNG&amp; base_rng, Eigen::Matrix&lt;double,-1,1&gt;&amp; params_r,</span></span>
<span><span class="co">#&gt; 1420 :               Eigen::Matrix&lt;double,-1,1&gt;&amp; vars, const bool</span></span>
<span><span class="co">#&gt; 1421 :               emit_transformed_parameters = true, const bool</span></span>
<span><span class="co">#&gt; 1422 :               emit_generated_quantities = true, std::ostream*</span></span>
<span><span class="co">#&gt; 1423 :               pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1424 :     const size_t num_params__ = ((((((((m * w1_2dim__) + b1_1dim__) +</span></span>
<span><span class="co">#&gt; 1425 :       (w2_1dim__ * w2_2dim__)) + b2_1dim__) + (w3_1dim__ * w3_2dim__)) +</span></span>
<span><span class="co">#&gt; 1426 :       b3_1dim__) + (w_out_1dim__ * K)) + K);</span></span>
<span><span class="co">#&gt; 1427 :     const size_t num_transformed = emit_transformed_parameters * ((((((((n *</span></span>
<span><span class="co">#&gt; 1428 :       z1_2dim__) + (n * a1_2dim__)) + (n * z2_2dim__)) + (n * a2_2dim__)) +</span></span>
<span><span class="co">#&gt; 1429 :       (n * z3_2dim__)) + (n * a3_2dim__)) + (n * K)));</span></span>
<span><span class="co">#&gt; 1430 :     const size_t num_gen_quantities = emit_generated_quantities * (0);</span></span>
<span><span class="co">#&gt; 1431 :     const size_t num_to_write = num_params__ + num_transformed +</span></span>
<span><span class="co">#&gt; 1432 :       num_gen_quantities;</span></span>
<span><span class="co">#&gt; 1433 :     std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt; 1434 :     vars = Eigen::Matrix&lt;double,-1,1&gt;::Constant(num_to_write,</span></span>
<span><span class="co">#&gt; 1435 :              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt; 1436 :     write_array_impl(base_rng, params_r, params_i, vars,</span></span>
<span><span class="co">#&gt; 1437 :       emit_transformed_parameters, emit_generated_quantities, pstream);</span></span>
<span><span class="co">#&gt; 1438 :   }</span></span>
<span><span class="co">#&gt; 1439 :   template &lt;typename RNG&gt; inline void</span></span>
<span><span class="co">#&gt; 1440 :   write_array(RNG&amp; base_rng, std::vector&lt;double&gt;&amp; params_r, std::vector&lt;int&gt;&amp;</span></span>
<span><span class="co">#&gt; 1441 :               params_i, std::vector&lt;double&gt;&amp; vars, bool</span></span>
<span><span class="co">#&gt; 1442 :               emit_transformed_parameters = true, bool</span></span>
<span><span class="co">#&gt; 1443 :               emit_generated_quantities = true, std::ostream*</span></span>
<span><span class="co">#&gt; 1444 :               pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1445 :     const size_t num_params__ = ((((((((m * w1_2dim__) + b1_1dim__) +</span></span>
<span><span class="co">#&gt; 1446 :       (w2_1dim__ * w2_2dim__)) + b2_1dim__) + (w3_1dim__ * w3_2dim__)) +</span></span>
<span><span class="co">#&gt; 1447 :       b3_1dim__) + (w_out_1dim__ * K)) + K);</span></span>
<span><span class="co">#&gt; 1448 :     const size_t num_transformed = emit_transformed_parameters * ((((((((n *</span></span>
<span><span class="co">#&gt; 1449 :       z1_2dim__) + (n * a1_2dim__)) + (n * z2_2dim__)) + (n * a2_2dim__)) +</span></span>
<span><span class="co">#&gt; 1450 :       (n * z3_2dim__)) + (n * a3_2dim__)) + (n * K)));</span></span>
<span><span class="co">#&gt; 1451 :     const size_t num_gen_quantities = emit_generated_quantities * (0);</span></span>
<span><span class="co">#&gt; 1452 :     const size_t num_to_write = num_params__ + num_transformed +</span></span>
<span><span class="co">#&gt; 1453 :       num_gen_quantities;</span></span>
<span><span class="co">#&gt; 1454 :     vars = std::vector&lt;double&gt;(num_to_write,</span></span>
<span><span class="co">#&gt; 1455 :              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt; 1456 :     write_array_impl(base_rng, params_r, params_i, vars,</span></span>
<span><span class="co">#&gt; 1457 :       emit_transformed_parameters, emit_generated_quantities, pstream);</span></span>
<span><span class="co">#&gt; 1458 :   }</span></span>
<span><span class="co">#&gt; 1459 :   template &lt;bool propto__, bool jacobian__, typename T_&gt; inline T_</span></span>
<span><span class="co">#&gt; 1460 :   log_prob(Eigen::Matrix&lt;T_,-1,1&gt;&amp; params_r, std::ostream* pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1461 :     Eigen::Matrix&lt;int,-1,1&gt; params_i;</span></span>
<span><span class="co">#&gt; 1462 :     return log_prob_impl&lt;propto__, jacobian__&gt;(params_r, params_i, pstream);</span></span>
<span><span class="co">#&gt; 1463 :   }</span></span>
<span><span class="co">#&gt; 1464 :   template &lt;bool propto__, bool jacobian__, typename T_&gt; inline T_</span></span>
<span><span class="co">#&gt; 1465 :   log_prob(std::vector&lt;T_&gt;&amp; params_r, std::vector&lt;int&gt;&amp; params_i,</span></span>
<span><span class="co">#&gt; 1466 :            std::ostream* pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1467 :     return log_prob_impl&lt;propto__, jacobian__&gt;(params_r, params_i, pstream);</span></span>
<span><span class="co">#&gt; 1468 :   }</span></span>
<span><span class="co">#&gt; 1469 :   inline void</span></span>
<span><span class="co">#&gt; 1470 :   transform_inits(const stan::io::var_context&amp; context,</span></span>
<span><span class="co">#&gt; 1471 :                   Eigen::Matrix&lt;double,-1,1&gt;&amp; params_r, std::ostream*</span></span>
<span><span class="co">#&gt; 1472 :                   pstream = nullptr) const final {</span></span>
<span><span class="co">#&gt; 1473 :     std::vector&lt;double&gt; params_r_vec(params_r.size());</span></span>
<span><span class="co">#&gt; 1474 :     std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt; 1475 :     transform_inits(context, params_i, params_r_vec, pstream);</span></span>
<span><span class="co">#&gt; 1476 :     params_r = Eigen::Map&lt;Eigen::Matrix&lt;double,-1,1&gt;&gt;(params_r_vec.data(),</span></span>
<span><span class="co">#&gt; 1477 :                  params_r_vec.size());</span></span>
<span><span class="co">#&gt; 1478 :   }</span></span>
<span><span class="co">#&gt; 1479 :   inline void</span></span>
<span><span class="co">#&gt; 1480 :   transform_inits(const stan::io::var_context&amp; context, std::vector&lt;int&gt;&amp;</span></span>
<span><span class="co">#&gt; 1481 :                   params_i, std::vector&lt;double&gt;&amp; vars, std::ostream*</span></span>
<span><span class="co">#&gt; 1482 :                   pstream__ = nullptr) const {</span></span>
<span><span class="co">#&gt; 1483 :     vars.resize(num_params_r__);</span></span>
<span><span class="co">#&gt; 1484 :     transform_inits_impl(context, vars, pstream__);</span></span>
<span><span class="co">#&gt; 1485 :   }</span></span>
<span><span class="co">#&gt; 1486 :   inline void</span></span>
<span><span class="co">#&gt; 1487 :   unconstrain_array(const std::vector&lt;double&gt;&amp; params_constrained,</span></span>
<span><span class="co">#&gt; 1488 :                     std::vector&lt;double&gt;&amp; params_unconstrained, std::ostream*</span></span>
<span><span class="co">#&gt; 1489 :                     pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1490 :     const std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt; 1491 :     params_unconstrained = std::vector&lt;double&gt;(num_params_r__,</span></span>
<span><span class="co">#&gt; 1492 :                              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt; 1493 :     unconstrain_array_impl(params_constrained, params_i,</span></span>
<span><span class="co">#&gt; 1494 :       params_unconstrained, pstream);</span></span>
<span><span class="co">#&gt; 1495 :   }</span></span>
<span><span class="co">#&gt; 1496 :   inline void</span></span>
<span><span class="co">#&gt; 1497 :   unconstrain_array(const Eigen::Matrix&lt;double,-1,1&gt;&amp; params_constrained,</span></span>
<span><span class="co">#&gt; 1498 :                     Eigen::Matrix&lt;double,-1,1&gt;&amp; params_unconstrained,</span></span>
<span><span class="co">#&gt; 1499 :                     std::ostream* pstream = nullptr) const {</span></span>
<span><span class="co">#&gt; 1500 :     const std::vector&lt;int&gt; params_i;</span></span>
<span><span class="co">#&gt; 1501 :     params_unconstrained = Eigen::Matrix&lt;double,-1,1&gt;::Constant(num_params_r__,</span></span>
<span><span class="co">#&gt; 1502 :                              std::numeric_limits&lt;double&gt;::quiet_NaN());</span></span>
<span><span class="co">#&gt; 1503 :     unconstrain_array_impl(params_constrained, params_i,</span></span>
<span><span class="co">#&gt; 1504 :       params_unconstrained, pstream);</span></span>
<span><span class="co">#&gt; 1505 :   }</span></span>
<span><span class="co">#&gt; 1506 : };</span></span>
<span><span class="co">#&gt; 1507 : }</span></span>
<span><span class="co">#&gt; 1508 : using stan_model = model1d3652edf162__namespace::model1d3652edf162_;</span></span>
<span><span class="co">#&gt; 1509 : #ifndef USING_R</span></span>
<span><span class="co">#&gt; 1510 : // Boilerplate</span></span>
<span><span class="co">#&gt; 1511 : stan::model::model_base&amp;</span></span>
<span><span class="co">#&gt; 1512 : new_model(stan::io::var_context&amp; data_context, unsigned int seed,</span></span>
<span><span class="co">#&gt; 1513 :           std::ostream* msg_stream) {</span></span>
<span><span class="co">#&gt; 1514 :   stan_model* m = new stan_model(data_context, seed, msg_stream);</span></span>
<span><span class="co">#&gt; 1515 :   return *m;</span></span>
<span><span class="co">#&gt; 1516 : }</span></span>
<span><span class="co">#&gt; 1517 : stan::math::profile_map&amp; get_stan_profile_data() {</span></span>
<span><span class="co">#&gt; 1518 :   return model1d3652edf162__namespace::profiles__;</span></span>
<span><span class="co">#&gt; 1519 : }</span></span>
<span><span class="co">#&gt; 1520 : #endif</span></span>
<span><span class="co">#&gt; 1521 : #endif</span></span>
<span><span class="co">#&gt; 1522 : </span></span>
<span><span class="co">#&gt; 1523 : RCPP_MODULE(stan_fit4model1d3652edf162__mod) {</span></span>
<span><span class="co">#&gt; 1524 :   class_&lt;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt; &gt;(</span></span>
<span><span class="co">#&gt; 1525 :       "stan_fit4model1d3652edf162_")</span></span>
<span><span class="co">#&gt; 1526 : </span></span>
<span><span class="co">#&gt; 1527 :       .constructor&lt;SEXP, SEXP, SEXP&gt;()</span></span>
<span><span class="co">#&gt; 1528 : </span></span>
<span><span class="co">#&gt; 1529 :       .method(</span></span>
<span><span class="co">#&gt; 1530 :           "call_sampler",</span></span>
<span><span class="co">#&gt; 1531 :           &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::call_sampler)</span></span>
<span><span class="co">#&gt; 1532 :       .method(</span></span>
<span><span class="co">#&gt; 1533 :           "param_names",</span></span>
<span><span class="co">#&gt; 1534 :           &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::param_names)</span></span>
<span><span class="co">#&gt; 1535 :       .method("param_names_oi",</span></span>
<span><span class="co">#&gt; 1536 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1537 :                                boost::random::ecuyer1988&gt;::param_names_oi)</span></span>
<span><span class="co">#&gt; 1538 :       .method("param_fnames_oi",</span></span>
<span><span class="co">#&gt; 1539 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1540 :                                boost::random::ecuyer1988&gt;::param_fnames_oi)</span></span>
<span><span class="co">#&gt; 1541 :       .method(</span></span>
<span><span class="co">#&gt; 1542 :           "param_dims",</span></span>
<span><span class="co">#&gt; 1543 :           &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::param_dims)</span></span>
<span><span class="co">#&gt; 1544 :       .method("param_dims_oi",</span></span>
<span><span class="co">#&gt; 1545 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1546 :                                boost::random::ecuyer1988&gt;::param_dims_oi)</span></span>
<span><span class="co">#&gt; 1547 :       .method("update_param_oi",</span></span>
<span><span class="co">#&gt; 1548 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1549 :                                boost::random::ecuyer1988&gt;::update_param_oi)</span></span>
<span><span class="co">#&gt; 1550 :       .method("param_oi_tidx",</span></span>
<span><span class="co">#&gt; 1551 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1552 :                                boost::random::ecuyer1988&gt;::param_oi_tidx)</span></span>
<span><span class="co">#&gt; 1553 :       .method("grad_log_prob",</span></span>
<span><span class="co">#&gt; 1554 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1555 :                                boost::random::ecuyer1988&gt;::grad_log_prob)</span></span>
<span><span class="co">#&gt; 1556 :       .method("log_prob",</span></span>
<span><span class="co">#&gt; 1557 :               &amp;rstan::stan_fit&lt;stan_model, boost::random::ecuyer1988&gt;::log_prob)</span></span>
<span><span class="co">#&gt; 1558 :       .method("unconstrain_pars",</span></span>
<span><span class="co">#&gt; 1559 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1560 :                                boost::random::ecuyer1988&gt;::unconstrain_pars)</span></span>
<span><span class="co">#&gt; 1561 :       .method("constrain_pars",</span></span>
<span><span class="co">#&gt; 1562 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1563 :                                boost::random::ecuyer1988&gt;::constrain_pars)</span></span>
<span><span class="co">#&gt; 1564 :       .method(</span></span>
<span><span class="co">#&gt; 1565 :           "num_pars_unconstrained",</span></span>
<span><span class="co">#&gt; 1566 :           &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1567 :                            boost::random::ecuyer1988&gt;::num_pars_unconstrained)</span></span>
<span><span class="co">#&gt; 1568 :       .method(</span></span>
<span><span class="co">#&gt; 1569 :           "unconstrained_param_names",</span></span>
<span><span class="co">#&gt; 1570 :           &amp;rstan::stan_fit&lt;</span></span>
<span><span class="co">#&gt; 1571 :               stan_model, boost::random::ecuyer1988&gt;::unconstrained_param_names)</span></span>
<span><span class="co">#&gt; 1572 :       .method(</span></span>
<span><span class="co">#&gt; 1573 :           "constrained_param_names",</span></span>
<span><span class="co">#&gt; 1574 :           &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1575 :                            boost::random::ecuyer1988&gt;::constrained_param_names)</span></span>
<span><span class="co">#&gt; 1576 :       .method("standalone_gqs",</span></span>
<span><span class="co">#&gt; 1577 :               &amp;rstan::stan_fit&lt;stan_model,</span></span>
<span><span class="co">#&gt; 1578 :                                boost::random::ecuyer1988&gt;::standalone_gqs);</span></span>
<span><span class="co">#&gt; 1579 : }</span></span>
<span><span class="co">#&gt; 1580 : </span></span>
<span><span class="co">#&gt; 1581 : </span></span>
<span><span class="co">#&gt; 1582 : // declarations</span></span>
<span><span class="co">#&gt; 1583 : extern "C" {</span></span>
<span><span class="co">#&gt; 1584 : SEXP file1d364d6d9987( ) ;</span></span>
<span><span class="co">#&gt; 1585 : }</span></span>
<span><span class="co">#&gt; 1586 : </span></span>
<span><span class="co">#&gt; 1587 : // definition</span></span>
<span><span class="co">#&gt; 1588 : SEXP file1d364d6d9987() {</span></span>
<span><span class="co">#&gt; 1589 :  return Rcpp::wrap("anon_model");</span></span>
<span><span class="co">#&gt; 1590 : }</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; CHECKING DATA AND PREPROCESSING FOR MODEL 'anon_model' NOW.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; COMPILING MODEL 'anon_model' NOW.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; STARTING SAMPLER FOR MODEL 'anon_model' NOW.</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="summarizing-the-model">4. Summarizing the Model<a class="anchor" aria-label="anchor" href="#summarizing-the-model"></a>
</h2>
<p>Use the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> function to view details of the fitted
model, including the network architecture, posterior distributions, and
predictive performance.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model_reg</span><span class="op">)</span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; bnns.default(formula = y ~ -1 + x1 + x2, data = df, L = 2, nodes = c(16, </span></span>
<span><span class="co">#&gt;     8), act_fn = c(2, 3), out_act_fn = 1, iter = 200, warmup = 100, </span></span>
<span><span class="co">#&gt;     chains = 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Data Summary:</span></span>
<span><span class="co">#&gt; Number of observations: 10 </span></span>
<span><span class="co">#&gt; Number of features: 2 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Network Architecture:</span></span>
<span><span class="co">#&gt; Number of hidden layers: 2 </span></span>
<span><span class="co">#&gt; Nodes per layer: 16, 8 </span></span>
<span><span class="co">#&gt; Activation functions: 2, 3 </span></span>
<span><span class="co">#&gt; Output activation function: 1 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Posterior Summary (Key Parameters):</span></span>
<span><span class="co">#&gt;                 mean    se_mean        sd       2.5%        25%          50%</span></span>
<span><span class="co">#&gt; w_out[1] -0.10198284 0.14234573 1.1509261 -2.3465344 -0.9310721 -0.044826796</span></span>
<span><span class="co">#&gt; w_out[2]  0.04577008 0.11614828 1.0015612 -1.9138942 -0.6495277 -0.007745432</span></span>
<span><span class="co">#&gt; w_out[3] -0.04075107 0.08738532 0.9189875 -1.8421486 -0.7018924  0.016591141</span></span>
<span><span class="co">#&gt; w_out[4] -0.12898385 0.10433181 0.9657694 -1.8705094 -0.8236752 -0.161414637</span></span>
<span><span class="co">#&gt; w_out[5]  0.04441101 0.14399470 0.9149602 -1.6450550 -0.5014460  0.074000706</span></span>
<span><span class="co">#&gt; w_out[6]  0.09181270 0.09365504 1.0175930 -1.7111797 -0.5749220  0.057005885</span></span>
<span><span class="co">#&gt; w_out[7] -0.09465186 0.13233268 1.0584434 -2.1755971 -0.8580435  0.008400356</span></span>
<span><span class="co">#&gt; w_out[8]  0.09424769 0.09008563 0.8242622 -1.8145246 -0.4300790  0.120671263</span></span>
<span><span class="co">#&gt; b_out     0.22837885 0.09277325 0.9273436 -1.4422208 -0.4423550  0.234050858</span></span>
<span><span class="co">#&gt; sigma     0.93627917 0.03072003 0.2678280  0.5408225  0.7386355  0.886663758</span></span>
<span><span class="co">#&gt;                75%    97.5%     n_eff      Rhat</span></span>
<span><span class="co">#&gt; w_out[1] 0.6455087 1.872981  65.37414 1.0294148</span></span>
<span><span class="co">#&gt; w_out[2] 0.7022393 2.057543  74.35829 0.9961894</span></span>
<span><span class="co">#&gt; w_out[3] 0.5498031 1.697787 110.59672 0.9909493</span></span>
<span><span class="co">#&gt; w_out[4] 0.4874982 1.706104  85.68671 1.0311843</span></span>
<span><span class="co">#&gt; w_out[5] 0.5386251 1.930949  40.37489 1.0143750</span></span>
<span><span class="co">#&gt; w_out[6] 0.7953263 1.971914 118.05542 1.0181717</span></span>
<span><span class="co">#&gt; w_out[7] 0.5742348 1.845179  63.97364 0.9900240</span></span>
<span><span class="co">#&gt; w_out[8] 0.6472984 1.707112  83.71817 1.0260238</span></span>
<span><span class="co">#&gt; b_out    0.8811560 2.089568  99.91618 0.9960687</span></span>
<span><span class="co">#&gt; sigma    1.0861037 1.516254  76.00964 1.0077324</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model Fit Information:</span></span>
<span><span class="co">#&gt; Iterations: 200 </span></span>
<span><span class="co">#&gt; Warmup: 100 </span></span>
<span><span class="co">#&gt; Thinning: 1 </span></span>
<span><span class="co">#&gt; Chains: 1 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Predictive Performance:</span></span>
<span><span class="co">#&gt; RMSE (training): 0.7223731 </span></span>
<span><span class="co">#&gt; MAE (training): 0.5778231 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Notes:</span></span>
<span><span class="co">#&gt; Check convergence diagnostics for parameters with high R-hat values.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model_bin</span><span class="op">)</span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; bnns.default(formula = y_bin ~ -1 + x1 + x2, data = df, L = 1, </span></span>
<span><span class="co">#&gt;     nodes = c(16), act_fn = c(2), out_act_fn = 2, iter = 200, </span></span>
<span><span class="co">#&gt;     warmup = 100, chains = 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Data Summary:</span></span>
<span><span class="co">#&gt; Number of observations: 10 </span></span>
<span><span class="co">#&gt; Number of features: 2 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Network Architecture:</span></span>
<span><span class="co">#&gt; Number of hidden layers: 1 </span></span>
<span><span class="co">#&gt; Nodes per layer: 16 </span></span>
<span><span class="co">#&gt; Activation functions: 2 </span></span>
<span><span class="co">#&gt; Output activation function: 2 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Posterior Summary (Key Parameters):</span></span>
<span><span class="co">#&gt;                  mean    se_mean        sd      2.5%        25%          50%</span></span>
<span><span class="co">#&gt; w_out[1]  -0.04345777 0.07981887 1.1288093 -2.280074 -0.7739249 -0.084563996</span></span>
<span><span class="co">#&gt; w_out[2]  -0.10854421 0.06492203 0.9181362 -1.820706 -0.8158379 -0.129244986</span></span>
<span><span class="co">#&gt; w_out[3]  -0.04733930 0.08728398 1.1709530 -2.284902 -0.6974198 -0.069762017</span></span>
<span><span class="co">#&gt; w_out[4]  -0.07442612 0.08746013 1.0056823 -1.765856 -0.8388857  0.060868077</span></span>
<span><span class="co">#&gt; w_out[5]  -0.08251131 0.07005253 0.9739135 -1.941951 -0.6649070 -0.067906255</span></span>
<span><span class="co">#&gt; w_out[6]  -0.09651904 0.06661793 0.9421197 -1.831560 -0.6940963 -0.023229666</span></span>
<span><span class="co">#&gt; w_out[7]  -0.08778892 0.07564171 0.9924330 -1.866496 -0.8478535 -0.103602978</span></span>
<span><span class="co">#&gt; w_out[8]   0.02903283 0.07734812 1.0896562 -2.087356 -0.6706888  0.067145045</span></span>
<span><span class="co">#&gt; w_out[9]  -0.13078702 0.06295167 0.7584826 -1.601768 -0.5649343 -0.112141100</span></span>
<span><span class="co">#&gt; w_out[10] -0.08238946 0.07941397 0.8960922 -1.871830 -0.8553466  0.008721204</span></span>
<span><span class="co">#&gt; w_out[11] -0.10940235 0.05845876 0.8267317 -1.569305 -0.7004692 -0.164975023</span></span>
<span><span class="co">#&gt; w_out[12] -0.13958470 0.07291295 0.9105779 -2.086525 -0.6294893 -0.114593361</span></span>
<span><span class="co">#&gt; w_out[13] -0.16140507 0.07681523 0.8308345 -1.642827 -0.7390763 -0.265218071</span></span>
<span><span class="co">#&gt; w_out[14] -0.10621591 0.07937302 1.1225040 -2.145834 -1.0087129 -0.124112967</span></span>
<span><span class="co">#&gt; w_out[15] -0.18700148 0.07406293 1.0021791 -2.049505 -0.8018032 -0.185735154</span></span>
<span><span class="co">#&gt; w_out[16] -0.13709871 0.07999005 0.8108405 -1.737055 -0.6493309 -0.061811801</span></span>
<span><span class="co">#&gt; b_out     -0.10677161 0.05751580 0.7707151 -1.655863 -0.7079414 -0.003325278</span></span>
<span><span class="co">#&gt;                 75%    97.5%    n_eff      Rhat</span></span>
<span><span class="co">#&gt; w_out[1]  0.6424576 2.323639 200.0000 0.9900273</span></span>
<span><span class="co">#&gt; w_out[2]  0.4732469 1.862930 200.0000 1.0000001</span></span>
<span><span class="co">#&gt; w_out[3]  0.5712573 1.929134 179.9740 0.9916430</span></span>
<span><span class="co">#&gt; w_out[4]  0.5484194 2.061503 132.2213 1.0338821</span></span>
<span><span class="co">#&gt; w_out[5]  0.6097928 1.561309 193.2828 0.9924725</span></span>
<span><span class="co">#&gt; w_out[6]  0.5037707 1.614188 200.0000 1.0137819</span></span>
<span><span class="co">#&gt; w_out[7]  0.6459444 1.745976 172.1392 0.9941446</span></span>
<span><span class="co">#&gt; w_out[8]  0.8734678 1.919111 198.4630 0.9904989</span></span>
<span><span class="co">#&gt; w_out[9]  0.2781727 1.195860 145.1699 0.9908800</span></span>
<span><span class="co">#&gt; w_out[10] 0.5593301 1.452123 127.3244 0.9988283</span></span>
<span><span class="co">#&gt; w_out[11] 0.5374080 1.444190 200.0000 0.9928589</span></span>
<span><span class="co">#&gt; w_out[12] 0.3257585 1.587033 155.9642 0.9937455</span></span>
<span><span class="co">#&gt; w_out[13] 0.4468593 1.392755 116.9861 0.9964299</span></span>
<span><span class="co">#&gt; w_out[14] 0.6969567 2.039603 200.0000 0.9926457</span></span>
<span><span class="co">#&gt; w_out[15] 0.4123997 1.913980 183.1002 0.9906695</span></span>
<span><span class="co">#&gt; w_out[16] 0.4020165 1.462336 102.7541 0.9914435</span></span>
<span><span class="co">#&gt; b_out     0.4391922 1.189386 179.5616 0.9916888</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model Fit Information:</span></span>
<span><span class="co">#&gt; Iterations: 200 </span></span>
<span><span class="co">#&gt; Warmup: 100 </span></span>
<span><span class="co">#&gt; Thinning: 1 </span></span>
<span><span class="co">#&gt; Chains: 1 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Predictive Performance:</span></span>
<span><span class="co">#&gt; Setting levels: control = 0, case = 1</span></span>
<span><span class="co">#&gt; Setting direction: controls &lt; cases</span></span>
<span><span class="co">#&gt; Confusion matrix (training with 0.5 cutoff): 7 3 </span></span>
<span><span class="co">#&gt; Accuracy (training with 0.5 cutoff): 0.7 </span></span>
<span><span class="co">#&gt; 0.7142857 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Notes:</span></span>
<span><span class="co">#&gt; Check convergence diagnostics for parameters with high R-hat values.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">model_cat</span><span class="op">)</span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; bnns.default(formula = y_cat ~ -1 + x1 + x2, data = df, L = 3, </span></span>
<span><span class="co">#&gt;     nodes = c(32, 16, 8), act_fn = c(3, 2, 2), out_act_fn = 3, </span></span>
<span><span class="co">#&gt;     iter = 200, warmup = 100, chains = 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Data Summary:</span></span>
<span><span class="co">#&gt; Number of observations: 10 </span></span>
<span><span class="co">#&gt; Number of features: 2 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Network Architecture:</span></span>
<span><span class="co">#&gt; Number of hidden layers: 3 </span></span>
<span><span class="co">#&gt; Nodes per layer: 32, 16, 8 </span></span>
<span><span class="co">#&gt; Activation functions: 3, 2, 2 </span></span>
<span><span class="co">#&gt; Output activation function: 3 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Posterior Summary (Key Parameters):</span></span>
<span><span class="co">#&gt;                   mean    se_mean        sd      2.5%        25%         50%</span></span>
<span><span class="co">#&gt; w_out[1,1]  0.01394526 0.07036622 0.9951286 -1.842787 -0.7352138  0.03492211</span></span>
<span><span class="co">#&gt; w_out[1,2] -0.08280125 0.06549208 0.9261979 -1.725050 -0.5972658 -0.05306723</span></span>
<span><span class="co">#&gt; w_out[1,3]  0.01573850 0.06314323 0.8929801 -1.599088 -0.6772641  0.04761421</span></span>
<span><span class="co">#&gt; w_out[2,1]  0.07036115 0.06026366 0.8522569 -1.402218 -0.5240907  0.04511580</span></span>
<span><span class="co">#&gt; w_out[2,2] -0.12329278 0.07094791 1.0033549 -2.001673 -0.7256266 -0.20538396</span></span>
<span><span class="co">#&gt; w_out[2,3]  0.01790976 0.06701062 0.9476732 -1.679826 -0.7097821  0.09160038</span></span>
<span><span class="co">#&gt; w_out[3,1]  0.03239133 0.08259533 1.1680744 -2.254300 -0.8092592  0.12058830</span></span>
<span><span class="co">#&gt; w_out[3,2] -0.07898128 0.09486460 1.1532263 -2.391624 -0.8628898 -0.25924333</span></span>
<span><span class="co">#&gt; w_out[3,3] -0.07272037 0.06814890 0.9637709 -2.103192 -0.8542239  0.03632515</span></span>
<span><span class="co">#&gt; w_out[4,1]  0.05156983 0.07059578 0.9983751 -1.840065 -0.5747548 -0.02963318</span></span>
<span><span class="co">#&gt; w_out[4,2] -0.09714691 0.05740685 0.8118555 -1.538313 -0.6320181 -0.10185898</span></span>
<span><span class="co">#&gt; w_out[4,3]  0.03644411 0.07437223 1.0517822 -1.689593 -0.6589942  0.06534725</span></span>
<span><span class="co">#&gt; w_out[5,1]  0.04368120 0.05885995 0.8324054 -1.533618 -0.4949419  0.02237846</span></span>
<span><span class="co">#&gt; w_out[5,2] -0.08286049 0.08133546 1.1502570 -2.248796 -0.8874759 -0.11065365</span></span>
<span><span class="co">#&gt; w_out[5,3]  0.02237333 0.05802117 0.8205433 -1.794007 -0.4839838  0.01150155</span></span>
<span><span class="co">#&gt; w_out[6,1]  0.14088588 0.07903914 1.1177822 -2.089278 -0.4444319  0.12407505</span></span>
<span><span class="co">#&gt; w_out[6,2] -0.11847308 0.06254868 0.8845720 -1.704537 -0.7062881 -0.03704612</span></span>
<span><span class="co">#&gt; w_out[6,3]  0.05785091 0.06478514 0.9162003 -1.764157 -0.5177482 -0.02077027</span></span>
<span><span class="co">#&gt; w_out[7,1]  0.12612793 0.07646742 1.0814126 -2.216329 -0.6519762  0.07510610</span></span>
<span><span class="co">#&gt; w_out[7,2] -0.05932307 0.06164795 0.8718337 -1.755824 -0.6138528 -0.06745596</span></span>
<span><span class="co">#&gt; w_out[7,3]  0.01842045 0.07330898 0.9390262 -1.690906 -0.6639781 -0.03973415</span></span>
<span><span class="co">#&gt; w_out[8,1]  0.12033166 0.05488780 0.7474899 -1.165213 -0.3938527  0.10233644</span></span>
<span><span class="co">#&gt; w_out[8,2] -0.10743562 0.08056516 1.1393635 -1.971649 -1.0039259 -0.07132602</span></span>
<span><span class="co">#&gt; w_out[8,3]  0.02160029 0.07071598 0.9308556 -1.528458 -0.7194426  0.05584917</span></span>
<span><span class="co">#&gt; b_out[1]    0.14097861 0.06239699 0.8824267 -1.895995 -0.4287659  0.11257944</span></span>
<span><span class="co">#&gt; b_out[2]   -0.20330320 0.07263399 1.0271997 -2.288989 -0.8910927 -0.23371122</span></span>
<span><span class="co">#&gt; b_out[3]   -0.08665864 0.07534820 1.0655845 -1.986733 -0.8796537 -0.21590654</span></span>
<span><span class="co">#&gt;                  75%    97.5%    n_eff      Rhat</span></span>
<span><span class="co">#&gt; w_out[1,1] 0.7880883 1.711400 200.0000 0.9906571</span></span>
<span><span class="co">#&gt; w_out[1,2] 0.4556183 1.960764 200.0000 0.9905777</span></span>
<span><span class="co">#&gt; w_out[1,3] 0.7699205 1.473742 200.0000 0.9899590</span></span>
<span><span class="co">#&gt; w_out[2,1] 0.6176310 1.785358 200.0000 1.0185192</span></span>
<span><span class="co">#&gt; w_out[2,2] 0.5950283 1.726812 200.0000 0.9908967</span></span>
<span><span class="co">#&gt; w_out[2,3] 0.7451203 1.467679 200.0000 0.9900956</span></span>
<span><span class="co">#&gt; w_out[3,1] 0.9091794 2.202241 200.0000 0.9899530</span></span>
<span><span class="co">#&gt; w_out[3,2] 0.9128163 1.884212 147.7817 0.9953293</span></span>
<span><span class="co">#&gt; w_out[3,3] 0.6750217 1.512576 200.0000 0.9908107</span></span>
<span><span class="co">#&gt; w_out[4,1] 0.7711055 1.868197 200.0000 0.9906220</span></span>
<span><span class="co">#&gt; w_out[4,2] 0.4448852 1.327239 200.0000 0.9899551</span></span>
<span><span class="co">#&gt; w_out[4,3] 0.8367175 1.780680 200.0000 0.9925562</span></span>
<span><span class="co">#&gt; w_out[5,1] 0.6464946 1.560538 200.0000 0.9910343</span></span>
<span><span class="co">#&gt; w_out[5,2] 0.6141291 2.314026 200.0000 0.9900906</span></span>
<span><span class="co">#&gt; w_out[5,3] 0.5216419 1.652119 200.0000 0.9906631</span></span>
<span><span class="co">#&gt; w_out[6,1] 0.8638882 2.474803 200.0000 0.9910499</span></span>
<span><span class="co">#&gt; w_out[6,2] 0.4958150 1.463965 200.0000 0.9925982</span></span>
<span><span class="co">#&gt; w_out[6,3] 0.6543789 1.619203 200.0000 0.9900060</span></span>
<span><span class="co">#&gt; w_out[7,1] 0.9462813 1.900933 200.0000 0.9901126</span></span>
<span><span class="co">#&gt; w_out[7,2] 0.4982239 1.534793 200.0000 0.9978339</span></span>
<span><span class="co">#&gt; w_out[7,3] 0.7258390 1.897475 164.0745 0.9911252</span></span>
<span><span class="co">#&gt; w_out[8,1] 0.6205414 1.530701 185.4637 0.9906603</span></span>
<span><span class="co">#&gt; w_out[8,2] 0.7456442 2.089929 200.0000 0.9963176</span></span>
<span><span class="co">#&gt; w_out[8,3] 0.7708924 1.529909 173.2724 1.0134181</span></span>
<span><span class="co">#&gt; b_out[1]   0.7355672 1.824535 200.0000 0.9904573</span></span>
<span><span class="co">#&gt; b_out[2]   0.4550961 1.747758 200.0000 0.9974122</span></span>
<span><span class="co">#&gt; b_out[3]   0.6986215 1.867415 200.0000 0.9916260</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model Fit Information:</span></span>
<span><span class="co">#&gt; Iterations: 200 </span></span>
<span><span class="co">#&gt; Warmup: 100 </span></span>
<span><span class="co">#&gt; Thinning: 1 </span></span>
<span><span class="co">#&gt; Chains: 1 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Predictive Performance:</span></span>
<span><span class="co">#&gt; Log-loss (training): 1.014759 </span></span>
<span><span class="co">#&gt; AUC (training): 0.8555556 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Notes:</span></span>
<span><span class="co">#&gt; Check convergence diagnostics for parameters with high R-hat values.</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="making-predictions">5. Making Predictions<a class="anchor" aria-label="anchor" href="#making-predictions"></a>
</h2>
<p>The <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> function generates predictions for new
data. The format of predictions depends on the output activation
function.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># New data</span></span>
<span><span class="va">test_x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">5</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">`colnames&lt;-`</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x1"</span>, <span class="st">"x2"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Regression predictions</span></span>
<span><span class="va">pred_reg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">model_reg</span>, <span class="va">test_x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Binary classification predictions</span></span>
<span><span class="va">pred_bin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">model_bin</span>, <span class="va">test_x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Multiclass classification predictions</span></span>
<span><span class="va">pred_cat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">model_cat</span>, <span class="va">test_x</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="evaluating-the-model">6. Evaluating the Model<a class="anchor" aria-label="anchor" href="#evaluating-the-model"></a>
</h2>
<p>The <code>bnns</code> package includes utility functions like
<code>measure_cont</code>, <code>measure_bin</code>, and
<code>measure_cat</code> for evaluating model performance.</p>
<div class="section level3">
<h3 id="regression-evaluation">Regression Evaluation<a class="anchor" aria-label="anchor" href="#regression-evaluation"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># True responses</span></span>
<span><span class="va">test_y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Evaluate predictions</span></span>
<span><span class="va">metrics_reg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/measure_cont.html">measure_cont</a></span><span class="op">(</span>obs <span class="op">=</span> <span class="va">test_y</span>, pred <span class="op">=</span> <span class="va">pred_reg</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">metrics_reg</span><span class="op">)</span></span>
<span><span class="co">#&gt; $rmse</span></span>
<span><span class="co">#&gt; [1] 0.7465952</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $mae</span></span>
<span><span class="co">#&gt; [1] 0.649243</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="binary-classification-evaluation">Binary Classification Evaluation<a class="anchor" aria-label="anchor" href="#binary-classification-evaluation"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># True responses</span></span>
<span><span class="va">test_y_bin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Evaluate predictions</span></span>
<span><span class="va">metrics_bin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/measure_bin.html">measure_bin</a></span><span class="op">(</span>obs <span class="op">=</span> <span class="va">test_y_bin</span>, pred <span class="op">=</span> <span class="va">pred_bin</span><span class="op">)</span></span>
<span><span class="co">#&gt; Setting levels: control = 0, case = 1</span></span>
<span><span class="co">#&gt; Setting direction: controls &lt; cases</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">metrics_bin</span><span class="op">)</span></span>
<span><span class="co">#&gt; $conf_mat</span></span>
<span><span class="co">#&gt;    pred_label</span></span>
<span><span class="co">#&gt; obs 0</span></span>
<span><span class="co">#&gt;   0 2</span></span>
<span><span class="co">#&gt;   1 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $accuracy</span></span>
<span><span class="co">#&gt; [1] 0.4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ROC</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; roc.default(response = obs, predictor = pred)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Data: pred in 2 controls (obs 0) &lt; 3 cases (obs 1).</span></span>
<span><span class="co">#&gt; Area under the curve: 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $AUC</span></span>
<span><span class="co">#&gt; [1] 1</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multiclass-classification-evaluation">Multiclass Classification Evaluation<a class="anchor" aria-label="anchor" href="#multiclass-classification-evaluation"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># True responses</span></span>
<span><span class="va">test_y_cat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>, <span class="fl">5</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Evaluate predictions</span></span>
<span><span class="va">metrics_cat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/measure_cat.html">measure_cat</a></span><span class="op">(</span>obs <span class="op">=</span> <span class="va">test_y_cat</span>, pred <span class="op">=</span> <span class="va">pred_cat</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">metrics_cat</span><span class="op">)</span></span>
<span><span class="co">#&gt; $log_loss</span></span>
<span><span class="co">#&gt; [1] 1.083396</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ROC</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; multiclass.roc.default(response = obs, predictor = `colnames&lt;-`(data.frame(pred),     levels(obs)))</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Data: multivariate predictor `colnames&lt;-`(data.frame(pred), levels(obs)) with 3 levels of obs: a, b, c.</span></span>
<span><span class="co">#&gt; Multi-class area under the curve: 0.625</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $AUC</span></span>
<span><span class="co">#&gt; [1] 0.625</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="notes-on-bayesian-neural-networks">8. Notes on Bayesian Neural Networks<a class="anchor" aria-label="anchor" href="#notes-on-bayesian-neural-networks"></a>
</h2>
<ul>
<li>Bayesian inference allows for uncertainty quantification in
predictions.</li>
<li>Always check convergence diagnostics such as R-hat values.</li>
<li>Use informative priors when possible to stabilize the model.</li>
</ul>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>For more details, consult the source code on <a href="https://github.com/swarnendu-stat/bnns" class="external-link">GitHub</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Swarnendu Chatterjee.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
